<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-skills/video_processing_editing/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Video Processing &amp; Editing | Some Skills</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://someclaudeskills.com/img/og-image.png"><meta data-rh="true" name="twitter:image" content="https://someclaudeskills.com/img/og-image.png"><meta data-rh="true" property="og:url" content="https://someclaudeskills.com/docs/skills/video_processing_editing"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Video Processing &amp; Editing | Some Skills"><meta data-rh="true" name="description" content="FFmpeg automation for cutting, trimming, concatenating videos. Audio mixing, timeline editing, transitions, effects. Export optimization for YouTube, social media. Subtitle handling, color grading, batch processing. Use for videogen projects, content creation, automated video production. Activate on &quot;video editing&quot;, &quot;FFmpeg&quot;, &quot;trim video&quot;, &quot;concatenate&quot;, &quot;transitions&quot;, &quot;export optimization&quot;. NOT for real-time video editing UI, 3D compositing, or motion graphics."><meta data-rh="true" property="og:description" content="FFmpeg automation for cutting, trimming, concatenating videos. Audio mixing, timeline editing, transitions, effects. Export optimization for YouTube, social media. Subtitle handling, color grading, batch processing. Use for videogen projects, content creation, automated video production. Activate on &quot;video editing&quot;, &quot;FFmpeg&quot;, &quot;trim video&quot;, &quot;concatenate&quot;, &quot;transitions&quot;, &quot;export optimization&quot;. NOT for real-time video editing UI, 3D compositing, or motion graphics."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://someclaudeskills.com/docs/skills/video_processing_editing"><link data-rh="true" rel="alternate" href="https://someclaudeskills.com/docs/skills/video_processing_editing" hreflang="en"><link data-rh="true" rel="alternate" href="https://someclaudeskills.com/docs/skills/video_processing_editing" hreflang="x-default"><link key="docusaurus-plugin-plausible-preconnect" rel="preconnect" href="https://plausible.io">
<script key="docusaurus-plugin-plausible-script" async defer="defer" data-domain="someclaudeskills.com" src="https://plausible.io/js/plausible.js"></script>
<script key="docusaurus-plugin-plausible-custom-events">window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script><link rel="stylesheet" href="/assets/css/styles.c412cc57.css">
<script src="/assets/js/runtime~main.6b7ecfba.js" defer="defer"></script>
<script src="/assets/js/main.5e380d0d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("data-theme-choice","light"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><link rel="preload" as="image" href="/img/covers/1999-lofi.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Some Skills" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Some Skills" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Some Skills</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Skills</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/skills">üéØ Browse All Skills</a></li><li><a class="dropdown__link" href="/favorites">‚≠ê My Favorites</a></li><li><a class="dropdown__link" href="/submit-skill">üí° Got an Idea?</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Explore</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/artifacts">üé® Examples &amp; Artifacts</a></li><li><a class="dropdown__link" href="/mcps">üîå MCP Servers</a></li><li><a class="dropdown__link" href="/ecosystem">üåê Ecosystem</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Learn</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/guides/claude-skills-guide">üìñ Getting Started</a></li><li><a class="dropdown__link" href="/docs/intro">üìö Documentation</a></li></ul></div><a class="navbar__item navbar__link navbar-cta-button" href="/submit-skill">‚ú® Add Your Own</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/contact">Hire Me</a><a href="https://github.com/erichowens/some_claude_skills" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="winampShade_N4ee"><div class="titleGrip_Pn5S" title="Double-click for surprise"><div class="gripLines_fCYZ"><span></span><span></span><span></span></div></div><div class="miniArt_ELe6"><img src="/img/covers/1999-lofi.png" alt=""></div><div class="miniVis_f7J7"><div class="visBar_hDkl" style="height:2px"></div><div class="visBar_hDkl" style="height:2px"></div><div class="visBar_hDkl" style="height:2px"></div><div class="visBar_hDkl" style="height:2px"></div><div class="visBar_hDkl" style="height:2px"></div></div><div class="trackCounter_CbRA">01/29</div><div class="trackDisplay_nKjA clickable_lD5b" title="Click to open full player"><div class="marqueeContainer_oQSz"><span class="marqueeText_hBJT">Charli XCX &amp; Troye Sivan<!-- --> - <!-- -->1999 (Lo-Fi)<!-- --> ***</span></div></div><div class="timeDisplay_x4hC">0:00</div><div class="modeButtons_pY8m"><button class="modeBtn_LAu4" title="Shuffle Off"><span class="btnIcon_gEsP">üîÄ</span></button><button class="modeBtn_LAu4" title="Repeat: off"><span class="btnIcon_gEsP">‚Üª</span></button></div><div class="skinSwitcher_wYz6"><button class="skinBtn_wfp4" title="Change skin"><span class="btnIcon_gEsP">üé®</span></button></div><div class="transportButtons_Z10B"><button class="transportBtn__koJ" title="Previous"><span class="btnIcon_gEsP">‚èÆ</span></button><button class="transportBtn__koJ ctaGlow_w3RI" title="Play"><span class="btnIcon_gEsP">‚ñ∂</span><span class="ctaHint_RkE5">Hit Play!</span></button><button class="transportBtn__koJ" title="Stop"><span class="btnIcon_gEsP">‚èπ</span></button><button class="transportBtn__koJ" title="Next"><span class="btnIcon_gEsP">‚è≠</span></button></div><div class="seekBar_X4AZ"><div class="seekFill_cC65" style="width:0%"></div><div class="seekThumb_Rt_U" style="left:0%"></div></div><div class="volumeBar_kkhw" title="Volume: 70%"><div class="volumeFill_ktGw" style="width:70%"></div><div class="volumeThumb_Tde0" style="left:70%"></div></div><button class="expandBtn_CBoV expandCta_n0HA" title="Expand Player"><span>‚ñº</span></button></div><div class="theme-picker navbar-theme-picker"><div class="theme-picker__hotdog">üå≠</div><button class="theme-picker__btn"><span class="theme-picker__icon">üé®</span><span class="theme-picker__label">Theme</span><span class="theme-picker__arrow">‚ñº</span></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><div class="win31-doc-content"><header><h1>Video Processing &amp; Editing</h1></header>
<p>Expert in FFmpeg-based video editing, processing automation, and export optimization for modern content creation workflows.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="when-to-use">When to Use<a href="#when-to-use" class="hash-link" aria-label="Direct link to When to Use" title="Direct link to When to Use" translate="no">‚Äã</a></h2>
<p>‚úÖ <strong>Use for</strong>:</p>
<ul>
<li class="">Automated video editing pipelines (script-to-video)</li>
<li class="">Cutting, trimming, concatenating clips</li>
<li class="">Adding transitions, effects, overlays</li>
<li class="">Audio mixing and normalization</li>
<li class="">Subtitle/caption handling</li>
<li class="">Export optimization for platforms</li>
<li class="">Batch video processing</li>
<li class="">Color grading and correction</li>
</ul>
<p>‚ùå <strong>NOT for</strong>:</p>
<ul>
<li class="">Real-time video editing UI (use DaVinci Resolve/Premiere)</li>
<li class="">3D compositing (use After Effects/Blender)</li>
<li class="">Motion graphics animation (use After Effects)</li>
<li class="">Basic screen recording (use OBS)</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="technology-selection">Technology Selection<a href="#technology-selection" class="hash-link" aria-label="Direct link to Technology Selection" title="Direct link to Technology Selection" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="video-editing-tools">Video Editing Tools<a href="#video-editing-tools" class="hash-link" aria-label="Direct link to Video Editing Tools" title="Direct link to Video Editing Tools" translate="no">‚Äã</a></h3>
<table><thead><tr><th>Tool</th><th>Speed</th><th>Features</th><th>Use Case</th></tr></thead><tbody><tr><td>FFmpeg</td><td>Very Fast</td><td>CLI automation</td><td>Production pipelines</td></tr><tr><td>MoviePy</td><td>Medium</td><td>Python API</td><td>Programmatic editing</td></tr><tr><td>PyAV</td><td>Fast</td><td>Low-level control</td><td>Custom processing</td></tr><tr><td>DaVinci Resolve</td><td>Slow</td><td>Full NLE</td><td>Manual editing</td></tr></tbody></table>
<p><strong>Decision tree</strong>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Need automation? ‚Üí FFmpeg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Need Python API? ‚Üí MoviePy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Need frame-level control? ‚Üí PyAV</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Need manual editing? ‚Üí DaVinci Resolve</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="common-anti-patterns">Common Anti-Patterns<a href="#common-anti-patterns" class="hash-link" aria-label="Direct link to Common Anti-Patterns" title="Direct link to Common Anti-Patterns" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="anti-pattern-1-not-using-keyframe-aligned-cuts">Anti-Pattern 1: Not Using Keyframe-Aligned Cuts<a href="#anti-pattern-1-not-using-keyframe-aligned-cuts" class="hash-link" aria-label="Direct link to Anti-Pattern 1: Not Using Keyframe-Aligned Cuts" title="Direct link to Anti-Pattern 1: Not Using Keyframe-Aligned Cuts" translate="no">‚Äã</a></h3>
<p><strong>Novice thinking</strong>: &quot;Just cut the video at any timestamp&quot;</p>
<p><strong>Problem</strong>: Causes artifacts, black frames, and playback issues.</p>
<p><strong>Wrong approach</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ‚ùå Cut at arbitrary timestamp (not keyframe-aligned)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i input.mp4 -ss 00:01:23.456 -to 00:02:45.678 -c copy output.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Result: Black frames, artifacts, sync issues</span><br></span></code></pre></div></div>
<p><strong>Why wrong</strong>:</p>
<ul>
<li class="">Video codecs use keyframes (I-frames) every 2-10 seconds</li>
<li class="">Non-keyframe cuts require re-encoding</li>
<li class="">Using <code>-c copy</code> (stream copy) without keyframe alignment breaks playback</li>
<li class="">GOP (Group of Pictures) structure depends on keyframes</li>
</ul>
<p><strong>Correct approach 1</strong>: Re-encode for precise cuts</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ‚úÖ Re-encode for frame-accurate cutting</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i input.mp4 -ss 00:01:23.456 -to 00:02:45.678 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v libx264 -crf 18 -preset medium \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:a aac -b:a 192k \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  output.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Frame-accurate, but slower (re-encoding)</span><br></span></code></pre></div></div>
<p><strong>Correct approach 2</strong>: Keyframe-aligned stream copy</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ‚úÖ Fast cutting with keyframe alignment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Step 1: Find keyframes near cut points</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffprobe -select_streams v -show_frames -show_entries frame=pkt_pts_time,key_frame \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -of csv input.mp4 | grep &quot;,1$&quot; | awk -F&#x27;,&#x27; &#x27;{print $2}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Step 2: Cut at nearest keyframes (fast, no re-encoding)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i input.mp4 -ss 00:01:22.000 -to 00:02:46.000 -c copy output.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Blazing fast, no quality loss, but not frame-accurate</span><br></span></code></pre></div></div>
<p><strong>Correct approach 3</strong>: Two-pass for best of both worlds</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ‚úÖ Fast seek + precise cut</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -ss 00:01:20.000 -i input.mp4 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -ss 00:00:03.456 -to 00:01:25.678 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v libx264 -crf 18 -preset medium \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:a aac -b:a 192k \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  output.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># -ss BEFORE -i: Fast seek to keyframe (no decode)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># -ss AFTER -i: Precise trim (only decode needed portion)</span><br></span></code></pre></div></div>
<p><strong>Performance comparison</strong>:</p>
<table><thead><tr><th>Method</th><th>Time (1-hour video)</th><th>Accuracy</th><th>Quality</th></tr></thead><tbody><tr><td>Stream copy (arbitrary)</td><td>2s</td><td>‚ùå Broken</td><td>‚ùå Artifacts</td></tr><tr><td>Stream copy (keyframe)</td><td>2s</td><td>¬±2s</td><td>‚úÖ Perfect</td></tr><tr><td>Re-encode (simple)</td><td>15min</td><td>‚úÖ Frame</td><td>‚ö†Ô∏è Quality loss</td></tr><tr><td>Two-pass (optimal)</td><td>3min</td><td>‚úÖ Frame</td><td>‚úÖ Perfect</td></tr></tbody></table>
<p><strong>Timeline context</strong>:</p>
<ul>
<li class="">2010: FFmpeg required full re-encoding for cuts</li>
<li class="">2015: <code>-c copy</code> added for stream copying</li>
<li class="">2020: Two-pass cutting became best practice</li>
<li class="">2024: Hardware acceleration (NVENC) makes re-encoding viable</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="anti-pattern-2-re-encoding-unnecessarily">Anti-Pattern 2: Re-encoding Unnecessarily<a href="#anti-pattern-2-re-encoding-unnecessarily" class="hash-link" aria-label="Direct link to Anti-Pattern 2: Re-encoding Unnecessarily" title="Direct link to Anti-Pattern 2: Re-encoding Unnecessarily" translate="no">‚Äã</a></h3>
<p><strong>Novice thinking</strong>: &quot;Apply all edits in one FFmpeg command&quot;</p>
<p><strong>Problem</strong>: Multiple re-encodings cause cumulative quality loss.</p>
<p><strong>Wrong approach</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ‚ùå Re-encode for each operation (quality degradation)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Operation 1: Trim</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i input.mp4 -ss 00:01:00 -to 00:05:00 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v libx264 -crf 23 temp1.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Operation 2: Add audio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i temp1.mp4 -i audio.mp3 -c:v libx264 -crf 23 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -map 0:v -map 1:a temp2.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Operation 3: Add subtitles</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i temp2.mp4 -vf subtitles=subs.srt \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v libx264 -crf 23 output.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Result: 3x re-encoding = significant quality loss</span><br></span></code></pre></div></div>
<p><strong>Why wrong</strong>:</p>
<ul>
<li class="">Each re-encode is lossy (even with high CRF)</li>
<li class="">Cumulative quality loss (generation loss)</li>
<li class="">3x encoding time</li>
<li class="">Wasted disk I/O</li>
</ul>
<p><strong>Correct approach 1</strong>: Chain operations in single command</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ‚úÖ Single-pass encoding with all operations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -ss 00:01:00 -i input.mp4 -i audio.mp3 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -to 00:04:00 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -vf &quot;subtitles=subs.srt&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -map 0:v -map 1:a \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v libx264 -crf 18 -preset medium \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:a aac -b:a 192k \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  output.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Single re-encode, all operations applied at once</span><br></span></code></pre></div></div>
<p><strong>Correct approach 2</strong>: Use stream copy when possible</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ‚úÖ Lossless operations with stream copy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Trim (stream copy)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i input.mp4 -ss 00:01:00 -to 00:05:00 -c copy temp.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Add audio (stream copy video, encode audio)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i temp.mp4 -i audio.mp3 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -map 0:v -map 1:a \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v copy -c:a aac -b:a 192k \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  temp2.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Burn subtitles (must re-encode video)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i temp2.mp4 -vf subtitles=subs.srt \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v libx264 -crf 18 -preset medium \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:a copy \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  output.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Only 1 video re-encode (for subtitles)</span><br></span></code></pre></div></div>
<p><strong>Quality comparison</strong>:</p>
<table><thead><tr><th>Method</th><th>Encoding Passes</th><th>Quality (VMAF)</th><th>Time</th></tr></thead><tbody><tr><td>3x re-encode (CRF 23)</td><td>3</td><td>82/100</td><td>45min</td></tr><tr><td>Single pass (CRF 23)</td><td>1</td><td>91/100</td><td>15min</td></tr><tr><td>Stream copy + 1 encode</td><td>1</td><td>95/100</td><td>18min</td></tr><tr><td>All stream copy</td><td>0</td><td>100/100</td><td>30s</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="anti-pattern-3-ignoring-color-space-conversions">Anti-Pattern 3: Ignoring Color Space Conversions<a href="#anti-pattern-3-ignoring-color-space-conversions" class="hash-link" aria-label="Direct link to Anti-Pattern 3: Ignoring Color Space Conversions" title="Direct link to Anti-Pattern 3: Ignoring Color Space Conversions" translate="no">‚Äã</a></h3>
<p><strong>Novice thinking</strong>: &quot;Just concatenate videos together&quot;</p>
<p><strong>Problem</strong>: Color shifts, mismatched brightness, broken playback.</p>
<p><strong>Wrong approach</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ‚ùå Concatenate videos with different color spaces</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># clip1.mp4: BT.709 (HD), yuv420p</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># clip2.mp4: BT.601 (SD), yuvj420p (full range)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># clip3.mp4: BT.2020 (HDR), yuv420p10le</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create concat list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;file &#x27;clip1.mp4&#x27;&quot; &gt; list.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;file &#x27;clip2.mp4&#x27;&quot; &gt;&gt; list.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;file &#x27;clip3.mp4&#x27;&quot; &gt;&gt; list.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Concatenate without color normalization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -f concat -safe 0 -i list.txt -c copy output.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Result: Color shifts between clips, broken HDR metadata</span><br></span></code></pre></div></div>
<p><strong>Why wrong</strong>:</p>
<ul>
<li class="">Different color spaces (BT.601 vs BT.709 vs BT.2020)</li>
<li class="">Different pixel formats (yuv420p vs yuvj420p)</li>
<li class="">Different color ranges (limited vs full)</li>
<li class="">Metadata conflicts</li>
</ul>
<p><strong>Correct approach</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ‚úÖ Normalize color space before concatenation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Step 1: Analyze color space of each clip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffprobe -v error -select_streams v:0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -show_entries stream=color_space,color_transfer,color_primaries,pix_fmt \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -of default=noprint_wrappers=1 clip1.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Step 2: Normalize all clips to common color space</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Target: BT.709 (HD), yuv420p, limited range</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Normalize clip1 (already BT.709)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i clip1.mp4 -c copy clip1_normalized.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Normalize clip2 (BT.601 SD ‚Üí BT.709 HD)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i clip2.mp4 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -vf &quot;scale=in_range=full:out_range=limited,colorspace=bt709:iall=bt601:fast=1&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -color_primaries bt709 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -color_trc bt709 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -colorspace bt709 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v libx264 -crf 18 -preset medium \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:a copy \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  clip2_normalized.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Normalize clip3 (BT.2020 HDR ‚Üí BT.709 SDR)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i clip3.mp4 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -vf &quot;zscale=t=linear:npl=100,format=gbrpf32le,zscale=p=bt709,tonemap=hable:desat=0,zscale=t=bt709:m=bt709:r=limited,format=yuv420p&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -color_primaries bt709 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -color_trc bt709 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -colorspace bt709 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v libx264 -crf 18 -preset medium \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:a copy \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  clip3_normalized.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Step 3: Concatenate normalized clips</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;file &#x27;clip1_normalized.mp4&#x27;&quot; &gt; list.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;file &#x27;clip2_normalized.mp4&#x27;&quot; &gt;&gt; list.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;file &#x27;clip3_normalized.mp4&#x27;&quot; &gt;&gt; list.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -f concat -safe 0 -i list.txt -c copy output.mp4</span><br></span></code></pre></div></div>
<p><strong>Color space guide</strong>:</p>
<table><thead><tr><th>Standard</th><th>Color Space</th><th>Transfer</th><th>Primaries</th><th>Use Case</th></tr></thead><tbody><tr><td>BT.601</td><td>SD</td><td>bt470bg</td><td>bt470bg</td><td>Old SD content</td></tr><tr><td>BT.709</td><td>HD</td><td>bt709</td><td>bt709</td><td>Modern HD/FHD</td></tr><tr><td>BT.2020</td><td>UHD/HDR</td><td>smpte2084</td><td>bt2020</td><td>4K HDR</td></tr><tr><td>sRGB</td><td>Web</td><td>iec61966-2-1</td><td>bt709</td><td>Web delivery</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="anti-pattern-4-poor-audio-sync">Anti-Pattern 4: Poor Audio Sync<a href="#anti-pattern-4-poor-audio-sync" class="hash-link" aria-label="Direct link to Anti-Pattern 4: Poor Audio Sync" title="Direct link to Anti-Pattern 4: Poor Audio Sync" translate="no">‚Äã</a></h3>
<p><strong>Novice thinking</strong>: &quot;Video and audio are separate, just overlay them&quot;</p>
<p><strong>Problem</strong>: Lip sync issues, audio drift, broken playback.</p>
<p><strong>Wrong approach</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ‚ùå Replace audio without sync consideration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i video.mp4 -i audio.mp3 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -map 0:v -map 1:a \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v copy -c:a copy \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  output.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Problems:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># - Audio duration ‚â† video duration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># - No audio stretching/compression</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># - Drift over time</span><br></span></code></pre></div></div>
<p><strong>Why wrong</strong>:</p>
<ul>
<li class="">Audio and video have different durations</li>
<li class="">No timebase synchronization</li>
<li class="">No drift correction</li>
<li class="">Ignores original audio sync</li>
</ul>
<p><strong>Correct approach 1</strong>: Stretch/compress audio to match video</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ‚úÖ Adjust audio speed to match video duration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Get durations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">VIDEO_DUR=$(ffprobe -v error -show_entries format=duration \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -of default=noprint_wrappers=1:nokey=1 video.mp4)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AUDIO_DUR=$(ffprobe -v error -show_entries format=duration \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -of default=noprint_wrappers=1:nokey=1 audio.mp3)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Calculate speed ratio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RATIO=$(echo &quot;$VIDEO_DUR / $AUDIO_DUR&quot; | bc -l)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Stretch audio to match video (with pitch correction)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i video.mp4 -i audio.mp3 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -filter_complex &quot;[1:a]atempo=${RATIO}[a]&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -map 0:v -map &quot;[a]&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v copy -c:a aac -b:a 192k \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  output.mp4</span><br></span></code></pre></div></div>
<p><strong>Correct approach 2</strong>: Precise offset and trim</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ‚úÖ Sync audio with offset and trim</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Audio starts 0.5s late, trim to match video</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i video.mp4 -itsoffset 0.5 -i audio.mp3 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -map 0:v -map 1:a \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -shortest \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v copy -c:a aac -b:a 192k \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  output.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># -itsoffset: Delay audio by 0.5s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># -shortest: Trim to shortest stream</span><br></span></code></pre></div></div>
<p><strong>Correct approach 3</strong>: Mix multiple audio tracks with sync</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ‚úÖ Mix dialogue, music, effects with precise timing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i video.mp4 -i dialogue.wav -i music.mp3 -i sfx.wav \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -filter_complex &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [1:a]adelay=0|0[dlg];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [2:a]volume=0.3,adelay=500|500[mus];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [3:a]adelay=1200|1200[sfx];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [dlg][mus][sfx]amix=inputs=3:duration=first[a]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -map 0:v -map &quot;[a]&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v copy -c:a aac -b:a 256k \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  output.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># adelay: Precise millisecond timing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># amix: Mix multiple audio streams</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># volume: Normalize levels</span><br></span></code></pre></div></div>
<p><strong>Audio sync checklist</strong>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Verify video and audio durations match</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Use -shortest to prevent excess audio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Apply adelay for precise timing offsets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Use atempo for speed adjustment (maintains pitch)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Set audio bitrate appropriately (128k-256k)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Test lip sync at beginning, middle, end</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="anti-pattern-5-wrong-codecbitrate-for-platform">Anti-Pattern 5: Wrong Codec/Bitrate for Platform<a href="#anti-pattern-5-wrong-codecbitrate-for-platform" class="hash-link" aria-label="Direct link to Anti-Pattern 5: Wrong Codec/Bitrate for Platform" title="Direct link to Anti-Pattern 5: Wrong Codec/Bitrate for Platform" translate="no">‚Äã</a></h3>
<p><strong>Novice thinking</strong>: &quot;One export settings for everything&quot;</p>
<p><strong>Problem</strong>: Wasted bandwidth, poor quality, rejected uploads, compatibility issues.</p>
<p><strong>Wrong approach</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ‚ùå Export everything at 4K 50 Mbps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i input.mp4 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v libx264 -b:v 50M -s 3840x2160 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:a aac -b:a 320k \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  output.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># For Instagram story: 2 GB file, rejected (max 100 MB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># For YouTube: Could use 10 Mbps and look identical</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># For Twitter: Exceeds bitrate limits</span><br></span></code></pre></div></div>
<p><strong>Why wrong</strong>:</p>
<ul>
<li class="">Platform-specific size/bitrate limits</li>
<li class="">Over-encoding wastes bandwidth</li>
<li class="">Wrong resolution for platform</li>
<li class="">Incompatible codecs</li>
</ul>
<p><strong>Correct approach</strong>: Platform-optimized exports</p>
<p><strong>YouTube (recommended settings)</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ‚úÖ YouTube 1080p upload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i input.mp4 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v libx264 -preset slow -crf 18 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -s 1920x1080 -r 30 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -pix_fmt yuv420p \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -color_primaries bt709 -color_trc bt709 -colorspace bt709 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -movflags +faststart \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:a aac -b:a 192k -ar 48000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  youtube_1080p.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># YouTube 4K upload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i input.mp4 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v libx264 -preset slow -crf 18 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -s 3840x2160 -r 60 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -pix_fmt yuv420p \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -movflags +faststart \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:a aac -b:a 256k -ar 48000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  youtube_4k.mp4</span><br></span></code></pre></div></div>
<p><strong>Instagram (Stories, Reels, Feed)</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ‚úÖ Instagram Story (9:16, max 100 MB, 15s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i input.mp4 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v libx264 -preset medium -crf 23 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -s 1080x1920 -r 30 -t 15 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -pix_fmt yuv420p \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -movflags +faststart \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:a aac -b:a 128k \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  instagram_story.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ‚úÖ Instagram Reel (9:16, max 90s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i input.mp4 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v libx264 -preset medium -crf 23 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -s 1080x1920 -r 30 -t 90 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -pix_fmt yuv420p \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -movflags +faststart \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:a aac -b:a 128k \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  instagram_reel.mp4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ‚úÖ Instagram Feed (1:1 or 4:5)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i input.mp4 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v libx264 -preset medium -crf 23 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -s 1080x1080 -r 30 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -pix_fmt yuv420p \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -movflags +faststart \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:a aac -b:a 128k \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  instagram_feed.mp4</span><br></span></code></pre></div></div>
<p><strong>Twitter/X</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ‚úÖ Twitter video (max 512 MB, 2:20)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i input.mp4 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v libx264 -preset medium -crf 23 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -s 1280x720 -r 30 -t 140 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -maxrate 5000k -bufsize 10000k \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -pix_fmt yuv420p \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -movflags +faststart \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:a aac -b:a 128k \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  twitter.mp4</span><br></span></code></pre></div></div>
<p><strong>TikTok</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ‚úÖ TikTok (9:16, max 287 MB, 10 min)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i input.mp4 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v libx264 -preset medium -crf 23 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -s 1080x1920 -r 30 -t 600 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -pix_fmt yuv420p \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -movflags +faststart \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:a aac -b:a 128k \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tiktok.mp4</span><br></span></code></pre></div></div>
<p><strong>Web (HTML5 video)</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ‚úÖ Web optimized (fast load, broad compatibility)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i input.mp4 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:v libx264 -preset medium -crf 23 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -s 1920x1080 -r 30 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -pix_fmt yuv420p \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -profile:v baseline -level 3.0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -movflags +faststart \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -c:a aac -b:a 128k -ar 48000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  web.mp4</span><br></span></code></pre></div></div>
<p><strong>Platform specs table</strong>:</p>
<table><thead><tr><th>Platform</th><th>Max Size</th><th>Max Duration</th><th>Resolution</th><th>FPS</th><th>Bitrate</th><th>Codec</th></tr></thead><tbody><tr><td>YouTube</td><td>Unlimited</td><td>Unlimited</td><td>8K</td><td>60</td><td>Auto</td><td>H.264/VP9</td></tr><tr><td>Instagram Story</td><td>100 MB</td><td>15s</td><td>1080x1920</td><td>30</td><td>~5 Mbps</td><td>H.264</td></tr><tr><td>Instagram Reel</td><td>1 GB</td><td>90s</td><td>1080x1920</td><td>30</td><td>~8 Mbps</td><td>H.264</td></tr><tr><td>Twitter</td><td>512 MB</td><td>2:20</td><td>1920x1080</td><td>60</td><td>5 Mbps</td><td>H.264</td></tr><tr><td>TikTok</td><td>287 MB</td><td>10min</td><td>1080x1920</td><td>30</td><td>~4 Mbps</td><td>H.264</td></tr><tr><td>LinkedIn</td><td>5 GB</td><td>10min</td><td>1920x1080</td><td>30</td><td>5 Mbps</td><td>H.264</td></tr><tr><td>Web</td><td>Varies</td><td>Varies</td><td>1920x1080</td><td>30</td><td>2-5 Mbps</td><td>H.264</td></tr></tbody></table>
<p><strong>Export optimization checklist</strong>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Use -movflags +faststart for web (progressive download)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Use -pix_fmt yuv420p for broad compatibility</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Set -r 30 for most platforms (avoid variable framerate)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Use -preset slow for final exports (better quality)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Use -preset ultrafast for drafts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Apply -maxrate and -bufsize for streaming</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Test playback on target platform before bulk export</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="production-checklist">Production Checklist<a href="#production-checklist" class="hash-link" aria-label="Direct link to Production Checklist" title="Direct link to Production Checklist" translate="no">‚Äã</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Align cuts to keyframes (or two-pass seek)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Chain operations in single FFmpeg command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Normalize color spaces before concatenating</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Verify audio/video sync (test at multiple points)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Use platform-specific export presets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Apply -movflags +faststart for web delivery</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Set proper color metadata (bt709 for HD)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Test output file on target platform</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Keep lossless intermediate files (ProRes, FFV1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ñ° Use hardware acceleration for batch jobs (NVENC, VideoToolbox)</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="when-to-use-vs-avoid">When to Use vs Avoid<a href="#when-to-use-vs-avoid" class="hash-link" aria-label="Direct link to When to Use vs Avoid" title="Direct link to When to Use vs Avoid" translate="no">‚Äã</a></h2>
<table><thead><tr><th>Scenario</th><th>Appropriate?</th></tr></thead><tbody><tr><td>Automated video pipeline (script ‚Üí video)</td><td>‚úÖ Yes - FFmpeg automation</td></tr><tr><td>Batch process 100 videos</td><td>‚úÖ Yes - parallel FFmpeg jobs</td></tr><tr><td>Trim/cut clips programmatically</td><td>‚úÖ Yes - precise cutting</td></tr><tr><td>Add subtitles to videos</td><td>‚úÖ Yes - burn or soft subs</td></tr><tr><td>Color grade footage</td><td>‚ö†Ô∏è Limited - basic only</td></tr><tr><td>Multi-cam editing</td><td>‚ùå No - use DaVinci Resolve</td></tr><tr><td>Motion graphics</td><td>‚ùå No - use After Effects</td></tr><tr><td>Real-time preview editing</td><td>‚ùå No - use Premiere/Resolve</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References" translate="no">‚Äã</a></h2>
<ul>
<li class=""><code>/references/ffmpeg-guide.md</code> - Complete FFmpeg command reference</li>
<li class=""><code>/references/timeline-editing.md</code> - Timeline concepts, multi-track editing</li>
<li class=""><code>/references/export-optimization.md</code> - Platform-specific export settings</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="scripts">Scripts<a href="#scripts" class="hash-link" aria-label="Direct link to Scripts" title="Direct link to Scripts" translate="no">‚Äã</a></h2>
<ul>
<li class=""><code>scripts/video_editor.py</code> - Cut, trim, concatenate, transitions, effects</li>
<li class=""><code>scripts/batch_processor.py</code> - Parallel batch video processing</li>
</ul>
<hr>
<p><strong>This skill guides</strong>: Video editing | FFmpeg | Timeline editing | Transitions | Export optimization | Audio mixing | Color grading | Automated video production</p></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="toc-wrapper-with-references"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#when-to-use" class="table-of-contents__link toc-highlight">When to Use</a></li><li><a href="#technology-selection" class="table-of-contents__link toc-highlight">Technology Selection</a><ul><li><a href="#video-editing-tools" class="table-of-contents__link toc-highlight">Video Editing Tools</a></li></ul></li><li><a href="#common-anti-patterns" class="table-of-contents__link toc-highlight">Common Anti-Patterns</a><ul><li><a href="#anti-pattern-1-not-using-keyframe-aligned-cuts" class="table-of-contents__link toc-highlight">Anti-Pattern 1: Not Using Keyframe-Aligned Cuts</a></li><li><a href="#anti-pattern-2-re-encoding-unnecessarily" class="table-of-contents__link toc-highlight">Anti-Pattern 2: Re-encoding Unnecessarily</a></li><li><a href="#anti-pattern-3-ignoring-color-space-conversions" class="table-of-contents__link toc-highlight">Anti-Pattern 3: Ignoring Color Space Conversions</a></li><li><a href="#anti-pattern-4-poor-audio-sync" class="table-of-contents__link toc-highlight">Anti-Pattern 4: Poor Audio Sync</a></li><li><a href="#anti-pattern-5-wrong-codecbitrate-for-platform" class="table-of-contents__link toc-highlight">Anti-Pattern 5: Wrong Codec/Bitrate for Platform</a></li></ul></li><li><a href="#production-checklist" class="table-of-contents__link toc-highlight">Production Checklist</a></li><li><a href="#when-to-use-vs-avoid" class="table-of-contents__link toc-highlight">When to Use vs Avoid</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li><li><a href="#scripts" class="table-of-contents__link toc-highlight">Scripts</a></li></ul></div></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Skills</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/skills">Browse Skills</a></li><li class="footer__item"><a class="footer__link-item" href="/submit-skill">Submit a Skill</a></li><li class="footer__item"><a class="footer__link-item" href="/ecosystem">Ecosystem</a></li><li class="footer__item"><a class="footer__link-item" href="/artifacts">Examples</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Documentation</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/erichowens/some_claude_skills" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.anthropic.com/claude" target="_blank" rel="noopener noreferrer" class="footer__link-item">Anthropic Claude<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/erich-owens-01a38446/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/erichowens" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Made by Erich Owens | Ex-Meta ML Engineer | ¬© 2026 | Windows 3.1 aesthetic by design.</div></div></div></footer></div>
</body>
</html>