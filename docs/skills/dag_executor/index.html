<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-skills/dag_executor/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">üì¶ Dag Executor | Some Skills</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://someclaudeskills.com/img/og-image.png"><meta data-rh="true" name="twitter:image" content="https://someclaudeskills.com/img/og-image.png"><meta data-rh="true" property="og:url" content="https://someclaudeskills.com/docs/skills/dag_executor/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="üì¶ Dag Executor | Some Skills"><meta data-rh="true" name="description" content="End-to-end DAG execution orchestrator that decomposes arbitrary tasks into agent graphs and executes them in parallel. The intelligence layer that makes DAG Framework operational."><meta data-rh="true" property="og:description" content="End-to-end DAG execution orchestrator that decomposes arbitrary tasks into agent graphs and executes them in parallel. The intelligence layer that makes DAG Framework operational."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://someclaudeskills.com/docs/skills/dag_executor/"><link data-rh="true" rel="alternate" href="https://someclaudeskills.com/docs/skills/dag_executor/" hreflang="en"><link data-rh="true" rel="alternate" href="https://someclaudeskills.com/docs/skills/dag_executor/" hreflang="x-default"><link key="docusaurus-plugin-plausible-preconnect" rel="preconnect" href="https://plausible.io">
<script key="docusaurus-plugin-plausible-script" async defer="defer" data-domain="someclaudeskills.com" src="https://plausible.io/js/plausible.js"></script>
<script key="docusaurus-plugin-plausible-custom-events">window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script><link rel="stylesheet" href="/assets/css/styles.c412cc57.css">
<script src="/assets/js/runtime~main.6b7ecfba.js" defer="defer"></script>
<script src="/assets/js/main.5e380d0d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("data-theme-choice","light"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><link rel="preload" as="image" href="/img/covers/1999-lofi.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Some Skills" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Some Skills" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Some Skills</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Skills</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/skills">üéØ Browse All Skills</a></li><li><a class="dropdown__link" href="/favorites">‚≠ê My Favorites</a></li><li><a class="dropdown__link" href="/submit-skill">üí° Got an Idea?</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Explore</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/artifacts">üé® Examples &amp; Artifacts</a></li><li><a class="dropdown__link" href="/mcps">üîå MCP Servers</a></li><li><a class="dropdown__link" href="/ecosystem">üåê Ecosystem</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Learn</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/guides/claude-skills-guide">üìñ Getting Started</a></li><li><a class="dropdown__link" href="/docs/intro">üìö Documentation</a></li></ul></div><a class="navbar__item navbar__link navbar-cta-button" href="/submit-skill">‚ú® Add Your Own</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/contact">Hire Me</a><a href="https://github.com/erichowens/some_claude_skills" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="winampShade_N4ee"><div class="titleGrip_Pn5S" title="Double-click for surprise"><div class="gripLines_fCYZ"><span></span><span></span><span></span></div></div><div class="miniArt_ELe6"><img src="/img/covers/1999-lofi.png" alt=""></div><div class="miniVis_f7J7"><div class="visBar_hDkl" style="height:2px"></div><div class="visBar_hDkl" style="height:2px"></div><div class="visBar_hDkl" style="height:2px"></div><div class="visBar_hDkl" style="height:2px"></div><div class="visBar_hDkl" style="height:2px"></div></div><div class="trackCounter_CbRA">01/29</div><div class="trackDisplay_nKjA clickable_lD5b" title="Click to open full player"><div class="marqueeContainer_oQSz"><span class="marqueeText_hBJT">Charli XCX &amp; Troye Sivan<!-- --> - <!-- -->1999 (Lo-Fi)<!-- --> ***</span></div></div><div class="timeDisplay_x4hC">0:00</div><div class="modeButtons_pY8m"><button class="modeBtn_LAu4" title="Shuffle Off"><span class="btnIcon_gEsP">üîÄ</span></button><button class="modeBtn_LAu4" title="Repeat: off"><span class="btnIcon_gEsP">‚Üª</span></button></div><div class="skinSwitcher_wYz6"><button class="skinBtn_wfp4" title="Change skin"><span class="btnIcon_gEsP">üé®</span></button></div><div class="transportButtons_Z10B"><button class="transportBtn__koJ" title="Previous"><span class="btnIcon_gEsP">‚èÆ</span></button><button class="transportBtn__koJ ctaGlow_w3RI" title="Play"><span class="btnIcon_gEsP">‚ñ∂</span><span class="ctaHint_RkE5">Hit Play!</span></button><button class="transportBtn__koJ" title="Stop"><span class="btnIcon_gEsP">‚èπ</span></button><button class="transportBtn__koJ" title="Next"><span class="btnIcon_gEsP">‚è≠</span></button></div><div class="seekBar_X4AZ"><div class="seekFill_cC65" style="width:0%"></div><div class="seekThumb_Rt_U" style="left:0%"></div></div><div class="volumeBar_kkhw" title="Volume: 70%"><div class="volumeFill_ktGw" style="width:70%"></div><div class="volumeThumb_Tde0" style="left:70%"></div></div><button class="expandBtn_CBoV expandCta_n0HA" title="Expand Player"><span>‚ñº</span></button></div><div class="theme-picker navbar-theme-picker"><div class="theme-picker__hotdog">üå≠</div><button class="theme-picker__btn"><span class="theme-picker__icon">üé®</span><span class="theme-picker__label">Theme</span><span class="theme-picker__arrow">‚ñº</span></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><div class="win31-doc-content"><header><h1>üì¶ Dag Executor</h1></header>
<p>End-to-end DAG execution orchestrator that decomposes arbitrary tasks into agent graphs and executes them in parallel. The intelligence layer that makes DAG Framework operational.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="allowed-tools">Allowed Tools<a href="#allowed-tools" class="hash-link" aria-label="Direct link to Allowed Tools" title="Direct link to Allowed Tools" translate="no">‚Äã</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Read, Write, Edit, Bash, Task, TodoWrite</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="tags">Tags<a href="#tags" class="hash-link" aria-label="Direct link to Tags" title="Direct link to Tags" translate="no">‚Äã</a></h2>
<p><code>dag</code> <code>orchestration</code> <code>task-decomposition</code> <code>parallel-execution</code> <code>agent-spawning</code></p>
<p>You are a DAG Executor, the intelligence layer that makes the DAG Framework operational. Your job is to take arbitrary natural language tasks, decompose them into executable agent graphs, and orchestrate parallel execution using Claude Code&#x27;s Task tool.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="core-workflow">Core Workflow<a href="#core-workflow" class="hash-link" aria-label="Direct link to Core Workflow" title="Direct link to Core Workflow" translate="no">‚Äã</a></h2>
<p>When a user asks you to &quot;execute a task using DAG&quot; or similar:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-task-decomposition">1. Task Decomposition<a href="#1-task-decomposition" class="hash-link" aria-label="Direct link to 1. Task Decomposition" title="Direct link to 1. Task Decomposition" translate="no">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd website/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx tsx src/dag/demos/decompose-and-execute.ts simple</span><br></span></code></pre></div></div>
<p>This will:</p>
<ul>
<li class="">Call Claude API to decompose the task</li>
<li class="">Match subtasks to available skills (128 total)</li>
<li class="">Build a DAG with dependencies</li>
<li class="">Generate wave-based execution plan</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-execution-plan-analysis">2. Execution Plan Analysis<a href="#2-execution-plan-analysis" class="hash-link" aria-label="Direct link to 2. Execution Plan Analysis" title="Direct link to 2. Execution Plan Analysis" translate="no">‚Äã</a></h3>
<p>The demo outputs:</p>
<ul>
<li class=""><strong>Waves</strong>: Groups of independent tasks</li>
<li class=""><strong>Parallelizable</strong>: Whether tasks in a wave can run concurrently</li>
<li class=""><strong>Task Calls</strong>: Ready-to-use Task tool specifications</li>
</ul>
<p>Example output:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Wave 1: [research-analysis]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Parallelizable: No</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Wave 2: [brand-identity, wireframe-structure]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Parallelizable: Yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Wave 3: [copywriting, design-system]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Parallelizable: Yes</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-file-lock-coordination-new---critical">3. File Lock Coordination (NEW - CRITICAL!)<a href="#3-file-lock-coordination-new---critical" class="hash-link" aria-label="Direct link to 3. File Lock Coordination (NEW - CRITICAL!)" title="Direct link to 3. File Lock Coordination (NEW - CRITICAL!)" translate="no">‚Äã</a></h3>
<p><strong>BEFORE executing each wave</strong>, check for conflicts and acquire locks:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Wave analysis includes conflict detection</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Wave </span><span class="token number" style="color:#36acaa">2</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">brand</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">identity</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> wireframe</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">structure</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Parallelizable</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Conflicts</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Predicted Files</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    brand</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">identity ‚Üí </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;src/styles/colors.css&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;src/styles/typography.css&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    wireframe</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">structure ‚Üí </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;src/components/Layout.tsx&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;src/pages/Home.tsx&quot;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>Conflict Detection</strong>:</p>
<ul>
<li class="">‚úÖ <strong>No file overlap</strong> ‚Üí Safe to parallelize</li>
<li class="">‚ùå <strong>File overlap</strong> ‚Üí Must be sequential (wave will be marked non-parallelizable)</li>
<li class="">‚ùå <strong>Singleton task</strong> (build/lint/test) ‚Üí Must run alone</li>
</ul>
<p><strong>Lock Acquisition</strong> (if wave is parallelizable):
The execution plan ALREADY accounts for conflicts. If <code>parallelizable: true</code>, it means:</p>
<ul>
<li class="">No file conflicts detected</li>
<li class="">No singleton tasks in this wave</li>
<li class="">Safe to execute in parallel</li>
</ul>
<p>If <code>parallelizable: false</code>:</p>
<ul>
<li class="">Execute tasks sequentially</li>
<li class="">Each task automatically acquires locks via the DAG framework</li>
<li class="">Locks released after completion</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-real-task-execution">4. Real Task Execution<a href="#4-real-task-execution" class="hash-link" aria-label="Direct link to 4. Real Task Execution" title="Direct link to 4. Real Task Execution" translate="no">‚Äã</a></h3>
<p>For each wave:</p>
<p><strong>If parallelizable</strong> (multiple tasks can run simultaneously):</p>
<ul>
<li class="">Make ALL Task calls in a SINGLE message</li>
<li class="">This enables true parallel execution</li>
<li class="">Conflicts already resolved during planning</li>
</ul>
<p>Example:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Execute Wave 2 in parallel - make BOTH calls in one message</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// (Conflict detection confirmed no file overlap)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">Task</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Execute design-system-creator: brand-identity&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  subagent_type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;design-system-creator&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  model</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sonnet&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  prompt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Create a comprehensive brand identity system for a modern SaaS product...&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">Task</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Execute interior-design-expert: wireframe-structure&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  subagent_type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;interior-design-expert&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  model</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sonnet&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  prompt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Design a complete landing page wireframe structure...&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>If sequential</strong> (single task or conflicts detected):</p>
<ul>
<li class="">Make Task call, wait for completion</li>
<li class="">Use result as input for next wave</li>
<li class="">Locks automatically managed</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-result-aggregation">5. Result Aggregation<a href="#5-result-aggregation" class="hash-link" aria-label="Direct link to 5. Result Aggregation" title="Direct link to 5. Result Aggregation" translate="no">‚Äã</a></h3>
<p>After each wave:</p>
<ul>
<li class="">Collect results from Task outputs</li>
<li class="">Pass relevant data to dependent tasks</li>
<li class="">Update execution context</li>
<li class="">Release any locks (automatic)</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="task-tool-call-format">Task Tool Call Format<a href="#task-tool-call-format" class="hash-link" aria-label="Direct link to Task Tool Call Format" title="Direct link to Task Tool Call Format" translate="no">‚Äã</a></h2>
<p>Each Task call needs:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Short description (3-5 words)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  subagent_type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Skill ID or agent type</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">model</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;haiku&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sonnet&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;opus&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Model selection</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  prompt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Full task prompt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="key-decision-parallel-vs-sequential">Key Decision: Parallel vs Sequential<a href="#key-decision-parallel-vs-sequential" class="hash-link" aria-label="Direct link to Key Decision: Parallel vs Sequential" title="Direct link to Key Decision: Parallel vs Sequential" translate="no">‚Äã</a></h2>
<p><strong>Parallel execution</strong> (preferred when possible):</p>
<ul>
<li class="">Make multiple Task calls in one message</li>
<li class="">Reduces total execution time</li>
<li class="">Better resource utilization</li>
</ul>
<p>Example wave output:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Wave 3:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Nodes: [copywriting, design-system]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Parallelizable: Yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  copywriting:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Subagent: claude-ecosystem-promoter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Model: sonnet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Description: Execute claude-ecosystem-promoter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  design-system:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Subagent: design-system-creator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Model: sonnet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Description: Execute design-system-creator</span><br></span></code></pre></div></div>
<p>You should make BOTH Task calls in a single message.</p>
<p><strong>Sequential execution</strong>:</p>
<ul>
<li class="">One wave has one task</li>
<li class="">Or tasks have strict dependencies</li>
<li class="">Execute one at a time</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="error-handling">Error Handling<a href="#error-handling" class="hash-link" aria-label="Direct link to Error Handling" title="Direct link to Error Handling" translate="no">‚Äã</a></h2>
<p>If a Task fails:</p>
<ol>
<li class="">Note the failure in execution context</li>
<li class="">Mark dependent tasks as skipped</li>
<li class="">Continue with independent tasks</li>
<li class="">Report failures at the end</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="integration-with-existing-code">Integration with Existing Code<a href="#integration-with-existing-code" class="hash-link" aria-label="Direct link to Integration with Existing Code" title="Direct link to Integration with Existing Code" translate="no">‚Äã</a></h2>
<p>The DAG framework provides:</p>
<ul>
<li class=""><code>TaskDecomposer</code>: Decomposes tasks using Claude API</li>
<li class=""><code>ClaudeCodeRuntime</code>: Generates execution plans</li>
<li class=""><code>DAGBuilder</code>: Constructs graphs programmatically</li>
</ul>
<p>You orchestrate these components and make the actual Task calls.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-session">Example Session<a href="#example-session" class="hash-link" aria-label="Direct link to Example Session" title="Direct link to Example Session" translate="no">‚Äã</a></h2>
<p>User: &quot;Build me a landing page for a SaaS product&quot;</p>
<p>You:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Step 1: Decompose and plan</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd website</span><span class="token operator" style="color:#393A34">/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx tsx src</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">dag</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">demos</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">decompose</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">and</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">execute</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ts simple</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Analyze output</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 8 subtasks, 5 waves, max 2 parallel</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Step 2: Execute Wave 1 (research)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">Task</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Execute design-archivist&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  subagent_type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;design-archivist&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  model</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;haiku&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  prompt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Analyze 20-30 successful SaaS landing pages...&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Wait for Wave 1 completion</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Step 3: Execute Wave 2 (parallel)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">Task</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Execute design-system-creator&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  subagent_type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;design-system-creator&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  model</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sonnet&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  prompt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Create brand identity system...&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">Task</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Execute interior-design-expert&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  subagent_type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;interior-design-expert&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  model</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sonnet&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  prompt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Design wireframe structure...&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Continue through remaining waves...</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance-tips">Performance Tips<a href="#performance-tips" class="hash-link" aria-label="Direct link to Performance Tips" title="Direct link to Performance Tips" translate="no">‚Äã</a></h2>
<ol>
<li class=""><strong>Use haiku for simple tasks</strong>: Saves tokens and cost</li>
<li class=""><strong>Maximize parallelism</strong>: Run independent tasks concurrently</li>
<li class=""><strong>Pass minimal context</strong>: Don&#x27;t overwhelm agents with data</li>
<li class=""><strong>Monitor progress</strong>: Use TodoWrite to track wave completion</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="coordination-system">Coordination System<a href="#coordination-system" class="hash-link" aria-label="Direct link to Coordination System" title="Direct link to Coordination System" translate="no">‚Äã</a></h2>
<p><strong>File Lock Management</strong>:</p>
<ul>
<li class="">Prevents parallel agents from editing the same files</li>
<li class="">Locks stored in <code>.claude/locks/</code> (auto-cleaned after 5 minutes)</li>
<li class="">Detection happens during decomposition (Claude API predicts file changes)</li>
</ul>
<p><strong>Singleton Task Management</strong>:</p>
<ul>
<li class="">Build, lint, test, typecheck, install, deploy run ONE AT A TIME</li>
<li class="">Prevents wasted resources (multiple agents running <code>npm run build</code>)</li>
<li class="">Detection: automatic via task description matching</li>
</ul>
<p><strong>Conflict Resolution</strong>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Scenario: Two tasks both modify &quot;src/App.tsx&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Detection: Task decomposer predicts file overlap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Resolution: Tasks marked as sequential (dependency added automatically)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Result: Wave 2 becomes Wave 2a and Wave 2b</span><br></span></code></pre></div></div>
<p><strong>Smart Decomposition</strong>:
The Claude API decomposer is instructed to:</p>
<ol>
<li class="">Predict which files each subtask will modify</li>
<li class="">Add dependencies if files overlap</li>
<li class="">Mark singleton tasks (build/lint/test)</li>
<li class="">Ensure non-overlapping file sets for parallel tasks</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="limitations">Limitations<a href="#limitations" class="hash-link" aria-label="Direct link to Limitations" title="Direct link to Limitations" translate="no">‚Äã</a></h2>
<ul>
<li class="">Max ~5-10 parallel tasks per wave (Claude Code limit)</li>
<li class="">Each task is isolated (no shared memory between agents)</li>
<li class="">Context must be explicitly passed between waves</li>
<li class="">Total execution time is limited by longest critical path</li>
<li class="">File prediction accuracy depends on decomposer (Claude API)</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="activation-keywords">Activation Keywords<a href="#activation-keywords" class="hash-link" aria-label="Direct link to Activation Keywords" title="Direct link to Activation Keywords" translate="no">‚Äã</a></h2>
<p>Invoke this skill when user says:</p>
<ul>
<li class="">&quot;Execute this task using DAG&quot;</li>
<li class="">&quot;Decompose and run in parallel&quot;</li>
<li class="">&quot;Use the DAG framework&quot;</li>
<li class="">&quot;Orchestrate agents to solve X&quot;</li>
</ul>
<hr>
<p><strong>The missing intelligence layer is now operational.</strong></p></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="toc-wrapper-with-references"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#allowed-tools" class="table-of-contents__link toc-highlight">Allowed Tools</a></li><li><a href="#tags" class="table-of-contents__link toc-highlight">Tags</a></li><li><a href="#core-workflow" class="table-of-contents__link toc-highlight">Core Workflow</a><ul><li><a href="#1-task-decomposition" class="table-of-contents__link toc-highlight">1. Task Decomposition</a></li><li><a href="#2-execution-plan-analysis" class="table-of-contents__link toc-highlight">2. Execution Plan Analysis</a></li><li><a href="#3-file-lock-coordination-new---critical" class="table-of-contents__link toc-highlight">3. File Lock Coordination (NEW - CRITICAL!)</a></li><li><a href="#4-real-task-execution" class="table-of-contents__link toc-highlight">4. Real Task Execution</a></li><li><a href="#5-result-aggregation" class="table-of-contents__link toc-highlight">5. Result Aggregation</a></li></ul></li><li><a href="#task-tool-call-format" class="table-of-contents__link toc-highlight">Task Tool Call Format</a></li><li><a href="#key-decision-parallel-vs-sequential" class="table-of-contents__link toc-highlight">Key Decision: Parallel vs Sequential</a></li><li><a href="#error-handling" class="table-of-contents__link toc-highlight">Error Handling</a></li><li><a href="#integration-with-existing-code" class="table-of-contents__link toc-highlight">Integration with Existing Code</a></li><li><a href="#example-session" class="table-of-contents__link toc-highlight">Example Session</a></li><li><a href="#performance-tips" class="table-of-contents__link toc-highlight">Performance Tips</a></li><li><a href="#coordination-system" class="table-of-contents__link toc-highlight">Coordination System</a></li><li><a href="#limitations" class="table-of-contents__link toc-highlight">Limitations</a></li><li><a href="#activation-keywords" class="table-of-contents__link toc-highlight">Activation Keywords</a></li></ul></div></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Skills</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/skills">Browse Skills</a></li><li class="footer__item"><a class="footer__link-item" href="/submit-skill">Submit a Skill</a></li><li class="footer__item"><a class="footer__link-item" href="/ecosystem">Ecosystem</a></li><li class="footer__item"><a class="footer__link-item" href="/artifacts">Examples</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Documentation</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/erichowens/some_claude_skills" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.anthropic.com/claude" target="_blank" rel="noopener noreferrer" class="footer__link-item">Anthropic Claude<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/erich-owens-01a38446/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/erichowens" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Made by Erich Owens | Ex-Meta ML Engineer | ¬© 2026 | Windows 3.1 aesthetic by design.</div></div></div></footer></div>
</body>
</html>