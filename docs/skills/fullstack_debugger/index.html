<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-skills/fullstack_debugger/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Fullstack Debugger | Some Skills</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://someclaudeskills.com/img/og-image.png"><meta data-rh="true" name="twitter:image" content="https://someclaudeskills.com/img/og-image.png"><meta data-rh="true" property="og:url" content="https://someclaudeskills.com/docs/skills/fullstack_debugger/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Fullstack Debugger | Some Skills"><meta data-rh="true" name="description" content="Expert debugger for Next.js + Cloudflare Workers + Supabase stacks. Systematic troubleshooting for auth, caching, workers, RLS, CORS, and build issues. Activate on: &#x27;debug&#x27;, &#x27;not working&#x27;, &#x27;error&#x27;, &#x27;broken&#x27;, &#x27;500&#x27;, &#x27;401&#x27;, &#x27;403&#x27;, &#x27;cache issue&#x27;, &#x27;RLS&#x27;, &#x27;CORS&#x27;. NOT for: feature development (use language skills), architecture design (use system-architect)."><meta data-rh="true" property="og:description" content="Expert debugger for Next.js + Cloudflare Workers + Supabase stacks. Systematic troubleshooting for auth, caching, workers, RLS, CORS, and build issues. Activate on: &#x27;debug&#x27;, &#x27;not working&#x27;, &#x27;error&#x27;, &#x27;broken&#x27;, &#x27;500&#x27;, &#x27;401&#x27;, &#x27;403&#x27;, &#x27;cache issue&#x27;, &#x27;RLS&#x27;, &#x27;CORS&#x27;. NOT for: feature development (use language skills), architecture design (use system-architect)."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://someclaudeskills.com/docs/skills/fullstack_debugger/"><link data-rh="true" rel="alternate" href="https://someclaudeskills.com/docs/skills/fullstack_debugger/" hreflang="en"><link data-rh="true" rel="alternate" href="https://someclaudeskills.com/docs/skills/fullstack_debugger/" hreflang="x-default"><link key="docusaurus-plugin-plausible-preconnect" rel="preconnect" href="https://plausible.io">
<script key="docusaurus-plugin-plausible-script" async defer="defer" data-domain="someclaudeskills.com" src="https://plausible.io/js/plausible.js"></script>
<script key="docusaurus-plugin-plausible-custom-events">window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script><link rel="stylesheet" href="/assets/css/styles.c412cc57.css">
<script src="/assets/js/runtime~main.6b7ecfba.js" defer="defer"></script>
<script src="/assets/js/main.5e380d0d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("data-theme-choice","light"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><link rel="preload" as="image" href="/img/covers/1999-lofi.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Some Skills" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Some Skills" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Some Skills</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Skills</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/skills">ğŸ¯ Browse All Skills</a></li><li><a class="dropdown__link" href="/favorites">â­ My Favorites</a></li><li><a class="dropdown__link" href="/submit-skill">ğŸ’¡ Got an Idea?</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Explore</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/artifacts">ğŸ¨ Examples &amp; Artifacts</a></li><li><a class="dropdown__link" href="/mcps">ğŸ”Œ MCP Servers</a></li><li><a class="dropdown__link" href="/ecosystem">ğŸŒ Ecosystem</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Learn</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/guides/claude-skills-guide">ğŸ“– Getting Started</a></li><li><a class="dropdown__link" href="/docs/intro">ğŸ“š Documentation</a></li></ul></div><a class="navbar__item navbar__link navbar-cta-button" href="/submit-skill">âœ¨ Add Your Own</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/contact">Hire Me</a><a href="https://github.com/erichowens/some_claude_skills" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="winampShade_N4ee"><div class="titleGrip_Pn5S" title="Double-click for surprise"><div class="gripLines_fCYZ"><span></span><span></span><span></span></div></div><div class="miniArt_ELe6"><img src="/img/covers/1999-lofi.png" alt=""></div><div class="miniVis_f7J7"><div class="visBar_hDkl" style="height:2px"></div><div class="visBar_hDkl" style="height:2px"></div><div class="visBar_hDkl" style="height:2px"></div><div class="visBar_hDkl" style="height:2px"></div><div class="visBar_hDkl" style="height:2px"></div></div><div class="trackCounter_CbRA">01/29</div><div class="trackDisplay_nKjA clickable_lD5b" title="Click to open full player"><div class="marqueeContainer_oQSz"><span class="marqueeText_hBJT">Charli XCX &amp; Troye Sivan<!-- --> - <!-- -->1999 (Lo-Fi)<!-- --> ***</span></div></div><div class="timeDisplay_x4hC">0:00</div><div class="modeButtons_pY8m"><button class="modeBtn_LAu4" title="Shuffle Off"><span class="btnIcon_gEsP">ğŸ”€</span></button><button class="modeBtn_LAu4" title="Repeat: off"><span class="btnIcon_gEsP">â†»</span></button></div><div class="skinSwitcher_wYz6"><button class="skinBtn_wfp4" title="Change skin"><span class="btnIcon_gEsP">ğŸ¨</span></button></div><div class="transportButtons_Z10B"><button class="transportBtn__koJ" title="Previous"><span class="btnIcon_gEsP">â®</span></button><button class="transportBtn__koJ ctaGlow_w3RI" title="Play"><span class="btnIcon_gEsP">â–¶</span><span class="ctaHint_RkE5">Hit Play!</span></button><button class="transportBtn__koJ" title="Stop"><span class="btnIcon_gEsP">â¹</span></button><button class="transportBtn__koJ" title="Next"><span class="btnIcon_gEsP">â­</span></button></div><div class="seekBar_X4AZ"><div class="seekFill_cC65" style="width:0%"></div><div class="seekThumb_Rt_U" style="left:0%"></div></div><div class="volumeBar_kkhw" title="Volume: 70%"><div class="volumeFill_ktGw" style="width:70%"></div><div class="volumeThumb_Tde0" style="left:70%"></div></div><button class="expandBtn_CBoV expandCta_n0HA" title="Expand Player"><span>â–¼</span></button></div><div class="theme-picker navbar-theme-picker"><div class="theme-picker__hotdog">ğŸŒ­</div><button class="theme-picker__btn"><span class="theme-picker__icon">ğŸ¨</span><span class="theme-picker__label">Theme</span><span class="theme-picker__arrow">â–¼</span></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><div class="win31-doc-content"><header><h1>Fullstack Debugger</h1></header>
<p>Expert debugger for modern web stacks: Next.js 15, Cloudflare Workers, Supabase, and edge deployments. Systematic, evidence-based troubleshooting.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="activation-triggers">Activation Triggers<a href="#activation-triggers" class="hash-link" aria-label="Direct link to Activation Triggers" title="Direct link to Activation Triggers" translate="no">â€‹</a></h2>
<p><strong>Activate on:</strong> &quot;debug&quot;, &quot;not working&quot;, &quot;broken&quot;, &quot;error&quot;, &quot;500 error&quot;, &quot;401&quot;, &quot;403&quot;, &quot;cache issue&quot;, &quot;CORS error&quot;, &quot;RLS policy&quot;, &quot;auth not working&quot;, &quot;blank page&quot;, &quot;hydration error&quot;, &quot;build failed&quot;, &quot;worker not responding&quot;</p>
<p><strong>NOT for:</strong> Feature development â†’ language skills | Architecture â†’ <code>system-architect</code> | Performance optimization â†’ <code>performance-engineer</code></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="debug-philosophy">Debug Philosophy<a href="#debug-philosophy" class="hash-link" aria-label="Direct link to Debug Philosophy" title="Direct link to Debug Philosophy" translate="no">â€‹</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1. REPRODUCE â†’ Can you make it fail consistently?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. ISOLATE   â†’ Which layer is broken?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. EVIDENCE  â†’ What do logs/network/state show?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. HYPOTHESIZE â†’ What could cause this?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. TEST      â†’ Validate one hypothesis at a time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6. FIX       â†’ Minimal change that resolves issue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7. VERIFY    â†’ Confirm fix doesn&#x27;t break other things</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="architecture-layers">Architecture Layers<a href="#architecture-layers" class="hash-link" aria-label="Direct link to Architecture Layers" title="Direct link to Architecture Layers" translate="no">â€‹</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                    DEBUGGING LAYERS                         â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                                                             â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  Layer 1: Browser/Client                                    â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  â”œâ”€â”€ Console errors, network tab, React DevTools           â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  â”œâ”€â”€ localStorage/sessionStorage state                     â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  â””â”€â”€ React Query cache state                               â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                                                             â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  Layer 2: Next.js Application                              â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  â”œâ”€â”€ Server components vs client components                â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  â”œâ”€â”€ Build output and static generation                    â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  â”œâ”€â”€ API routes (if any)                                   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  â””â”€â”€ Hydration mismatches                                  â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                                                             â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  Layer 3: Cloudflare Workers                               â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  â”œâ”€â”€ Worker logs (wrangler tail)                           â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  â”œâ”€â”€ KV cache state                                        â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  â”œâ”€â”€ CORS headers                                          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  â””â”€â”€ Rate limiting                                         â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                                                             â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  Layer 4: Supabase                                         â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  â”œâ”€â”€ Auth state and JWT tokens                             â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  â”œâ”€â”€ RLS policies (most common issue!)                     â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  â”œâ”€â”€ Database queries and indexes                          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  â””â”€â”€ Realtime subscriptions                                â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                                                             â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  Layer 5: External APIs                                    â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  â”œâ”€â”€ Third-party service availability                      â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  â”œâ”€â”€ API rate limits                                       â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  â””â”€â”€ Response format changes                               â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                                                             â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="quick-diagnosis-commands">Quick Diagnosis Commands<a href="#quick-diagnosis-commands" class="hash-link" aria-label="Direct link to Quick Diagnosis Commands" title="Direct link to Quick Diagnosis Commands" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="check-everything-at-once">Check Everything At Once<a href="#check-everything-at-once" class="hash-link" aria-label="Direct link to Check Everything At Once" title="Direct link to Check Everything At Once" translate="no">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Run from next-app/ directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;=== Build Check ===&quot; &amp;&amp; npm run build 2&gt;&amp;1 | tail -20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;=== TypeScript ===&quot; &amp;&amp; npx tsc --noEmit 2&gt;&amp;1 | head -20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;=== Lint ===&quot; &amp;&amp; npm run lint 2&gt;&amp;1 | head -20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;=== Git Status ===&quot; &amp;&amp; git status --short</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="supabase-rls-diagnosis">Supabase RLS Diagnosis<a href="#supabase-rls-diagnosis" class="hash-link" aria-label="Direct link to Supabase RLS Diagnosis" title="Direct link to Supabase RLS Diagnosis" translate="no">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check if RLS is blocking queries (most common issue!)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node -e &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const { createClient } = require(&#x27;@supabase/supabase-js&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const supabase = createClient(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;YOUR_SUPABASE_URL&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;YOUR_ANON_KEY&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">async function diagnose() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Test as anonymous user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  const { data, error, count } = await supabase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .from(&#x27;YOUR_TABLE&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .select(&#x27;*&#x27;, { count: &#x27;exact&#x27; })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .limit(5);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  console.log(&#x27;Error:&#x27;, error);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  console.log(&#x27;Count:&#x27;, count);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  console.log(&#x27;Sample:&#x27;, data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">diagnose();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="worker-health-check">Worker Health Check<a href="#worker-health-check" class="hash-link" aria-label="Direct link to Worker Health Check" title="Direct link to Worker Health Check" translate="no">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check if workers are responding</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -s -o /dev/null -w &quot;%{http_code}&quot; https://YOUR-WORKER.workers.dev/health</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check CORS headers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -s -D - -o /dev/null -H &quot;Origin: https://yoursite.com&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  https://YOUR-WORKER.workers.dev/api/endpoint | grep -iE &quot;(access-control|x-)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Stream worker logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd workers/your-worker &amp;&amp; npx wrangler tail</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cache-inspection">Cache Inspection<a href="#cache-inspection" class="hash-link" aria-label="Direct link to Cache Inspection" title="Direct link to Cache Inspection" translate="no">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check Cloudflare KV cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx wrangler kv:key list --namespace-id=YOUR_NAMESPACE_ID | head -20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Get specific cached value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx wrangler kv:key get --namespace-id=YOUR_NAMESPACE_ID &quot;cache:key&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Clear a cached item</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx wrangler kv:key delete --namespace-id=YOUR_NAMESPACE_ID &quot;cache:key&quot;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="common-issues--solutions">Common Issues &amp; Solutions<a href="#common-issues--solutions" class="hash-link" aria-label="Direct link to Common Issues &amp; Solutions" title="Direct link to Common Issues &amp; Solutions" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-rls-policy-blocking-data-most-common">1. RLS Policy Blocking Data (Most Common!)<a href="#1-rls-policy-blocking-data-most-common" class="hash-link" aria-label="Direct link to 1. RLS Policy Blocking Data (Most Common!)" title="Direct link to 1. RLS Policy Blocking Data (Most Common!)" translate="no">â€‹</a></h3>
<p><strong>Symptoms:</strong></p>
<ul>
<li class="">Query returns empty array but no error</li>
<li class="">Works in Supabase dashboard but not in app</li>
<li class="">Works for some users but not others</li>
</ul>
<p><strong>Diagnosis:</strong></p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- In Supabase SQL Editor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Check what policies exist</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> schemaname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tablename</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> policyname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> permissive</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> roles</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cmd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> qual</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> pg_policies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> tablename </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;your_table&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Test as anonymous user</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> ROLE anon</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> your_table </span><span class="token keyword" style="color:#00009f">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RESET ROLE</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Test as authenticated user</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> ROLE authenticated</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">jwt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">claims </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;{&quot;sub&quot;: &quot;user-uuid-here&quot;}&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> your_table </span><span class="token keyword" style="color:#00009f">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RESET ROLE</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>Common Fixes:</strong></p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Allow public read access</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> POLICY </span><span class="token string" style="color:#e3116c">&quot;Allow public read&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> your_table</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">FOR</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">USING</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Allow authenticated users to read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> POLICY </span><span class="token string" style="color:#e3116c">&quot;Allow authenticated read&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> your_table</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">FOR</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TO</span><span class="token plain"> authenticated </span><span class="token keyword" style="color:#00009f">USING</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Allow users to read their own data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> POLICY </span><span class="token string" style="color:#e3116c">&quot;Users read own data&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> your_table</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">FOR</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">USING</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">auth</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">uid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> user_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-cors-errors">2. CORS Errors<a href="#2-cors-errors" class="hash-link" aria-label="Direct link to 2. CORS Errors" title="Direct link to 2. CORS Errors" translate="no">â€‹</a></h3>
<p><strong>Symptoms:</strong></p>
<ul>
<li class="">&quot;Access to fetch blocked by CORS policy&quot;</li>
<li class="">Works in Postman but not in browser</li>
<li class="">Preflight request fails</li>
</ul>
<p><strong>Diagnosis:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check what CORS headers are returned</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -s -D - -o /dev/null \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Origin: https://yoursite.com&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Access-Control-Request-Method: POST&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -X OPTIONS \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  https://your-worker.workers.dev/api/endpoint</span><br></span></code></pre></div></div>
<p><strong>Fix in Cloudflare Worker:</strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// In your worker</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> corsHeaders </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&#x27;Access-Control-Allow-Origin&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Or specific domain</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&#x27;Access-Control-Allow-Methods&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;GET, POST, OPTIONS&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&#x27;Access-Control-Allow-Headers&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Content-Type, Authorization&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Handle preflight</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">method </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;OPTIONS&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> headers</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> corsHeaders </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Add to all responses</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  headers</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">...</span><span class="token plain">corsHeaders</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&#x27;Content-Type&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;application/json&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-auth-state-not-persisting">3. Auth State Not Persisting<a href="#3-auth-state-not-persisting" class="hash-link" aria-label="Direct link to 3. Auth State Not Persisting" title="Direct link to 3. Auth State Not Persisting" translate="no">â€‹</a></h3>
<p><strong>Symptoms:</strong></p>
<ul>
<li class="">User logged in but shows as logged out on refresh</li>
<li class="">Auth works locally but not in production</li>
<li class="">Session disappears randomly</li>
</ul>
<p><strong>Diagnosis:</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// In browser console</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Session:&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> supabase</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">auth</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getSession</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;User:&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> supabase</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">auth</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getUser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;LocalStorage:&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">keys</span><span class="token punctuation" style="color:#393A34">(</span><span class="token dom variable" style="color:#36acaa">localStorage</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">k</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> k</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">includes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;supabase&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>Common Fixes:</strong></p>
<ul>
<li class="">Check Supabase URL matches (http vs https, trailing slash)</li>
<li class="">Verify site URL in Supabase Auth settings</li>
<li class="">Check for cookie blocking (Safari, incognito)</li>
<li class="">Ensure AuthContext wraps all components needing auth</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-hydration-mismatch">4. Hydration Mismatch<a href="#4-hydration-mismatch" class="hash-link" aria-label="Direct link to 4. Hydration Mismatch" title="Direct link to 4. Hydration Mismatch" translate="no">â€‹</a></h3>
<p><strong>Symptoms:</strong></p>
<ul>
<li class="">&quot;Hydration failed because the initial UI does not match&quot;</li>
<li class="">Content flashes on page load</li>
<li class="">Different content on server vs client</li>
</ul>
<p><strong>Diagnosis:</strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Temporarily add to suspect component</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Client render:&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">body</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">innerHTML</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">slice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>Common Fixes:</strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Use client-only rendering for dynamic content</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&#x27;use client&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> useState</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> useEffect </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">DynamicContent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">mounted</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setMounted</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setMounted</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">mounted</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// or skeleton</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token comment" style="color:#999988;font-style:italic">/* dynamic content */</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-worker-not-deploying">5. Worker Not Deploying<a href="#5-worker-not-deploying" class="hash-link" aria-label="Direct link to 5. Worker Not Deploying" title="Direct link to 5. Worker Not Deploying" translate="no">â€‹</a></h3>
<p><strong>Symptoms:</strong></p>
<ul>
<li class="">Deploy command succeeds but changes not reflected</li>
<li class="">Old code still running</li>
<li class="">Intermittent old/new behavior</li>
</ul>
<p><strong>Diagnosis:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check deployment status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx wrangler deployments list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># View current worker code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx wrangler deployments view</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check for multiple environments</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx wrangler whoami</span><br></span></code></pre></div></div>
<p><strong>Fixes:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Force redeploy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx wrangler deploy --force</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Clear Cloudflare cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST &quot;https://api.cloudflare.com/client/v4/zones/ZONE_ID/purge_cache&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Authorization: Bearer YOUR_TOKEN&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --data &#x27;{&quot;purge_everything&quot;:true}&#x27;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="6-typescript-cache-haunting">6. TypeScript Cache Haunting<a href="#6-typescript-cache-haunting" class="hash-link" aria-label="Direct link to 6. TypeScript Cache Haunting" title="Direct link to 6. TypeScript Cache Haunting" translate="no">â€‹</a></h3>
<p><strong>Symptoms:</strong></p>
<ul>
<li class="">Errors reference deleted/changed code</li>
<li class="">Types don&#x27;t match current code</li>
<li class="">&quot;Cannot find module&quot; for existing files</li>
</ul>
<p><strong>Fix:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Nuclear option - clear all caches</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rm -rf .next node_modules/.cache tsconfig.tsbuildinfo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm run build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Or just TypeScript cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rm -rf node_modules/.cache/typescript</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx tsc --build --clean</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="7-static-export-issues">7. Static Export Issues<a href="#7-static-export-issues" class="hash-link" aria-label="Direct link to 7. Static Export Issues" title="Direct link to 7. Static Export Issues" translate="no">â€‹</a></h3>
<p><strong>Symptoms:</strong></p>
<ul>
<li class="">&quot;Error: Page X couldn&#x27;t be rendered statically&quot;</li>
<li class="">Dynamic routes fail in static export</li>
<li class="">API routes don&#x27;t work after deploy</li>
</ul>
<p><strong>Diagnosis:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check next.config for output mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep -A5 &quot;output:&quot; next.config.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Find dynamic components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep -r &quot;useSearchParams\|usePathname\|cookies()\|headers()&quot; src/</span><br></span></code></pre></div></div>
<p><strong>Fixes:</strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// For components using dynamic APIs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> dynamic </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;force-dynamic&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// or wrap in Suspense with fallback</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// For generateStaticParams</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">generateStaticParams</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> slug</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;page1&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> slug</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;page2&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="8-rate-limiting-issues">8. Rate Limiting Issues<a href="#8-rate-limiting-issues" class="hash-link" aria-label="Direct link to 8. Rate Limiting Issues" title="Direct link to 8. Rate Limiting Issues" translate="no">â€‹</a></h3>
<p><strong>Symptoms:</strong></p>
<ul>
<li class="">429 errors after several requests</li>
<li class="">Works initially then stops</li>
<li class="">Different behavior per IP</li>
</ul>
<p><strong>Diagnosis:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check rate limit headers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -i https://your-worker.workers.dev/api/endpoint 2&gt;&amp;1 | grep -i ratelimit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check KV for rate limit keys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx wrangler kv:key list --namespace-id=RATE_LIMIT_KV_ID | grep rate</span><br></span></code></pre></div></div>
<p><strong>Fixes:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Clear rate limit for an IP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx wrangler kv:key delete --namespace-id=RATE_LIMIT_KV_ID &quot;rate:192.168.1.1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Adjust limits in wrangler.toml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RATE_LIMIT_REQUESTS = &quot;100&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RATE_LIMIT_WINDOW = &quot;3600&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="9-meetinglocation-data-issues">9. Meeting/Location Data Issues<a href="#9-meetinglocation-data-issues" class="hash-link" aria-label="Direct link to 9. Meeting/Location Data Issues" title="Direct link to 9. Meeting/Location Data Issues" translate="no">â€‹</a></h3>
<p><strong>Symptoms:</strong></p>
<ul>
<li class="">No meetings found in certain areas</li>
<li class="">Stale meeting data</li>
<li class="">Cache showing wrong data</li>
</ul>
<p><strong>Diagnosis:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check cache status for a location</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -s -D - -o /dev/null \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Origin: https://yoursite.com&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;https://your-proxy.workers.dev/api/all?lat=45.52&amp;lng=-122.68&amp;radius=25&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | grep -iE &quot;(x-cache|x-geohash|x-source)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Force cache refresh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -H &quot;Origin: https://yoursite.com&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;https://your-proxy.workers.dev/warm&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check Supabase for meeting count</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node -e &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const { createClient } = require(&#x27;@supabase/supabase-js&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const supabase = createClient(&#x27;URL&#x27;, &#x27;KEY&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">supabase.from(&#x27;meetings&#x27;).select(&#x27;*&#x27;, { count: &#x27;exact&#x27;, head: true })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .then(({count}) =&gt; console.log(&#x27;Total meetings:&#x27;, count));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="10-build-fails-on-cloudflare-pages">10. Build Fails on Cloudflare Pages<a href="#10-build-fails-on-cloudflare-pages" class="hash-link" aria-label="Direct link to 10. Build Fails on Cloudflare Pages" title="Direct link to 10. Build Fails on Cloudflare Pages" translate="no">â€‹</a></h3>
<p><strong>Symptoms:</strong></p>
<ul>
<li class="">Works locally but fails on deploy</li>
<li class="">&quot;Module not found&quot; errors</li>
<li class="">Memory exceeded</li>
</ul>
<p><strong>Diagnosis:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check build output locally</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NODE_ENV=production npm run build 2&gt;&amp;1 | tee build.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check for conditional imports</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep -r &quot;require(&quot; src/ --include=&quot;*.ts&quot; --include=&quot;*.tsx&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check bundle size</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx next-bundle-analyzer</span><br></span></code></pre></div></div>
<p><strong>Fixes:</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// next.config.ts - increase memory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">experimental</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">memoryBasedWorkersCount</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Reduce bundle size</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">webpack</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">externals</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token spread operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">externals</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;sharp&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="debug-scripts">Debug Scripts<a href="#debug-scripts" class="hash-link" aria-label="Direct link to Debug Scripts" title="Direct link to Debug Scripts" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="scriptsdiagnosesh"><code>scripts/diagnose.sh</code><a href="#scriptsdiagnosesh" class="hash-link" aria-label="Direct link to scriptsdiagnosesh" title="Direct link to scriptsdiagnosesh" translate="no">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Run all diagnostics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;=== Environment ===&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node -v &amp;&amp; npm -v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;=== Dependencies ===&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm ls --depth=0 2&gt;&amp;1 | grep -E &quot;(UNMET|missing)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;=== TypeScript ===&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx tsc --noEmit 2&gt;&amp;1 | head -30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;=== Build ===&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm run build 2&gt;&amp;1 | tail -30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;=== Workers ===&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for worker in workers/*/; do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  echo &quot;Worker: $worker&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (cd &quot;$worker&quot; &amp;&amp; npx wrangler whoami 2&gt;/dev/null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">done</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;=== Supabase ===&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx supabase status 2&gt;/dev/null || echo &quot;Supabase CLI not configured&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="scriptscheck-rlsjs"><code>scripts/check-rls.js</code><a href="#scriptscheck-rlsjs" class="hash-link" aria-label="Direct link to scriptscheck-rlsjs" title="Direct link to scriptscheck-rlsjs" translate="no">â€‹</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Check RLS policies are working correctly</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> createClient </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;@supabase/supabase-js&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> supabase </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">NEXT_PUBLIC_SUPABASE_URL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">NEXT_PUBLIC_SUPABASE_ANON_KEY</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">checkTable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">table</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">\n=== Checking </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">table</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> ===</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> count </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> supabase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword module" style="color:#00009f">from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">table</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">select</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;exact&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">limit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">ERROR: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">error</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">message</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">OK: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">count</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> rows accessible</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Check critical tables</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;profiles&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;meetings&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;forum_posts&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;journal_entries&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">forEach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">checkTable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="validation-checklist">Validation Checklist<a href="#validation-checklist" class="hash-link" aria-label="Direct link to Validation Checklist" title="Direct link to Validation Checklist" translate="no">â€‹</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ ] Can reproduce the issue consistently</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] Identified which layer is failing (client/Next/Worker/Supabase/API)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] Checked browser console for errors</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] Checked network tab for failed requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] Checked worker logs (wrangler tail)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] Verified RLS policies allow access</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] Tested with fresh browser/incognito</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] Cleared all caches (browser, React Query, KV, TS)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] Checked environment variables match production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] Verified CORS headers are correct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] Tested on production URL (not just localhost)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] Created minimal reproduction case</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="output">Output<a href="#output" class="hash-link" aria-label="Direct link to Output" title="Direct link to Output" translate="no">â€‹</a></h2>
<p>When debugging, always provide:</p>
<ol>
<li class=""><strong>Root cause</strong> - What exactly was wrong</li>
<li class=""><strong>Evidence</strong> - Logs, errors, or queries that proved it</li>
<li class=""><strong>Fix</strong> - Minimal code change to resolve</li>
<li class=""><strong>Verification</strong> - How to confirm it&#x27;s fixed</li>
<li class=""><strong>Prevention</strong> - How to avoid this in future</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="tools-available">Tools Available<a href="#tools-available" class="hash-link" aria-label="Direct link to Tools Available" title="Direct link to Tools Available" translate="no">â€‹</a></h2>
<ul>
<li class=""><code>Read</code>, <code>Write</code>, <code>Edit</code> - File operations</li>
<li class=""><code>Bash</code> - Run commands, curl, wrangler</li>
<li class=""><code>Grep</code>, <code>Glob</code> - Search codebase</li>
<li class=""><code>WebFetch</code> - Test endpoints</li>
<li class=""><code>mcp__supabase__*</code> - Direct Supabase operations</li>
<li class=""><code>mcp__playwright__*</code> - Browser automation for UI testing</li>
</ul></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/debugging">debugging</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/nextjs">nextjs</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/cloudflare-workers">cloudflare-workers</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/supabase">supabase</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/troubleshooting">troubleshooting</a></li></ul></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="toc-wrapper-with-references"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#activation-triggers" class="table-of-contents__link toc-highlight">Activation Triggers</a></li><li><a href="#debug-philosophy" class="table-of-contents__link toc-highlight">Debug Philosophy</a></li><li><a href="#architecture-layers" class="table-of-contents__link toc-highlight">Architecture Layers</a></li><li><a href="#quick-diagnosis-commands" class="table-of-contents__link toc-highlight">Quick Diagnosis Commands</a><ul><li><a href="#check-everything-at-once" class="table-of-contents__link toc-highlight">Check Everything At Once</a></li><li><a href="#supabase-rls-diagnosis" class="table-of-contents__link toc-highlight">Supabase RLS Diagnosis</a></li><li><a href="#worker-health-check" class="table-of-contents__link toc-highlight">Worker Health Check</a></li><li><a href="#cache-inspection" class="table-of-contents__link toc-highlight">Cache Inspection</a></li></ul></li><li><a href="#common-issues--solutions" class="table-of-contents__link toc-highlight">Common Issues &amp; Solutions</a><ul><li><a href="#1-rls-policy-blocking-data-most-common" class="table-of-contents__link toc-highlight">1. RLS Policy Blocking Data (Most Common!)</a></li><li><a href="#2-cors-errors" class="table-of-contents__link toc-highlight">2. CORS Errors</a></li><li><a href="#3-auth-state-not-persisting" class="table-of-contents__link toc-highlight">3. Auth State Not Persisting</a></li><li><a href="#4-hydration-mismatch" class="table-of-contents__link toc-highlight">4. Hydration Mismatch</a></li><li><a href="#5-worker-not-deploying" class="table-of-contents__link toc-highlight">5. Worker Not Deploying</a></li><li><a href="#6-typescript-cache-haunting" class="table-of-contents__link toc-highlight">6. TypeScript Cache Haunting</a></li><li><a href="#7-static-export-issues" class="table-of-contents__link toc-highlight">7. Static Export Issues</a></li><li><a href="#8-rate-limiting-issues" class="table-of-contents__link toc-highlight">8. Rate Limiting Issues</a></li><li><a href="#9-meetinglocation-data-issues" class="table-of-contents__link toc-highlight">9. Meeting/Location Data Issues</a></li><li><a href="#10-build-fails-on-cloudflare-pages" class="table-of-contents__link toc-highlight">10. Build Fails on Cloudflare Pages</a></li></ul></li><li><a href="#debug-scripts" class="table-of-contents__link toc-highlight">Debug Scripts</a><ul><li><a href="#scriptsdiagnosesh" class="table-of-contents__link toc-highlight"><code>scripts/diagnose.sh</code></a></li><li><a href="#scriptscheck-rlsjs" class="table-of-contents__link toc-highlight"><code>scripts/check-rls.js</code></a></li></ul></li><li><a href="#validation-checklist" class="table-of-contents__link toc-highlight">Validation Checklist</a></li><li><a href="#output" class="table-of-contents__link toc-highlight">Output</a></li><li><a href="#tools-available" class="table-of-contents__link toc-highlight">Tools Available</a></li></ul></div></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Skills</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/skills">Browse Skills</a></li><li class="footer__item"><a class="footer__link-item" href="/submit-skill">Submit a Skill</a></li><li class="footer__item"><a class="footer__link-item" href="/ecosystem">Ecosystem</a></li><li class="footer__item"><a class="footer__link-item" href="/artifacts">Examples</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Documentation</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/erichowens/some_claude_skills" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.anthropic.com/claude" target="_blank" rel="noopener noreferrer" class="footer__link-item">Anthropic Claude<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/erich-owens-01a38446/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/erichowens" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Made by Erich Owens | Ex-Meta ML Engineer | Â© 2026 | Windows 3.1 aesthetic by design.</div></div></div></footer></div>
</body>
</html>