"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[15903],{28453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>a});var r=i(96540);const t={},l=r.createContext(t);function s(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(l.Provider,{value:n},e.children)}},76406:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"skills/site_reliability_engineer/references/validation-logic","title":"Validation Logic Reference","description":"Context-aware detection patterns used by validation scripts.","source":"@site/docs/skills/site_reliability_engineer/references/validation-logic.md","sourceDirName":"skills/site_reliability_engineer/references","slug":"/skills/site_reliability_engineer/references/validation-logic","permalink":"/docs/skills/site_reliability_engineer/references/validation-logic","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Validation Logic Reference","sidebar_label":"Validation Logic Reference","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"CI/CD Integration Reference","permalink":"/docs/skills/site_reliability_engineer/references/ci-cd-integration"},"next":{"title":"Code Necromancer","permalink":"/docs/skills/code_necromancer/"}}');var t=i(74848),l=i(28453);const s={title:"Validation Logic Reference",sidebar_label:"Validation Logic Reference",sidebar_position:2},a="Validation Logic Reference",c={},o=[{value:"Core Principle: Context-Aware Detection",id:"core-principle-context-aware-detection",level:2},{value:"Liquid Syntax Detection",id:"liquid-syntax-detection",level:2},{value:"Angle Bracket Detection",id:"angle-bracket-detection",level:2},{value:"SkillHeader Prop Validation",id:"skillheader-prop-validation",level:2},{value:"Current SkillHeader Interface",id:"current-skillheader-interface",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"validation-logic-reference",children:"Validation Logic Reference"})}),"\n",(0,t.jsx)(n.p,{children:"Context-aware detection patterns used by validation scripts."}),"\n",(0,t.jsx)(n.h2,{id:"core-principle-context-aware-detection",children:"Core Principle: Context-Aware Detection"}),"\n",(0,t.jsx)(n.p,{children:"Simple regex fails because it doesn't understand MDX context. Always:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Track code block state (```` markers)"}),"\n",(0,t.jsxs)(n.li,{children:["Track frontmatter state (",(0,t.jsx)(n.code,{children:"---"})," markers)"]}),"\n",(0,t.jsx)(n.li,{children:"Only validate outside protected regions"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"liquid-syntax-detection",children:"Liquid Syntax Detection"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Problem"}),": Double-brace template syntax in Vue/Handlebars examples gets interpreted as Liquid."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Context-Aware Logic"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"function validateLiquid(filePath) {\n  const content = fs.readFileSync(filePath, 'utf8');\n  const lines = content.split('\\n');\n  const errors = [];\n\n  let inCodeBlock = false;\n  let inFrontmatter = false;\n\n  lines.forEach((line, idx) => {\n    // Track code blocks\n    if (line.trim().startsWith('```')) {\n      inCodeBlock = !inCodeBlock;\n      return;\n    }\n\n    // Track frontmatter\n    if (line.trim() === '---') {\n      inFrontmatter = !inFrontmatter;\n      return;\n    }\n\n    // Skip if in protected region\n    if (inCodeBlock || inFrontmatter) return;\n\n    // Check for unescaped Liquid syntax\n    const liquidMatch = line.match(/\\{\\{[^`].*?\\}\\}/);\n    if (liquidMatch && !line.includes('{`{{')) {\n      errors.push({\n        line: idx + 1,\n        column: line.indexOf(liquidMatch[0]) + 1,\n        text: liquidMatch[0],\n        suggestion: `{\\\\`${liquidMatch[0]}\\\\`}`\n      });\n    }\n  });\n\n  return errors;\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Fix Pattern"}),": Wrap in MDX expression syntax using backtick expressions"]}),"\n",(0,t.jsx)(n.h2,{id:"angle-bracket-detection",children:"Angle Bracket Detection"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Problem"}),": ",(0,t.jsx)(n.code,{children:"&lt;70"})," parsed as incomplete HTML tag, breaks MDX."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Context-Aware Logic"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"function validateBrackets(filePath) {\n  const content = fs.readFileSync(filePath, 'utf8');\n  const lines = content.split('\\n');\n  const errors = [];\n\n  let inCodeBlock = false;\n\n  lines.forEach((line, idx) => {\n    if (line.trim().startsWith('```')) {\n      inCodeBlock = !inCodeBlock;\n      return;\n    }\n    if (inCodeBlock) return;\n\n    // Check for unescaped < followed by digit\n    const lessThanMatch = line.match(/<(\\d+)/);\n    const greaterThanMatch = line.match(/>(\\d+)/);\n\n    if (lessThanMatch && !line.includes('&lt;')) {\n      errors.push({\n        line: idx + 1,\n        text: lessThanMatch[0],\n        fix: lessThanMatch[0].replace('<', '&lt;')\n      });\n    }\n\n    if (greaterThanMatch && !line.includes('&gt;')) {\n      errors.push({\n        line: idx + 1,\n        text: greaterThanMatch[0],\n        fix: greaterThanMatch[0].replace('>', '&gt;')\n      });\n    }\n  });\n\n  return errors;\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Fix Pattern"}),": Replace ",(0,t.jsx)(n.code,{children:"<"})," with ",(0,t.jsx)(n.code,{children:"&lt;"})," and ",(0,t.jsx)(n.code,{children:">"})," with ",(0,t.jsx)(n.code,{children:"&gt;"})]}),"\n",(0,t.jsx)(n.h2,{id:"skillheader-prop-validation",children:"SkillHeader Prop Validation"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Problem"}),": Wrong prop names cause SSG build failure."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Validation Logic"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"function validateSkillHeader(filePath) {\n  const content = fs.readFileSync(filePath, 'utf8');\n  const errors = [];\n\n  // Find SkillHeader component\n  const headerMatch = content.match(/<SkillHeader[\\s\\S]*?\\/>/);\n  if (!headerMatch) return errors;\n\n  const headerText = headerMatch[0];\n  const lines = content.split('\\n');\n  const lineNum = lines.findIndex(l => l.includes('<SkillHeader')) + 1;\n\n  // Check for wrong prop name\n  if (headerText.includes('skillId=')) {\n    errors.push({\n      line: lineNum,\n      issue: 'Uses \"skillId\" instead of \"fileName\"',\n      fix: 'Change skillId to fileName'\n    });\n  }\n\n  // Check for deprecated props\n  ['difficulty', 'category', 'tags'].forEach(prop => {\n    if (headerText.includes(`${prop}=`)) {\n      errors.push({\n        line: lineNum,\n        issue: `Uses deprecated \"${prop}\" prop`,\n        fix: 'Remove - only use: skillName, fileName, description'\n      });\n    }\n  });\n\n  // Check for required props\n  if (!headerText.includes('skillName=')) {\n    errors.push({ line: lineNum, issue: 'Missing required \"skillName\"' });\n  }\n  if (!headerText.includes('fileName=')) {\n    errors.push({ line: lineNum, issue: 'Missing required \"fileName\"' });\n  }\n\n  return errors;\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"current-skillheader-interface",children:"Current SkillHeader Interface"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"interface SkillHeaderProps {\n  skillName: string;    // Required: Display name\n  fileName: string;     // Required: matches skill folder (underscores)\n  description: string;  // Required: from SKILL.md frontmatter\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Deprecated props"})," (remove if found): ",(0,t.jsx)(n.code,{children:"difficulty"}),", ",(0,t.jsx)(n.code,{children:"category"}),", ",(0,t.jsx)(n.code,{children:"tags"})]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);