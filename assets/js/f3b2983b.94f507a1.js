"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[37162],{28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var r=t(96540);const i={},o=r.createContext(i);function s(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(o.Provider,{value:n},e.children)}},56601:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"skills/personal_finance_coach/references/investment-theory","title":"Investment Theory","description":"Modern Portfolio Theory (Markowitz, 1952)","source":"@site/docs/skills/personal_finance_coach/references/investment-theory.md","sourceDirName":"skills/personal_finance_coach/references","slug":"/skills/personal_finance_coach/references/investment-theory","permalink":"/docs/skills/personal_finance_coach/references/investment-theory","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Investment Theory","sidebar_label":"Investment Theory","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Personal Finance Coach","permalink":"/docs/skills/personal_finance_coach/"},"next":{"title":"Tax Optimization Strategies","permalink":"/docs/skills/personal_finance_coach/references/tax-optimization"}}');var i=t(74848),o=t(28453);const s={title:"Investment Theory",sidebar_label:"Investment Theory",sidebar_position:1},a="Investment Theory",l={},c=[{value:"Modern Portfolio Theory (Markowitz, 1952)",id:"modern-portfolio-theory-markowitz-1952",level:2},{value:"Factor Investing (Fama-French and Beyond)",id:"factor-investing-fama-french-and-beyond",level:2},{value:"Sequence of Returns Risk",id:"sequence-of-returns-risk",level:2},{value:"Emergency Fund Calculation",id:"emergency-fund-calculation",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"investment-theory",children:"Investment Theory"})}),"\n",(0,i.jsx)(n.h2,{id:"modern-portfolio-theory-markowitz-1952",children:"Modern Portfolio Theory (Markowitz, 1952)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'CORE INSIGHT: Risk is not just about individual assets,\n              but how they move TOGETHER.\n\nEFFICIENT FRONTIER\n\u251c\u2500\u2500 Set of portfolios with maximum return for given risk\n\u251c\u2500\u2500 All rational investors should be on this frontier\n\u251c\u2500\u2500 Below frontier = inefficient (can do better)\n\u2514\u2500\u2500 Above frontier = impossible\n\nPORTFOLIO VARIANCE:\n\u03c3\xb2_p = \u03a3\u1d62 \u03a3\u2c7c w\u1d62w\u2c7c\u03c3\u1d62\u03c3\u2c7c\u03c1\u1d62\u2c7c\n\nWhere:\n\u251c\u2500\u2500 w\u1d62, w\u2c7c = weights of assets i, j\n\u251c\u2500\u2500 \u03c3\u1d62, \u03c3\u2c7c = standard deviations\n\u2514\u2500\u2500 \u03c1\u1d62\u2c7c = correlation coefficient\n\nKEY IMPLICATION:\n\u251c\u2500\u2500 Uncorrelated assets reduce portfolio risk\n\u251c\u2500\u2500 Even adding a "risky" asset can reduce total risk\n\u2514\u2500\u2500 Diversification is the "only free lunch"\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import numpy as np\nfrom scipy.optimize import minimize\n\ndef optimize_portfolio(returns: np.ndarray, cov_matrix: np.ndarray,\n                      target_return: float = None,\n                      risk_free_rate: float = 0.03) -> dict:\n    \"\"\"\n    Find optimal portfolio weights using mean-variance optimization.\n\n    Args:\n        returns: Expected returns for each asset (annual)\n        cov_matrix: Covariance matrix of returns\n        target_return: If specified, minimize risk for this return\n        risk_free_rate: Risk-free rate for Sharpe calculation\n\n    Returns:\n        dict with optimal weights, expected return, volatility, Sharpe ratio\n    \"\"\"\n    n_assets = len(returns)\n\n    def portfolio_volatility(weights):\n        return np.sqrt(weights @ cov_matrix @ weights)\n\n    def portfolio_return(weights):\n        return weights @ returns\n\n    def neg_sharpe(weights):\n        ret = portfolio_return(weights)\n        vol = portfolio_volatility(weights)\n        return -(ret - risk_free_rate) / vol\n\n    # Constraints: weights sum to 1\n    constraints = [{'type': 'eq', 'fun': lambda w: np.sum(w) - 1}]\n\n    if target_return:\n        constraints.append({\n            'type': 'eq',\n            'fun': lambda w: portfolio_return(w) - target_return\n        })\n        objective = portfolio_volatility\n    else:\n        objective = neg_sharpe\n\n    # Bounds: 0-100% in each asset (no shorting)\n    bounds = tuple((0, 1) for _ in range(n_assets))\n\n    # Initial guess: equal weight\n    init_weights = np.ones(n_assets) / n_assets\n\n    result = minimize(objective, init_weights, method='SLSQP',\n                     bounds=bounds, constraints=constraints)\n\n    weights = result.x\n    return {\n        'weights': weights,\n        'return': portfolio_return(weights),\n        'volatility': portfolio_volatility(weights),\n        'sharpe': (portfolio_return(weights) - risk_free_rate) /\n                  portfolio_volatility(weights)\n    }\n"})}),"\n",(0,i.jsx)(n.h2,{id:"factor-investing-fama-french-and-beyond",children:"Factor Investing (Fama-French and Beyond)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"CAPM (1964): E[R\u1d62] = Rf + \u03b2\u1d62(E[Rm] - Rf)\n\u2514\u2500\u2500 Single factor: Market risk\n\nFAMA-FRENCH 3-FACTOR (1992):\nE[R\u1d62] = Rf + \u03b2\u1d62(Rm - Rf) + s\u1d62SMB + h\u1d62HML\n\u251c\u2500\u2500 SMB: Small Minus Big (size premium)\n\u2514\u2500\u2500 HML: High Minus Low (value premium)\n\nFAMA-FRENCH 5-FACTOR (2014):\nAdded:\n\u251c\u2500\u2500 RMW: Robust Minus Weak (profitability)\n\u2514\u2500\u2500 CMA: Conservative Minus Aggressive (investment)\n\nMOMENTUM FACTOR (Carhart, 1997):\n\u251c\u2500\u2500 Winners continue winning short-term\n\u251c\u2500\u2500 12-month momentum, skip most recent month\n\u2514\u2500\u2500 High turnover, tax-inefficient\n\nFACTOR PREMIUMS (Historical, not guaranteed):\n\u251c\u2500\u2500 Market: 5-7% over risk-free\n\u251c\u2500\u2500 Size: 2-3% (small > large)\n\u251c\u2500\u2500 Value: 3-5% (cheap > expensive)\n\u251c\u2500\u2500 Momentum: 4-6% (but volatile)\n\u251c\u2500\u2500 Profitability: 2-3%\n\u2514\u2500\u2500 Low volatility: Market return at lower risk\n\nPRACTICAL IMPLEMENTATION:\n\u251c\u2500\u2500 DFA, Avantis, AQR: Academic factor funds\n\u251c\u2500\u2500 Vanguard Value (VTV): Simple value tilt\n\u251c\u2500\u2500 iShares Small-Cap Value (IJS): Size + value\n\u2514\u2500\u2500 Dimensional US Small Cap Value (DFSV): Gold standard\n"})}),"\n",(0,i.jsx)(n.h2,{id:"sequence-of-returns-risk",children:"Sequence of Returns Risk"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"THE RETIREMENT KILLER\n\nTwo scenarios, same AVERAGE return:\n\nSCENARIO A (Good sequence):\nYear 1: +20%, Year 2: +15%, Year 3: -10%\n$1M portfolio with $40K withdrawal:\n\u251c\u2500\u2500 End Y1: $1M \xd7 1.20 - $40K = $1.16M\n\u251c\u2500\u2500 End Y2: $1.16M \xd7 1.15 - $40K = $1.294M\n\u251c\u2500\u2500 End Y3: $1.294M \xd7 0.90 - $40K = $1.125M\n\u2514\u2500\u2500 RESULT: $1.125M remaining\n\nSCENARIO B (Bad sequence):\nYear 1: -10%, Year 2: +15%, Year 3: +20%\n\u251c\u2500\u2500 End Y1: $1M \xd7 0.90 - $40K = $860K\n\u251c\u2500\u2500 End Y2: $860K \xd7 1.15 - $40K = $949K\n\u251c\u2500\u2500 End Y3: $949K \xd7 1.20 - $40K = $1.099M\n\u2514\u2500\u2500 RESULT: $1.099M remaining\n\nSAME AVERAGE RETURN, $26K DIFFERENCE!\n\nEarly losses + withdrawals = permanent damage\n\nMITIGATION STRATEGIES:\n\u251c\u2500\u2500 Bond tent: Higher bonds at retirement, reduce over time\n\u251c\u2500\u2500 Bucket strategy: 2-3 years in cash/bonds\n\u251c\u2500\u2500 Dynamic withdrawal: Reduce spending in down markets\n\u251c\u2500\u2500 Part-time work: Reduce withdrawals early\n\u2514\u2500\u2500 CAPE-based withdrawal: Adjust for market valuation\n"})}),"\n",(0,i.jsx)(n.h2,{id:"emergency-fund-calculation",children:"Emergency Fund Calculation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"TRADITIONAL ADVICE: 3-6 months expenses\n\nACTUAL CALCULATION:\n\nFACTORS TO CONSIDER:\n\u251c\u2500\u2500 Job security (industry, skills, location)\n\u251c\u2500\u2500 Income volatility (W-2 vs 1099)\n\u251c\u2500\u2500 Number of income sources\n\u251c\u2500\u2500 Fixed vs variable expenses\n\u251c\u2500\u2500 Debt obligations\n\u251c\u2500\u2500 Health/family situation\n\u2514\u2500\u2500 Risk tolerance\n\nFORMULA:\nEF = (Monthly_Essential_Expenses) \xd7\n     (Expected_Unemployment_Duration) \xd7\n     (Safety_Factor)\n\nEXPECTED UNEMPLOYMENT DURATION:\n\u251c\u2500\u2500 Under $50K salary: 1 month per $10K\n\u251c\u2500\u2500 $50K-$100K: 1.5 months per $10K\n\u251c\u2500\u2500 Over $100K: 2 months per $10K\n\u2514\u2500\u2500 Add 50% if specialized field\n\nSAFETY FACTORS:\n\u251c\u2500\u2500 Stable W-2, dual income: 1.0\xd7\n\u251c\u2500\u2500 Single income, stable: 1.5\xd7\n\u251c\u2500\u2500 Variable income: 2.0\xd7\n\u251c\u2500\u2500 Self-employed: 2.5\xd7\n\u2514\u2500\u2500 Health issues/dependents: Add 0.5\xd7\n\nEXAMPLE:\n\u251c\u2500\u2500 $80K salary, tech worker, single income\n\u251c\u2500\u2500 Essential expenses: $4K/month\n\u251c\u2500\u2500 Expected unemployment: 80K/10K \xd7 1.5 = 12 months\n\u251c\u2500\u2500 Safety factor: 1.5 (single income)\n\u251c\u2500\u2500 EF = $4K \xd7 12 \xd7 1.5 = $72K\n\u2514\u2500\u2500 Round: $75K emergency fund\n"})})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);