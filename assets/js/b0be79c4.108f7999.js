"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[41147],{28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>o});var i=s(96540);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}},49995:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"skills/skill_coach/references/self-contained-tools","title":"Self-Contained Tools","description":"Implementation patterns for scripts, MCP servers, and subagents that make skills immediately useful.","source":"@site/docs/skills/skill_coach/references/self-contained-tools.md","sourceDirName":"skills/skill_coach/references","slug":"/skills/skill_coach/references/self-contained-tools","permalink":"/docs/skills/skill_coach/references/self-contained-tools","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Self-Contained Tools","sidebar_label":"Self-Contained Tools","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Skill Scoring Rubric","permalink":"/docs/skills/skill_coach/references/scoring-rubric"},"next":{"title":"Domain Shibboleths","permalink":"/docs/skills/skill_coach/references/shibboleths"}}');var r=s(74848),t=s(28453);const l={title:"Self-Contained Tools",sidebar_label:"Self-Contained Tools",sidebar_position:4},o="Self-Contained Tools",a={},c=[{value:"Philosophy",id:"philosophy",level:2},{value:"Scripts",id:"scripts",level:2},{value:"When to Include Scripts",id:"when-to-include-scripts",level:3},{value:"Script Requirements",id:"script-requirements",level:3},{value:"Example: Domain Analysis Script",id:"example-domain-analysis-script",level:3},{value:"Example: Validation Script",id:"example-validation-script",level:3},{value:"MCP Servers",id:"mcp-servers",level:2},{value:"When to Build an MCP",id:"when-to-build-an-mcp",level:3},{value:"MCP Server Structure",id:"mcp-server-structure",level:3},{value:"Example: Minimal MCP Server",id:"example-minimal-mcp-server",level:3},{value:"package.json",id:"packagejson",level:3},{value:"README Template",id:"readme-template",level:3},{value:"Subagents",id:"subagents",level:2},{value:"When to Define Subagents",id:"when-to-define-subagents",level:3},{value:"Subagent Definition Format",id:"subagent-definition-format",level:3},{value:"Multi-Agent Orchestration Pattern",id:"multi-agent-orchestration-pattern",level:3},{value:"Anti-Patterns",id:"anti-patterns",level:2},{value:"Phantom Tools",id:"phantom-tools",level:3},{value:"Template Soup",id:"template-soup",level:3},{value:"Dependency Hell",id:"dependency-hell",level:3},{value:"MCP Without Purpose",id:"mcp-without-purpose",level:3},{value:"Checklist: Is My Skill Self-Contained?",id:"checklist-is-my-skill-self-contained",level:2},{value:"Examples of Self-Contained Skills",id:"examples-of-self-contained-skills",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"self-contained-tools",children:"Self-Contained Tools"})}),"\n",(0,r.jsx)(n.p,{children:"Implementation patterns for scripts, MCP servers, and subagents that make skills immediately useful."}),"\n",(0,r.jsx)(n.h2,{id:"philosophy",children:"Philosophy"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"The best skill is one where the user can start working immediately."})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Approach"}),(0,r.jsx)(n.th,{children:"Result"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:'"Here\'s how to build a CLIP embedder"'}),(0,r.jsx)(n.td,{children:"User spends 2 hours implementing"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:'"Here\'s a working CLIP embedder, run it"'}),(0,r.jsx)(n.td,{children:"User is productive in 2 minutes"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Skills should encode expertise AND provide working tools to apply that expertise."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"scripts",children:"Scripts"}),"\n",(0,r.jsx)(n.h3,{id:"when-to-include-scripts",children:"When to Include Scripts"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Skill describes repeatable operations (analysis, validation, transformation)"}),"\n",(0,r.jsx)(n.li,{children:"Domain has specific algorithms that should be implemented correctly"}),"\n",(0,r.jsx)(n.li,{children:"Pre-flight checks would prevent common errors"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"script-requirements",children:"Script Requirements"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Actually work"})," - Not templates, not pseudocode"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Minimal dependencies"})," - Prefer stdlib, document any pip/npm installs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Clear interface"})," - CLI args or stdin/stdout"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error handling"})," - Graceful failures with helpful messages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"README"})," - How to install and run"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"example-domain-analysis-script",children:"Example: Domain Analysis Script"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'#!/usr/bin/env python3\n"""\nPhoto Composition Analyzer\nAnalyzes images for composition quality using rule of thirds,\nvisual weight distribution, and color harmony.\n\nUsage: python analyze_composition.py <image_path>\nDependencies: pip install pillow numpy\n"""\n\nimport sys\nfrom pathlib import Path\n\ndef analyze_composition(image_path: str) -> dict:\n    """Analyze composition and return scores."""\n    # Import here to give helpful error if missing\n    try:\n        from PIL import Image\n        import numpy as np\n    except ImportError:\n        print("Install dependencies: pip install pillow numpy")\n        sys.exit(1)\n\n    img = Image.open(image_path)\n    # ... actual implementation ...\n\n    return {\n        "rule_of_thirds": 0.85,\n        "visual_balance": 0.72,\n        "color_harmony": 0.91,\n        "overall": 0.83\n    }\n\nif __name__ == "__main__":\n    if len(sys.argv) != 2:\n        print(f"Usage: {sys.argv[0]} <image_path>")\n        sys.exit(1)\n\n    result = analyze_composition(sys.argv[1])\n    for metric, score in result.items():\n        print(f"{metric}: {score:.2f}")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"example-validation-script",children:"Example: Validation Script"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# validate_skill.sh - Pre-flight checks for skill quality\n# Usage: ./validate_skill.sh /path/to/skill\n\nSKILL_DIR="$1"\n\nif [ -z "$SKILL_DIR" ]; then\n    echo "Usage: $0 <skill_directory>"\n    exit 1\nfi\n\nerrors=0\n\n# Check SKILL.md exists\nif [ ! -f "$SKILL_DIR/SKILL.md" ]; then\n    echo "\u274c Missing SKILL.md"\n    ((errors++))\nelse\n    echo "\u2705 SKILL.md exists"\nfi\n\n# Check line count\nlines=$(wc -l < "$SKILL_DIR/SKILL.md")\nif [ "$lines" -gt 500 ]; then\n    echo "\u26a0\ufe0f  SKILL.md is $lines lines (target: &lt;500)"\nelse\n    echo "\u2705 SKILL.md is $lines lines"\nfi\n\n# Check for NOT clause in description\nif grep -q "NOT for" "$SKILL_DIR/SKILL.md"; then\n    echo "\u2705 Description has NOT clause"\nelse\n    echo "\u274c Missing NOT clause in description"\n    ((errors++))\nfi\n\nexit $errors\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"mcp-servers",children:"MCP Servers"}),"\n",(0,r.jsx)(n.h3,{id:"when-to-build-an-mcp",children:"When to Build an MCP"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Skill needs external API access (GitHub, Figma, databases, etc.)"}),"\n",(0,r.jsx)(n.li,{children:"OAuth or API key authentication required"}),"\n",(0,r.jsx)(n.li,{children:"Stateful connections (websockets, streaming)"}),"\n",(0,r.jsx)(n.li,{children:"Rate limiting or caching needed"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"mcp-server-structure",children:"MCP Server Structure"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"mcp-server/\n\u251c\u2500\u2500 src/\n\u2502   \u2514\u2500\u2500 index.ts       # Server implementation\n\u251c\u2500\u2500 package.json       # Dependencies and scripts\n\u251c\u2500\u2500 tsconfig.json      # TypeScript config\n\u2514\u2500\u2500 README.md          # Installation instructions\n"})}),"\n",(0,r.jsx)(n.h3,{id:"example-minimal-mcp-server",children:"Example: Minimal MCP Server"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'// src/index.ts\nimport { Server } from "@modelcontextprotocol/sdk/server/index.js";\nimport { StdioServerTransport } from "@modelcontextprotocol/sdk/server/stdio.js";\n\nconst server = new Server(\n  { name: "my-skill-mcp", version: "1.0.0" },\n  { capabilities: { tools: {} } }\n);\n\n// Define tools\nserver.setRequestHandler("tools/list", async () => ({\n  tools: [\n    {\n      name: "analyze_repo",\n      description: "Analyze a GitHub repository structure",\n      inputSchema: {\n        type: "object",\n        properties: {\n          repo: { type: "string", description: "owner/repo format" }\n        },\n        required: ["repo"]\n      }\n    }\n  ]\n}));\n\nserver.setRequestHandler("tools/call", async (request) => {\n  const { name, arguments: args } = request.params;\n\n  if (name === "analyze_repo") {\n    // Actual implementation\n    const result = await analyzeRepo(args.repo);\n    return { content: [{ type: "text", text: JSON.stringify(result) }] };\n  }\n\n  throw new Error(`Unknown tool: ${name}`);\n});\n\n// Start server\nconst transport = new StdioServerTransport();\nawait server.connect(transport);\n'})}),"\n",(0,r.jsx)(n.h3,{id:"packagejson",children:"package.json"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "name": "my-skill-mcp",\n  "version": "1.0.0",\n  "type": "module",\n  "bin": { "my-skill-mcp": "dist/index.js" },\n  "scripts": {\n    "build": "tsc",\n    "start": "node dist/index.js"\n  },\n  "dependencies": {\n    "@modelcontextprotocol/sdk": "^1.0.0"\n  },\n  "devDependencies": {\n    "typescript": "^5.0.0"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"readme-template",children:"README Template"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-markdown",children:'# My Skill MCP Server\n\nMCP server for [domain] operations.\n\n## Installation\n\n\\`\\`\\`bash\ncd mcp-server\nnpm install\nnpm run build\n\\`\\`\\`\n\n## Configuration\n\nAdd to your Claude Code MCP settings:\n\n\\`\\`\\`json\n{\n  "mcpServers": {\n    "my-skill": {\n      "command": "node",\n      "args": ["/path/to/mcp-server/dist/index.js"],\n      "env": {\n        "API_KEY": "your-api-key"\n      }\n    }\n  }\n}\n\\`\\`\\`\n\n## Tools\n\n- `analyze_repo` - Analyze a GitHub repository structure\n- `fetch_issues` - Get open issues with labels\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"subagents",children:"Subagents"}),"\n",(0,r.jsx)(n.h3,{id:"when-to-define-subagents",children:"When to Define Subagents"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Skill involves multi-step workflows"}),"\n",(0,r.jsx)(n.li,{children:"Different phases need different tool access"}),"\n",(0,r.jsx)(n.li,{children:"Orchestration logic is complex enough to warrant isolation"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"subagent-definition-format",children:"Subagent Definition Format"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-markdown",children:"# agents/research-workflow.md\n\n## Agent: Research Coordinator\n\n### Purpose\nOrchestrate multi-source research with synthesis.\n\n### System Prompt\nYou are a research coordinator. Your job is to:\n1. Break down research questions into searchable queries\n2. Dispatch searches to appropriate sources\n3. Synthesize findings into coherent answers\n\n### Tools Required\n- WebSearch\n- WebFetch\n- Read\n- Write\n\n### Workflow\n1. Receive research question\n2. Generate 3-5 search queries\n3. Execute searches in parallel\n4. Read and extract relevant content\n5. Synthesize into final answer\n\n### Success Criteria\n- All claims have citations\n- Multiple sources corroborate findings\n- Contradictions are explicitly noted\n"})}),"\n",(0,r.jsx)(n.h3,{id:"multi-agent-orchestration-pattern",children:"Multi-Agent Orchestration Pattern"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-markdown",children:"# agents/orchestrator.md\n\n## Pipeline: Code Review\n\n### Agents\n1. **security-scanner** - Check for vulnerabilities\n2. **style-checker** - Verify code style\n3. **architecture-reviewer** - Assess design patterns\n\n### Orchestration\n\\`\\`\\`\nparallel:\n  - security-scanner \u2192 security_report\n  - style-checker \u2192 style_report\nthen:\n  - architecture-reviewer(security_report, style_report) \u2192 final_review\n\\`\\`\\`\n\n### Handoff Protocol\nEach agent produces structured output:\n- `status`: pass | warn | fail\n- `findings`: list of issues\n- `recommendations`: suggested fixes\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"anti-patterns",children:"Anti-Patterns"}),"\n",(0,r.jsx)(n.h3,{id:"phantom-tools",children:"Phantom Tools"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What it looks like"}),": SKILL.md references ",(0,r.jsx)(n.code,{children:"scripts/analyze.py"})," but file doesn't exist"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Why it's wrong"}),": Users try to run non-existent code, lose trust in skill"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fix"}),": Only reference tools that actually exist and work"]}),"\n",(0,r.jsx)(n.h3,{id:"template-soup",children:"Template Soup"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What it looks like"}),": Scripts are templates with ",(0,r.jsx)(n.code,{children:"# TODO: implement"})," comments"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Why it's wrong"}),": User still has to do the implementation work"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fix"}),": Ship working code or don't ship at all"]}),"\n",(0,r.jsx)(n.h3,{id:"dependency-hell",children:"Dependency Hell"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What it looks like"}),": Script requires 15 pip packages, specific Python version, system libraries"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Why it's wrong"}),": Most users won't complete setup"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fix"}),": Minimize dependencies, prefer stdlib, document clearly"]}),"\n",(0,r.jsx)(n.h3,{id:"mcp-without-purpose",children:"MCP Without Purpose"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What it looks like"}),": MCP server for operations that could be a simple script"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Why it's wrong"}),": Over-engineering; MCP has setup overhead"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fix"}),": Use MCP only when you need: auth, state, external APIs, or caching"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"checklist-is-my-skill-self-contained",children:"Checklist: Is My Skill Self-Contained?"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u25a1 Can a user start using this skill immediately?\n\u25a1 Are all referenced scripts/tools actually present and working?\n\u25a1 Do scripts have clear installation instructions?\n\u25a1 Do scripts handle errors gracefully?\n\u25a1 If MCP needed, is server implementation complete?\n\u25a1 If subagents needed, are prompts and workflows defined?\n\u25a1 Is there a validation script to check environment?\n\u25a1 Does README explain how to set everything up?\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"examples-of-self-contained-skills",children:"Examples of Self-Contained Skills"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Skill"}),(0,r.jsx)(n.th,{children:"Tools Included"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"clip-aware-embeddings"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"scripts/validate_clip_usage.py"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"site-reliability-engineer"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"scripts/validate-brackets.js"}),", ",(0,r.jsx)(n.code,{children:"scripts/validate-liquid.js"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"skill-coach"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"scripts/validate_skill.py"})})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Goal"}),": Every skill with repeatable operations should have working tools."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);