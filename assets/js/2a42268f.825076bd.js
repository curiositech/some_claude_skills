"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[69404],{19187:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"dag-execution-guide","title":"DAG Execution Guide","description":"Transform arbitrary tasks into parallelized agent workflows.","source":"@site/docs/dag-execution-guide.md","sourceDirName":".","slug":"/dag-execution-guide","permalink":"/docs/dag-execution-guide","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var l=i(74848),a=i(28453);const t={},r="DAG Execution Guide",c={},o=[{value:"Quick Start",id:"quick-start",level:2},{value:"1. Basic Task Execution",id:"1-basic-task-execution",level:3},{value:"2. What Happens Behind the Scenes",id:"2-what-happens-behind-the-scenes",level:3},{value:"Architecture",id:"architecture",level:2},{value:"Components",id:"components",level:3},{value:"Execution Flow",id:"execution-flow",level:3},{value:"Example: Landing Page Task",id:"example-landing-page-task",level:2},{value:"User Request",id:"user-request",level:3},{value:"Decomposition Result",id:"decomposition-result",level:3},{value:"Skill Matching",id:"skill-matching",level:3},{value:"Execution Waves",id:"execution-waves",level:3},{value:"Real Execution",id:"real-execution",level:3},{value:"Running Demos",id:"running-demos",level:2},{value:"Decomposition Only",id:"decomposition-only",level:3},{value:"Full Execution Demo",id:"full-execution-demo",level:3},{value:"Custom Task",id:"custom-task",level:3},{value:"Advanced Usage",id:"advanced-usage",level:2},{value:"Customizing Skill Matching",id:"customizing-skill-matching",level:3},{value:"Building DAGs Programmatically",id:"building-dags-programmatically",level:3},{value:"Performance Tips",id:"performance-tips",level:2},{value:"1. Maximize Parallelism",id:"1-maximize-parallelism",level:3},{value:"2. Model Selection",id:"2-model-selection",level:3},{value:"3. Task Size",id:"3-task-size",level:3},{value:"4. Context Passing",id:"4-context-passing",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"No ANTHROPIC_API_KEY",id:"no-anthropic_api_key",level:3},{value:"Skill Matching Low Confidence",id:"skill-matching-low-confidence",level:3},{value:"Execution Plan Has Too Many Waves",id:"execution-plan-has-too-many-waves",level:3},{value:"Tasks Not Running in Parallel",id:"tasks-not-running-in-parallel",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"TaskDecomposer",id:"taskdecomposer",level:3},{value:"ClaudeCodeRuntime",id:"claudecoderuntime",level:3},{value:"DAGBuilder (Fluent API)",id:"dagbuilder-fluent-api",level:3},{value:"What&#39;s Next?",id:"whats-next",level:2},{value:"Current Status (75% Complete)",id:"current-status-75-complete",level:3},{value:"Remaining Work (25%)",id:"remaining-work-25",level:3},{value:"Examples from Production",id:"examples-from-production",level:2},{value:"Research Pipeline",id:"research-pipeline",level:3},{value:"Code Review",id:"code-review",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"dag-execution-guide",children:"DAG Execution Guide"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Transform arbitrary tasks into parallelized agent workflows."})}),"\n",(0,l.jsx)(n.p,{children:"The DAG Framework takes natural language tasks and automatically decomposes them into execution graphs with parallel agent orchestration. This guide shows you how to use it."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,l.jsx)(n.h3,{id:"1-basic-task-execution",children:"1. Basic Task Execution"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# In a Claude Code conversation\nUser: Execute this task using DAG: "Build a landing page for a SaaS product"\n\nClaude: I\'ll decompose this task and execute it in parallel waves...\n[Uses dag-executor skill to orchestrate execution]\n'})}),"\n",(0,l.jsx)(n.h3,{id:"2-what-happens-behind-the-scenes",children:"2. What Happens Behind the Scenes"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Your Task\n    \u2193\nTask Decomposer (Claude API)\n    \u2193\n8 Subtasks with Dependencies\n    \u2193\nDAG Builder\n    \u2193\nExecution Planner\n    \u2193\n5 Waves (some parallel, some sequential)\n    \u2193\nTask Tool Calls (real agent spawning)\n    \u2193\nResults Aggregated\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,l.jsx)(n.h3,{id:"components",children:"Components"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Component"}),(0,l.jsx)(n.th,{children:"Purpose"}),(0,l.jsx)(n.th,{children:"File"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"TaskDecomposer"})}),(0,l.jsx)(n.td,{children:"Calls Claude API to break tasks into subtasks"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"src/dag/core/task-decomposer.ts"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"SkillRegistry"})}),(0,l.jsx)(n.td,{children:"Loads 128 available skills for matching"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"src/dag/registry/skill-loader.ts"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"DAGBuilder"})}),(0,l.jsx)(n.td,{children:"Constructs execution graph with dependencies"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"src/dag/core/builder.ts"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"ClaudeCodeRuntime"})}),(0,l.jsx)(n.td,{children:"Generates wave-based execution plan"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"src/dag/runtimes/claude-code-cli.ts"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"dag-executor skill"})}),(0,l.jsx)(n.td,{children:"Orchestrates real Task tool calls"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:".claude/skills/dag-executor/SKILL.md"})})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"execution-flow",children:"Execution Flow"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"// 1. Decomposition\nconst decomposer = new TaskDecomposer(config);\nconst { decomposition, matches, dag } = await decomposer.decomposeToDAG(task);\n\n// 2. Planning\nconst runtime = new ClaudeCodeRuntime({ permissions, defaultModel });\nconst plan = runtime.generateExecutionPlan(dag);\n\n// 3. Execution (by Claude Code)\nfor (const wave of plan.waves) {\n  if (wave.parallelizable) {\n    // Make ALL Task calls in ONE message for parallel execution\n    Task(taskCall1);\n    Task(taskCall2);\n    Task(taskCall3);\n  } else {\n    // Sequential execution\n    Task(taskCall);\n    // Wait for completion\n  }\n}\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"example-landing-page-task",children:"Example: Landing Page Task"}),"\n",(0,l.jsx)(n.h3,{id:"user-request",children:"User Request"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:'"Build me a landing page for a SaaS product"\n'})}),"\n",(0,l.jsx)(n.h3,{id:"decomposition-result",children:"Decomposition Result"}),"\n",(0,l.jsx)(n.p,{children:"The TaskDecomposer calls Claude API and returns:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "strategy": "Break down landing page creation into research, design, content, and implementation phases",\n  "complexity": 6,\n  "subtasks": [\n    {\n      "id": "research-analysis",\n      "description": "Conduct competitive analysis of SaaS landing pages",\n      "dependencies": [],\n      "requiredCapabilities": ["web-search", "analysis", "pattern-recognition"]\n    },\n    {\n      "id": "brand-identity",\n      "description": "Define brand identity including color palette and typography",\n      "dependencies": ["research-analysis"],\n      "requiredCapabilities": ["design", "color-theory", "typography"]\n    },\n    {\n      "id": "wireframe-structure",\n      "description": "Create wireframe structure for landing page sections",\n      "dependencies": ["research-analysis"],\n      "requiredCapabilities": ["ux-design", "wireframing"]\n    },\n    // ... 5 more subtasks\n  ]\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"skill-matching",children:"Skill Matching"}),"\n",(0,l.jsx)(n.p,{children:"Each subtask is matched to available skills using keyword scoring:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"research-analysis \u2192 design-archivist (63% confidence)\nbrand-identity \u2192 design-system-creator (100% confidence)\nwireframe-structure \u2192 interior-design-expert (17% confidence)\ncopywriting \u2192 claude-ecosystem-promoter (56% confidence)\ndesign-system \u2192 design-system-creator (35% confidence)\nimplementation \u2192 data-viz-2025 (74% confidence)\nseo-optimization \u2192 seo-visibility-expert (67% confidence)\nanalytics-tracking \u2192 chatbot-analytics (95% confidence)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"execution-waves",children:"Execution Waves"}),"\n",(0,l.jsx)(n.p,{children:"The planner generates 5 waves:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Wave 1: [research-analysis]\n  Parallelizable: No\n  \u2192 design-archivist (haiku)\n\nWave 2: [brand-identity, wireframe-structure]\n  Parallelizable: Yes (2 tasks in parallel)\n  \u2192 design-system-creator (sonnet)\n  \u2192 interior-design-expert (sonnet)\n\nWave 3: [copywriting, design-system]\n  Parallelizable: Yes (2 tasks in parallel)\n  \u2192 claude-ecosystem-promoter (sonnet)\n  \u2192 design-system-creator (sonnet)\n\nWave 4: [implementation]\n  Parallelizable: No\n  \u2192 data-viz-2025 (sonnet)\n\nWave 5: [seo-optimization, analytics-tracking]\n  Parallelizable: Yes (2 tasks in parallel)\n  \u2192 seo-visibility-expert (sonnet)\n  \u2192 chatbot-analytics (sonnet)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"real-execution",children:"Real Execution"}),"\n",(0,l.jsx)(n.p,{children:"Claude Code executes wave by wave:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:'// Wave 1: Research (sequential)\nTask({\n  description: "Execute design-archivist",\n  subagent_type: "design-archivist",\n  model: "haiku",\n  prompt: "Analyze 20-30 successful SaaS landing pages across different industries..."\n});\n\n// [Wait for completion]\n\n// Wave 2: Design foundations (parallel)\n// Make BOTH calls in a SINGLE message\nTask({\n  description: "Execute design-system-creator",\n  subagent_type: "design-system-creator",\n  model: "sonnet",\n  prompt: "Create a comprehensive brand identity system for a modern SaaS product..."\n});\n\nTask({\n  description: "Execute interior-design-expert",\n  subagent_type: "interior-design-expert",\n  model: "sonnet",\n  prompt: "Design a complete landing page wireframe structure..."\n});\n\n// [Continue through remaining waves...]\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"running-demos",children:"Running Demos"}),"\n",(0,l.jsx)(n.h3,{id:"decomposition-only",children:"Decomposition Only"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd website/\nnpx tsx src/dag/demos/decompose-and-execute.ts simple\n"})}),"\n",(0,l.jsx)(n.p,{children:"Shows:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Task decomposition"}),"\n",(0,l.jsx)(n.li,{children:"Skill matching with confidence scores"}),"\n",(0,l.jsx)(n.li,{children:"DAG structure with dependencies"}),"\n",(0,l.jsx)(n.li,{children:"Execution plan with waves"}),"\n",(0,l.jsxs)(n.li,{children:["Generated ",(0,l.jsx)(n.code,{children:"generated-dag.json"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"full-execution-demo",children:"Full Execution Demo"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npx tsx src/dag/demos/execute-real-dag.ts\n"})}),"\n",(0,l.jsx)(n.p,{children:"Shows:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Full pipeline from task to execution"}),"\n",(0,l.jsx)(n.li,{children:"Claude Code script generation"}),"\n",(0,l.jsx)(n.li,{children:"Simulated wave-by-wave execution"}),"\n",(0,l.jsx)(n.li,{children:"Instructions for real Task calls"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"custom-task",children:"Custom Task"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"export ANTHROPIC_API_KEY=sk-ant-...\nnpx tsx src/dag/demos/decompose-and-execute.ts\n# Edit demo file to change the task\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"advanced-usage",children:"Advanced Usage"}),"\n",(0,l.jsx)(n.h3,{id:"customizing-skill-matching",children:"Customizing Skill Matching"}),"\n",(0,l.jsxs)(n.p,{children:["The skill matching algorithm is in ",(0,l.jsx)(n.code,{children:"task-decomposer.ts"})," line 322:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"private scoreSkillMatch(\n  subtask: Subtask,\n  skill: SkillInfo\n): number {\n  let score = 0;\n\n  // Current: keyword-based matching\n  // TODO: Upgrade to embeddings or LLM-based for better accuracy\n\n  // Match capabilities to tags\n  for (const capability of subtask.requiredCapabilities) {\n    if (skill.tags.some(tag => tag.toLowerCase().includes(capability.toLowerCase()))) {\n      score += 0.3;\n    }\n  }\n\n  // Match description keywords\n  const overlap = countWordOverlap(subtask.description, skill.description);\n  score += (overlap / subtaskWords.length) * 0.5;\n\n  return Math.min(score, 1.0);\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Customization options:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Keyword weights"}),": Adjust the ",(0,l.jsx)(n.code,{children:"0.3"})," and ",(0,l.jsx)(n.code,{children:"0.5"})," weights"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Embeddings"}),": Use vector similarity (requires API/local model)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"LLM-based"}),": Call Claude to score each match (slower but more accurate)"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"building-dags-programmatically",children:"Building DAGs Programmatically"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"import { dag, ClaudeCodeRuntime, STANDARD_PERMISSIONS } from './dag';\n\n// Manual DAG construction\nconst myDag = dag('research-and-write')\n  .skillNode('research', 'comprehensive-researcher')\n    .prompt('Research the topic: {{topic}}')\n    .done()\n  .skillNode('outline', 'technical-writer')\n    .dependsOn('research')\n    .prompt('Create outline from research')\n    .done()\n  .skillNode('write', 'technical-writer')\n    .dependsOn('outline')\n    .prompt('Write the full article')\n    .done()\n  .inputs('topic')\n  .outputs({ name: 'article', from: 'write' })\n  .build();\n\n// Execute\nconst runtime = new ClaudeCodeRuntime({ permissions: STANDARD_PERMISSIONS });\nconst plan = runtime.generateExecutionPlan(myDag, { topic: 'AI safety' });\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"performance-tips",children:"Performance Tips"}),"\n",(0,l.jsx)(n.h3,{id:"1-maximize-parallelism",children:"1. Maximize Parallelism"}),"\n",(0,l.jsxs)(n.p,{children:["\u2705 ",(0,l.jsx)(n.strong,{children:"Good"}),": Group independent tasks in waves"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Wave 2: [brand-identity, wireframe-structure, copywriting]\n  \u2192 All 3 run simultaneously\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u274c ",(0,l.jsx)(n.strong,{children:"Bad"}),": Sequential execution when tasks are independent"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Wave 2: [brand-identity]\nWave 3: [wireframe-structure]\nWave 4: [copywriting]\n  \u2192 Each waits for previous to complete unnecessarily\n"})}),"\n",(0,l.jsx)(n.h3,{id:"2-model-selection",children:"2. Model Selection"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Haiku"}),": Simple tasks (data gathering, formatting)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Sonnet"}),": Most tasks (default)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Opus"}),": Complex reasoning, critical decisions"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"3-task-size",children:"3. Task Size"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Too small"}),": Overhead from spawning many agents"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Too large"}),": Can't parallelize effectively"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Sweet spot"}),": 3-8 subtasks per complex task"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"4-context-passing",children:"4. Context Passing"}),"\n",(0,l.jsx)(n.p,{children:"Only pass what's needed to dependent tasks:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"// Good: Minimal context\n{\n  input: results.get('research').summary,\n  constraints: ['max 500 words', 'technical audience']\n}\n\n// Bad: Entire research dump\n{\n  input: results.get('research') // Could be 10K+ tokens\n}\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"no-anthropic_api_key",children:"No ANTHROPIC_API_KEY"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"export ANTHROPIC_API_KEY=sk-ant-...\n# Or create .env file in website/ directory\n"})}),"\n",(0,l.jsx)(n.h3,{id:"skill-matching-low-confidence",children:"Skill Matching Low Confidence"}),"\n",(0,l.jsx)(n.p,{children:"Low confidence (&lt;50%) means poor keyword overlap:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Review subtask capabilities"}),"\n",(0,l.jsx)(n.li,{children:"Check skill tags in registry"}),"\n",(0,l.jsx)(n.li,{children:"Consider manual override for critical matches"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"execution-plan-has-too-many-waves",children:"Execution Plan Has Too Many Waves"}),"\n",(0,l.jsx)(n.p,{children:"This indicates over-decomposition:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Reduce ",(0,l.jsx)(n.code,{children:"maxSubtasks"})," in decomposer config"]}),"\n",(0,l.jsx)(n.li,{children:"Merge related subtasks"}),"\n",(0,l.jsx)(n.li,{children:"Simplify the original task"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"tasks-not-running-in-parallel",children:"Tasks Not Running in Parallel"}),"\n",(0,l.jsx)(n.p,{children:"Check wave output:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Parallelizable: No  # Sequential execution\n"})}),"\n",(0,l.jsx)(n.p,{children:"Causes:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Tasks have dependencies between them"}),"\n",(0,l.jsx)(n.li,{children:"Planner detected resource constraints"}),"\n",(0,l.jsx)(n.li,{children:"Only one task in wave"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,l.jsx)(n.h3,{id:"taskdecomposer",children:"TaskDecomposer"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"class TaskDecomposer {\n  constructor(config: DecomposerConfig)\n\n  async decompose(task: string): Promise<DecompositionResult>\n  async matchSkills(decomposition: DecompositionResult): Promise<SkillMatch[]>\n  buildDAG(decomposition: DecompositionResult, matches: SkillMatch[]): DAG\n  async decomposeToDAG(task: string): Promise<{decomposition, matches, dag}>\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"claudecoderuntime",children:"ClaudeCodeRuntime"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"class ClaudeCodeRuntime {\n  constructor(config: RuntimeConfig)\n\n  generateExecutionPlan(dag: DAG, inputs?: Record<string, unknown>): ExecutionPlan\n  // Note: execute() currently simulates; use Task tool for real execution\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"dagbuilder-fluent-api",children:"DAGBuilder (Fluent API)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"dag(name: string)\n  .skillNode(id: NodeId, skillId: string)\n    .prompt(prompt: string)\n    .dependsOn(...nodeIds: NodeId[])\n    .done()\n  .inputs(...inputNames: string[])\n  .outputs({ name: string, from: NodeId })\n  .build(): DAG\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"whats-next",children:"What's Next?"}),"\n",(0,l.jsx)(n.h3,{id:"current-status-75-complete",children:"Current Status (75% Complete)"}),"\n",(0,l.jsx)(n.p,{children:"\u2705 Task decomposition\n\u2705 Skill matching\n\u2705 DAG construction\n\u2705 Execution planning\n\u2705 Real Task orchestration (via dag-executor skill)\n\u26a0\ufe0f  Skill matching is basic (keyword-based)\n\u26a0\ufe0f  No feedback loop for failed tasks"}),"\n",(0,l.jsx)(n.h3,{id:"remaining-work-25",children:"Remaining Work (25%)"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Improve Skill Matching"})," (1-2 days)"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Add semantic similarity using embeddings"}),"\n",(0,l.jsx)(n.li,{children:"Or use LLM-based scoring for higher accuracy"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Add Feedback Loop"})," (2-3 days)"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Iteration detector: When tasks fail, retry with modified prompts"}),"\n",(0,l.jsx)(n.li,{children:"Convergence monitor: Track progress toward goal"}),"\n",(0,l.jsx)(n.li,{children:"Result validator: Check outputs match expectations"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Persistence & UI"})," (3-5 days)"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Save DAGs to localStorage/database"}),"\n",(0,l.jsx)(n.li,{children:"Visualize execution progress"}),"\n",(0,l.jsx)(n.li,{children:"Export/import DAG definitions"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"examples-from-production",children:"Examples from Production"}),"\n",(0,l.jsx)(n.h3,{id:"research-pipeline",children:"Research Pipeline"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:'Task: "Research quantum computing and write a technical whitepaper"\n\nDecomposition:\n  1. Literature review (parallel: academic, industry, news)\n  2. Synthesize findings\n  3. Create outline\n  4. Write sections (parallel: intro, body, conclusion)\n  5. Edit and format\n\nExecution: 5 waves, max 3 parallel tasks\nTotal time: ~8 minutes (vs ~25 minutes sequential)\n'})}),"\n",(0,l.jsx)(n.h3,{id:"code-review",children:"Code Review"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:'Task: "Review this PR for security, performance, and style"\n\nDecomposition:\n  1. Static analysis (parallel: security scan, linting, type check)\n  2. Manual review (parallel: security expert, performance expert, style expert)\n  3. Aggregate findings\n  4. Generate report\n\nExecution: 3 waves, max 3 parallel tasks\nTotal time: ~3 minutes (vs ~10 minutes sequential)\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"You now have a fully operational agent orchestration system."})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>r});var s=i(96540);const l={},a=s.createContext(l);function t(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);