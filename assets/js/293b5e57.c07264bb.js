"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[63393],{4525:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>a,frontMatter:()=>c,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"skills/photo_content_recognition_curation_expert/index","title":"\ud83e\udd16 Photo Content Recognition Curation Expert","description":"Expert in photo content recognition, intelligent curation, and quality filtering. Specializes in face/animal/place recognition, perceptual hashing for de-duplication, screenshot/meme detection, burst photo selection, and quick indexing strategies. Activate on \'face recognition\', \'face clustering\', \'perceptual hash\', \'near-duplicate\', \'burst photo\', \'screenshot detection\', \'photo curation\', \'photo indexing\', \'NSFW detection\', \'pet recognition\', \'DINOHash\', \'HDBSCAN faces\'. NOT for GPS-based location clustering (use event-detection-temporal-intelligence-expert), color palette extraction (use color-theory-palette-harmony-expert), semantic image-text matching (use clip-aware-embeddings), or video analysis/frame extraction.","source":"@site/docs/skills/photo_content_recognition_curation_expert/index.md","sourceDirName":"skills/photo_content_recognition_curation_expert","slug":"/skills/photo_content_recognition_curation_expert/","permalink":"/docs/skills/photo_content_recognition_curation_expert/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Photo Content Recognition Curation Expert","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Clip Aware Embeddings","permalink":"/docs/skills/clip_aware_embeddings/"},"next":{"title":"Photo Content Recognition Curation Expert","permalink":"/docs/skills/photo_content_recognition_curation_expert/"}}');var s=i(74848),r=i(28453);const c={sidebar_label:"Photo Content Recognition Curation Expert",sidebar_position:1},l="\ud83e\udd16 Photo Content Recognition Curation Expert",o={},d=[{value:"Allowed Tools",id:"allowed-tools",level:2},{value:"Tags",id:"tags",level:2},{value:"\ud83e\udd1d Pairs Great With",id:"-pairs-great-with",level:2},{value:"References",id:"references",level:2},{value:"When to Use This Skill",id:"when-to-use-this-skill",level:2},{value:"Quick Decision Tree",id:"quick-decision-tree",level:2},{value:"Core Concepts",id:"core-concepts",level:2},{value:"1. Perceptual Hashing for Near-Duplicate Detection",id:"1-perceptual-hashing-for-near-duplicate-detection",level:3},{value:"2. Face Recognition &amp; Clustering",id:"2-face-recognition--clustering",level:3},{value:"3. Burst Photo Selection",id:"3-burst-photo-selection",level:3},{value:"4. Screenshot Detection",id:"4-screenshot-detection",level:3},{value:"5. Quick Indexing Pipeline",id:"5-quick-indexing-pipeline",level:3},{value:"Common Anti-Patterns",id:"common-anti-patterns",level:2},{value:"Anti-Pattern: Euclidean Distance for Face Embeddings",id:"anti-pattern-euclidean-distance-for-face-embeddings",level:3},{value:"Anti-Pattern: Fixed Clustering Thresholds",id:"anti-pattern-fixed-clustering-thresholds",level:3},{value:"Anti-Pattern: Raw Pixel Comparison for Duplicates",id:"anti-pattern-raw-pixel-comparison-for-duplicates",level:3},{value:"Anti-Pattern: Sequential Face Detection",id:"anti-pattern-sequential-face-detection",level:3},{value:"Anti-Pattern: No Confidence Filtering",id:"anti-pattern-no-confidence-filtering",level:3},{value:"Anti-Pattern: Forcing Every Photo into Clusters",id:"anti-pattern-forcing-every-photo-into-clusters",level:3},{value:"Quick Start",id:"quick-start",level:2},{value:"Python Dependencies",id:"python-dependencies",level:2},{value:"Integration Points",id:"integration-points",level:2},{value:"References",id:"references-1",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"-photo-content-recognition-curation-expert",children:"\ud83e\udd16 Photo Content Recognition Curation Expert"})}),"\n",(0,s.jsx)(n.p,{children:"Expert in photo content recognition, intelligent curation, and quality filtering. Specializes in face/animal/place recognition, perceptual hashing for de-duplication, screenshot/meme detection, burst photo selection, and quick indexing strategies. Activate on 'face recognition', 'face clustering', 'perceptual hash', 'near-duplicate', 'burst photo', 'screenshot detection', 'photo curation', 'photo indexing', 'NSFW detection', 'pet recognition', 'DINOHash', 'HDBSCAN faces'. NOT for GPS-based location clustering (use event-detection-temporal-intelligence-expert), color palette extraction (use color-theory-palette-harmony-expert), semantic image-text matching (use clip-aware-embeddings), or video analysis/frame extraction."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"allowed-tools",children:"Allowed Tools"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Read, Write, Edit, Bash, Grep, Glob, mcp__firecrawl__firecrawl_search, WebFetch\n"})}),"\n",(0,s.jsx)(n.h2,{id:"tags",children:"Tags"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"face-recognition"})," ",(0,s.jsx)(n.code,{children:"deduplication"})," ",(0,s.jsx)(n.code,{children:"curation"})," ",(0,s.jsx)(n.code,{children:"indexing"})," ",(0,s.jsx)(n.code,{children:"nsfw"})]}),"\n",(0,s.jsx)(n.h2,{id:"-pairs-great-with",children:"\ud83e\udd1d Pairs Great With"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/skills/event_detection_temporal_intelligence_expert",children:"Event Detection Temporal Intelligence Expert"})}),": Temporal context for photos"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/skills/wedding_immortalist",children:"Wedding Immortalist"})}),": Curate wedding photo collections"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"./references/content-detection",children:"Content Detection Reference"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"./references/face-clustering",children:"Face Recognition & Clustering Reference"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"./references/perceptual-hashing",children:"Perceptual Hashing Implementation Reference"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"./references/photo-indexing",children:"Photo Indexing Pipeline Reference"})}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"photo-content-recognition--curation-expert",children:"Photo Content Recognition & Curation Expert"}),"\n",(0,s.jsx)(n.p,{children:"Expert in photo content analysis and intelligent curation. Combines classical computer vision with modern deep learning for comprehensive photo analysis."}),"\n",(0,s.jsx)(n.h2,{id:"when-to-use-this-skill",children:"When to Use This Skill"}),"\n",(0,s.jsxs)(n.p,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Use for:"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Face recognition and clustering (identifying important people)"}),"\n",(0,s.jsx)(n.li,{children:"Animal/pet detection and clustering"}),"\n",(0,s.jsx)(n.li,{children:"Near-duplicate detection using perceptual hashing (DINOHash, pHash, dHash)"}),"\n",(0,s.jsx)(n.li,{children:"Burst photo selection (finding best frame from 10-50 shots)"}),"\n",(0,s.jsx)(n.li,{children:"Screenshot vs photo classification"}),"\n",(0,s.jsx)(n.li,{children:"Meme/download filtering"}),"\n",(0,s.jsx)(n.li,{children:"NSFW content detection"}),"\n",(0,s.jsx)(n.li,{children:"Quick indexing for large photo libraries (10K+)"}),"\n",(0,s.jsx)(n.li,{children:"Aesthetic quality scoring (NIMA)"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u274c ",(0,s.jsx)(n.strong,{children:"NOT for:"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["GPS-based location clustering \u2192 ",(0,s.jsx)(n.code,{children:"event-detection-temporal-intelligence-expert"})]}),"\n",(0,s.jsxs)(n.li,{children:["Color palette extraction \u2192 ",(0,s.jsx)(n.code,{children:"color-theory-palette-harmony-expert"})]}),"\n",(0,s.jsxs)(n.li,{children:["Semantic image-text matching \u2192 ",(0,s.jsx)(n.code,{children:"clip-aware-embeddings"})]}),"\n",(0,s.jsx)(n.li,{children:"Video analysis or frame extraction"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"quick-decision-tree",children:"Quick Decision Tree"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"What do you need to recognize/filter?\n\u2502\n\u251c\u2500 Duplicate photos? \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Perceptual Hashing\n\u2502   \u251c\u2500 Exact duplicates? \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 dHash (fastest)\n\u2502   \u251c\u2500 Brightness/contrast changes? \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 pHash (DCT-based)\n\u2502   \u251c\u2500 Heavy crops/compression? \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 DINOHash (2025 SOTA)\n\u2502   \u2514\u2500 Production system? \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Hybrid (pHash \u2192 DINOHash)\n\u2502\n\u251c\u2500 People in photos? \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Face Clustering\n\u2502   \u251c\u2500 Known thresholds? \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Apple-style Agglomerative\n\u2502   \u2514\u2500 Unknown data distribution? \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 HDBSCAN\n\u2502\n\u251c\u2500 Pets/Animals? \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Pet Recognition\n\u2502   \u251c\u2500 Detection? \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 YOLOv8\n\u2502   \u2514\u2500 Individual clustering? \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 CLIP + HDBSCAN\n\u2502\n\u251c\u2500 Best from burst? \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Burst Selection\n\u2502   \u2514\u2500 Score: sharpness + face quality + aesthetics\n\u2502\n\u2514\u2500 Filter junk? \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Content Detection\n    \u251c\u2500 Screenshots? \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Multi-signal classifier\n    \u2514\u2500 NSFW? \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Safety classifier\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,s.jsx)(n.h3,{id:"1-perceptual-hashing-for-near-duplicate-detection",children:"1. Perceptual Hashing for Near-Duplicate Detection"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem:"})," Camera bursts, re-saved images, and minor edits create near-duplicates."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution:"})," Perceptual hashes generate similar values for visually similar images."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Method Comparison:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Method"}),(0,s.jsx)(n.th,{children:"Speed"}),(0,s.jsx)(n.th,{children:"Robustness"}),(0,s.jsx)(n.th,{children:"Best For"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"dHash"}),(0,s.jsx)(n.td,{children:"Fastest"}),(0,s.jsx)(n.td,{children:"Low"}),(0,s.jsx)(n.td,{children:"Exact duplicates"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"pHash"}),(0,s.jsx)(n.td,{children:"Fast"}),(0,s.jsx)(n.td,{children:"Medium"}),(0,s.jsx)(n.td,{children:"Brightness/contrast changes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"DINOHash"}),(0,s.jsx)(n.td,{children:"Slower"}),(0,s.jsx)(n.td,{children:"High"}),(0,s.jsx)(n.td,{children:"Heavy crops, compression"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Hybrid"}),(0,s.jsx)(n.td,{children:"Medium"}),(0,s.jsx)(n.td,{children:"Very High"}),(0,s.jsx)(n.td,{children:"Production systems"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Hybrid Pipeline (2025 Best Practice):"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Stage 1:"})," Fast pHash filtering (eliminates obvious non-duplicates)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Stage 2:"})," DINOHash refinement (accurate detection)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Stage 3:"})," Optional Siamese ViT verification"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Hamming Distance Thresholds:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Conservative: \u22645 bits different = duplicates"}),"\n",(0,s.jsx)(n.li,{children:"Aggressive: \u226410 bits different = duplicates"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u2192 ",(0,s.jsx)(n.strong,{children:"Deep dive"}),": ",(0,s.jsx)(n.code,{children:"references/perceptual-hashing.md"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"2-face-recognition--clustering",children:"2. Face Recognition & Clustering"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Goal:"})," Group photos by person without user labeling."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Apple Photos Strategy (2021-2025):"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Extract face + upper body embeddings (FaceNet, 512-dim)"}),"\n",(0,s.jsx)(n.li,{children:"Two-pass agglomerative clustering"}),"\n",(0,s.jsx)(n.li,{children:"Conservative first pass (threshold=0.4, high precision)"}),"\n",(0,s.jsx)(n.li,{children:"HAC second pass (threshold=0.6, increase recall)"}),"\n",(0,s.jsx)(n.li,{children:"Incremental updates for new photos"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"HDBSCAN Alternative:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"No threshold tuning required"}),"\n",(0,s.jsx)(n.li,{children:"Robust to noise"}),"\n",(0,s.jsx)(n.li,{children:"Better for unknown data distributions"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Setting"}),(0,s.jsx)(n.th,{children:"Agglomerative"}),(0,s.jsx)(n.th,{children:"HDBSCAN"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Pass 1 threshold"}),(0,s.jsx)(n.td,{children:"0.4 (cosine)"}),(0,s.jsx)(n.td,{children:"-"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Pass 2 threshold"}),(0,s.jsx)(n.td,{children:"0.6 (cosine)"}),(0,s.jsx)(n.td,{children:"-"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Min cluster size"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"3 photos"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Metric"}),(0,s.jsx)(n.td,{children:"cosine"}),(0,s.jsx)(n.td,{children:"cosine"})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["\u2192 ",(0,s.jsx)(n.strong,{children:"Deep dive"}),": ",(0,s.jsx)(n.code,{children:"references/face-clustering.md"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"3-burst-photo-selection",children:"3. Burst Photo Selection"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem:"})," Burst mode creates 10-50 nearly identical photos."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Multi-Criteria Scoring:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Criterion"}),(0,s.jsx)(n.th,{children:"Weight"}),(0,s.jsx)(n.th,{children:"Measurement"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Sharpness"}),(0,s.jsx)(n.td,{children:"30%"}),(0,s.jsx)(n.td,{children:"Laplacian variance"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Face Quality"}),(0,s.jsx)(n.td,{children:"35%"}),(0,s.jsx)(n.td,{children:"Eyes open, smiling, face sharpness"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Aesthetics"}),(0,s.jsx)(n.td,{children:"20%"}),(0,s.jsx)(n.td,{children:"NIMA score"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Position"}),(0,s.jsx)(n.td,{children:"10%"}),(0,s.jsx)(n.td,{children:"Middle frames bonus"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Exposure"}),(0,s.jsx)(n.td,{children:"5%"}),(0,s.jsx)(n.td,{children:"Histogram clipping check"})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Burst Detection:"})," Photos within 0.5 seconds of each other."]}),"\n",(0,s.jsxs)(n.p,{children:["\u2192 ",(0,s.jsx)(n.strong,{children:"Deep dive"}),": ",(0,s.jsx)(n.code,{children:"references/content-detection.md"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"4-screenshot-detection",children:"4. Screenshot Detection"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Multi-Signal Approach:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Signal"}),(0,s.jsx)(n.th,{children:"Confidence"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"UI elements"}),(0,s.jsx)(n.td,{children:"0.85"}),(0,s.jsx)(n.td,{children:"Status bars, buttons detected"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Perfect rectangles"}),(0,s.jsx)(n.td,{children:"0.75"}),(0,s.jsx)(n.td,{children:">5 UI buttons (90\xb0 angles)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"High text"}),(0,s.jsx)(n.td,{children:"0.70"}),(0,s.jsx)(n.td,{children:">25% text coverage (OCR)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"No camera EXIF"}),(0,s.jsx)(n.td,{children:"0.60"}),(0,s.jsx)(n.td,{children:"Missing Make/Model/Lens"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Device aspect"}),(0,s.jsx)(n.td,{children:"0.60"}),(0,s.jsx)(n.td,{children:"Exact phone screen ratio"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Perfect sharpness"}),(0,s.jsx)(n.td,{children:"0.50"}),(0,s.jsx)(n.td,{children:">2000 Laplacian variance"})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Decision:"})," Confidence >0.6 = screenshot"]}),"\n",(0,s.jsxs)(n.p,{children:["\u2192 ",(0,s.jsx)(n.strong,{children:"Deep dive"}),": ",(0,s.jsx)(n.code,{children:"references/content-detection.md"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"5-quick-indexing-pipeline",children:"5. Quick Indexing Pipeline"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Goal:"})," Index 10K+ photos efficiently with caching."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Features Extracted:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Perceptual hashes (de-duplication)"}),"\n",(0,s.jsx)(n.li,{children:"Face embeddings (people clustering)"}),"\n",(0,s.jsx)(n.li,{children:"CLIP embeddings (semantic search)"}),"\n",(0,s.jsx)(n.li,{children:"Color palettes"}),"\n",(0,s.jsx)(n.li,{children:"Aesthetic scores"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Performance (10K photos, M1 MacBook Pro):"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Operation"}),(0,s.jsx)(n.th,{children:"Time"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Perceptual hashing"}),(0,s.jsx)(n.td,{children:"2 min"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"CLIP embeddings"}),(0,s.jsx)(n.td,{children:"3 min (GPU)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Face detection"}),(0,s.jsx)(n.td,{children:"4 min"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Color palettes"}),(0,s.jsx)(n.td,{children:"1 min"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Aesthetic scoring"}),(0,s.jsx)(n.td,{children:"2 min (GPU)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Clustering + dedup"}),(0,s.jsx)(n.td,{children:"1 min"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Total (first run)"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"~13 min"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Incremental"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"<1 min"})})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["\u2192 ",(0,s.jsx)(n.strong,{children:"Deep dive"}),": ",(0,s.jsx)(n.code,{children:"references/photo-indexing.md"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"common-anti-patterns",children:"Common Anti-Patterns"}),"\n",(0,s.jsx)(n.h3,{id:"anti-pattern-euclidean-distance-for-face-embeddings",children:"Anti-Pattern: Euclidean Distance for Face Embeddings"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"What it looks like:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"distance = np.linalg.norm(embedding1 - embedding2)  # WRONG\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Why it's wrong:"})," Face embeddings are normalized; cosine similarity is the correct metric."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"What to do instead:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"from scipy.spatial.distance import cosine\ndistance = cosine(embedding1, embedding2)  # Correct\n"})}),"\n",(0,s.jsx)(n.h3,{id:"anti-pattern-fixed-clustering-thresholds",children:"Anti-Pattern: Fixed Clustering Thresholds"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"What it looks like:"})," Using same distance threshold for all face clusters."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Why it's wrong:"})," Different people have varying intra-class variance (twins vs. diverse ages)."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"What to do instead:"})," Use HDBSCAN for automatic threshold discovery, or two-pass clustering with conservative + relaxed passes."]}),"\n",(0,s.jsx)(n.h3,{id:"anti-pattern-raw-pixel-comparison-for-duplicates",children:"Anti-Pattern: Raw Pixel Comparison for Duplicates"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"What it looks like:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"is_duplicate = np.allclose(img1, img2)  # WRONG\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Why it's wrong:"})," Re-saved JPEGs, crops, brightness changes create pixel differences."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"What to do instead:"})," Perceptual hashing (pHash or DINOHash) with Hamming distance."]}),"\n",(0,s.jsx)(n.h3,{id:"anti-pattern-sequential-face-detection",children:"Anti-Pattern: Sequential Face Detection"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"What it looks like:"})," Processing faces one photo at a time without batching."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Why it's wrong:"})," GPU underutilization, 10x slower than batched."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"What to do instead:"})," Batch process images (batch_size=32) with GPU acceleration."]}),"\n",(0,s.jsx)(n.h3,{id:"anti-pattern-no-confidence-filtering",children:"Anti-Pattern: No Confidence Filtering"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"What it looks like:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"for face in all_detected_faces:\n    cluster(face)  # No filtering\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Why it's wrong:"})," Low-confidence detections create noise clusters (hands, objects)."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"What to do instead:"})," Filter by confidence (threshold 0.9 for faces)."]}),"\n",(0,s.jsx)(n.h3,{id:"anti-pattern-forcing-every-photo-into-clusters",children:"Anti-Pattern: Forcing Every Photo into Clusters"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"What it looks like:"})," Assigning noise points to nearest cluster."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Why it's wrong:"})," Solo appearances shouldn't pollute person clusters."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"What to do instead:"})," HDBSCAN/DBSCAN naturally identifies noise (label=-1). Keep noise separate."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from photo_curation import PhotoCurationPipeline\n\npipeline = PhotoCurationPipeline()\n\n# Index photo library\nindex = pipeline.index_library(\'/path/to/photos\')\n\n# De-duplicate\nduplicates = index.find_duplicates()\nprint(f"Found {len(duplicates)} duplicate groups")\n\n# Cluster faces\nface_clusters = index.cluster_faces()\nprint(f"Found {len(face_clusters)} people")\n\n# Select best from bursts\nbest_photos = pipeline.select_best_from_bursts(index)\n\n# Filter screenshots\nreal_photos = pipeline.filter_screenshots(index)\n\n# Curate for collage\ncollage_photos = pipeline.curate_for_collage(index, target_count=100)\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"python-dependencies",children:"Python Dependencies"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"torch transformers facenet-pytorch ultralytics hdbscan opencv-python scipy numpy scikit-learn pillow pytesseract\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"integration-points",children:"Integration Points"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"event-detection-temporal-intelligence-expert"}),": Provides temporal event clustering for event-aware curation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"color-theory-palette-harmony-expert"}),": Extracts color palettes for visual diversity"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"collage-layout-expert"}),": Receives curated photos for assembly"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"clip-aware-embeddings"}),": Provides CLIP embeddings for semantic search and DeepDBSCAN"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"references-1",children:"References"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DINOHash (2025)"}),': "Adversarially Fine-Tuned DINOv2 Features for Perceptual Hashing"']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Apple Photos (2021)"}),': "Recognizing People in Photos Through Private On-Device ML"']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"HDBSCAN"}),': "Hierarchical Density-Based Spatial Clustering" (2013-2025)']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Perceptual Hashing"}),": dHash (Neal Krawetz), DCT-based pHash"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Version"}),": 2.0.0\n",(0,s.jsx)(n.strong,{children:"Last Updated"}),": November 2025"]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>l});var t=i(96540);const s={},r=t.createContext(s);function c(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);