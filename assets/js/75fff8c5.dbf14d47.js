"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[67809],{15780:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"skills/skill_architect/references/mcp-template","title":"Minimal MCP Server Template","description":"Production-ready starter template for MCP servers.","source":"@site/docs/skills/skill_architect/references/mcp-template.md","sourceDirName":"skills/skill_architect/references","slug":"/skills/skill_architect/references/mcp-template","permalink":"/docs/skills/skill_architect/references/mcp-template","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Minimal MCP Server Template","sidebar_label":"Minimal MCP Server Template","sidebar_position":2}}');var s=t(74848),i=t(28453);const o={title:"Minimal MCP Server Template",sidebar_label:"Minimal MCP Server Template",sidebar_position:2},l="Minimal MCP Server Template",c={},a=[{value:"File Structure",id:"file-structure",level:2},{value:"src/index.ts",id:"srcindexts",level:2},{value:"package.json",id:"packagejson",level:2},{value:"tsconfig.json",id:"tsconfigjson",level:2},{value:"README.md",id:"readmemd",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Authentication",id:"authentication",level:3},{value:"Rate Limiting",id:"rate-limiting",level:3},{value:"Caching",id:"caching",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"minimal-mcp-server-template",children:"Minimal MCP Server Template"})}),"\n",(0,s.jsx)(n.p,{children:"Production-ready starter template for MCP servers."}),"\n",(0,s.jsx)(n.h2,{id:"file-structure",children:"File Structure"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"mcp-server/\n\u251c\u2500\u2500 src/\n\u2502   \u2514\u2500\u2500 index.ts       # Server implementation\n\u251c\u2500\u2500 package.json       # Dependencies and scripts\n\u251c\u2500\u2500 tsconfig.json      # TypeScript configuration\n\u2514\u2500\u2500 README.md          # Installation instructions\n"})}),"\n",(0,s.jsx)(n.h2,{id:"srcindexts",children:"src/index.ts"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'import { Server } from "@modelcontextprotocol/sdk/server/index.js";\nimport { StdioServerTransport } from "@modelcontextprotocol/sdk/server/stdio.js";\n\n// Server metadata\nconst server = new Server(\n  {\n    name: "my-skill-mcp",\n    version: "1.0.0"\n  },\n  {\n    capabilities: {\n      tools: {}\n    }\n  }\n);\n\n// Define available tools\nserver.setRequestHandler("tools/list", async () => ({\n  tools: [\n    {\n      name: "example_tool",\n      description: "Example tool that demonstrates the pattern",\n      inputSchema: {\n        type: "object",\n        properties: {\n          input: {\n            type: "string",\n            description: "Input parameter description"\n          }\n        },\n        required: ["input"]\n      }\n    }\n  ]\n}));\n\n// Handle tool calls\nserver.setRequestHandler("tools/call", async (request) => {\n  const { name, arguments: args } = request.params;\n\n  if (name === "example_tool") {\n    try {\n      // Your tool implementation here\n      const result = await processInput(args.input);\n\n      return {\n        content: [\n          {\n            type: "text",\n            text: JSON.stringify(result, null, 2)\n          }\n        ]\n      };\n    } catch (error) {\n      throw new Error(`Failed to process: ${error.message}`);\n    }\n  }\n\n  throw new Error(`Unknown tool: ${name}`);\n});\n\n// Helper function (example)\nasync function processInput(input: string): Promise<any> {\n  // Implement your logic here\n  return {\n    processed: input,\n    timestamp: new Date().toISOString()\n  };\n}\n\n// Start server\nconst transport = new StdioServerTransport();\nawait server.connect(transport);\n'})}),"\n",(0,s.jsx)(n.h2,{id:"packagejson",children:"package.json"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "name": "my-skill-mcp",\n  "version": "1.0.0",\n  "description": "MCP server for [domain] operations",\n  "type": "module",\n  "bin": {\n    "my-skill-mcp": "dist/index.js"\n  },\n  "scripts": {\n    "build": "tsc",\n    "start": "node dist/index.js",\n    "watch": "tsc --watch"\n  },\n  "dependencies": {\n    "@modelcontextprotocol/sdk": "^1.0.0"\n  },\n  "devDependencies": {\n    "@types/node": "^20.0.0",\n    "typescript": "^5.0.0"\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"tsconfigjson",children:"tsconfig.json"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "target": "ES2022",\n    "module": "Node16",\n    "moduleResolution": "Node16",\n    "outDir": "dist",\n    "rootDir": "src",\n    "strict": true,\n    "esModuleInterop": true,\n    "skipLibCheck": true,\n    "forceConsistentCasingInFileNames": true,\n    "resolveJsonModule": true\n  },\n  "include": ["src/**/*"],\n  "exclude": ["node_modules", "dist"]\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"readmemd",children:"README.md"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-markdown",children:'# My Skill MCP Server\n\nMCP server for [domain] operations.\n\n## Features\n\n- [Feature 1]\n- [Feature 2]\n- [Feature 3]\n\n## Installation\n\n\\`\\`\\`bash\ncd mcp-server\nnpm install\nnpm run build\n\\`\\`\\`\n\n## Configuration\n\nAdd to your Claude Code MCP settings (`~/.config/claude/config.json`):\n\n\\`\\`\\`json\n{\n  "mcpServers": {\n    "my-skill": {\n      "command": "node",\n      "args": ["/absolute/path/to/mcp-server/dist/index.js"],\n      "env": {\n        "API_KEY": "your-api-key-here"\n      }\n    }\n  }\n}\n\\`\\`\\`\n\n## Tools\n\n### example_tool\n\nDescription of what this tool does.\n\n**Parameters**:\n- `input` (string, required): Description of input parameter\n\n**Example**:\n\\`\\`\\`json\n{\n  "input": "test value"\n}\n\\`\\`\\`\n\n## Development\n\n\\`\\`\\`bash\nnpm run watch  # Auto-rebuild on changes\n\\`\\`\\`\n\n## Testing\n\nTest the server manually:\n\\`\\`\\`bash\necho \'{"jsonrpc":"2.0","method":"tools/list","id":1}\' | npm start\n\\`\\`\\`\n'})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Error Handling"}),": Always wrap tool implementations in try-catch"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Validation"}),": Validate inputs before processing"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Logging"}),": Use structured logging for debugging"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Secrets"}),": Use environment variables for API keys"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Types"}),": Use TypeScript for type safety"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Documentation"}),": Keep README up to date with tool changes"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,s.jsx)(n.h3,{id:"authentication",children:"Authentication"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'const API_KEY = process.env.API_KEY;\nif (!API_KEY) {\n  throw new Error("API_KEY environment variable required");\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"rate-limiting",children:"Rate Limiting"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import pLimit from 'p-limit';\nconst limit = pLimit(5); // Max 5 concurrent requests\n\nasync function processWithLimit(items: string[]) {\n  return Promise.all(\n    items.map(item => limit(() => processItem(item)))\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"caching",children:"Caching"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const cache = new Map<string, any>();\n\nasync function getCached(key: string, fetcher: () => Promise<any>) {\n  if (cache.has(key)) {\n    return cache.get(key);\n  }\n  const value = await fetcher();\n  cache.set(key, value);\n  return value;\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Server won't start"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Check that ",(0,s.jsx)(n.code,{children:"npm run build"})," completed successfully"]}),"\n",(0,s.jsx)(n.li,{children:"Verify absolute path in config.json"}),"\n",(0,s.jsx)(n.li,{children:"Check environment variables are set"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Tool not found"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Ensure tool name in ",(0,s.jsx)(n.code,{children:"tools/list"})," matches ",(0,s.jsx)(n.code,{children:"tools/call"})," handler"]}),"\n",(0,s.jsx)(n.li,{children:"Check for typos in tool names"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Authentication errors"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verify API_KEY environment variable is set correctly"}),"\n",(0,s.jsx)(n.li,{children:"Check API key has necessary permissions"}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var r=t(96540);const s={},i=r.createContext(s);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);