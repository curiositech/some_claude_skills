"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[58460],{28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>o});var s=i(96540);const l={},r=s.createContext(l);function t(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(r.Provider,{value:n},e.children)}},68038:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"skills/vercel_deployment/index","title":"\u2699\ufe0f Vercel Deployment","description":"Deploy Next.js applications to Vercel with proper configuration. Use when setting up deployment, configuring environment variables, edge functions, or troubleshooting builds. Activates for deployment issues, environment setup, and Vercel configuration.","source":"@site/docs/skills/vercel_deployment/index.md","sourceDirName":"skills/vercel_deployment","slug":"/skills/vercel_deployment/","permalink":"/docs/skills/vercel_deployment/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Vercel Deployment","sidebar_position":1}}');var l=i(74848),r=i(28453);const t={sidebar_label:"Vercel Deployment",sidebar_position:1},o="\u2699\ufe0f Vercel Deployment",c={},d=[{value:"Allowed Tools",id:"allowed-tools",level:2},{value:"Tags",id:"tags",level:2},{value:"Quick Deploy Checklist",id:"quick-deploy-checklist",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Setting Variables",id:"setting-variables",level:3},{value:"Variable Naming",id:"variable-naming",level:3},{value:"Size Limits",id:"size-limits",level:3},{value:"Required Variables for This Project",id:"required-variables-for-this-project",level:3},{value:"vercel.json Configuration",id:"verceljson-configuration",level:2},{value:"TypeScript Configuration (New in 2025)",id:"typescript-configuration-new-in-2025",level:2},{value:"Edge Functions",id:"edge-functions",level:2},{value:"When to Use Edge",id:"when-to-use-edge",level:3},{value:"Edge Function Example",id:"edge-function-example",level:3},{value:"Edge Runtime in API Routes",id:"edge-runtime-in-api-routes",level:3},{value:"Build Configuration",id:"build-configuration",level:2},{value:"package.json Scripts",id:"packagejson-scripts",level:3},{value:"Build Environment",id:"build-environment",level:3},{value:"Build Output",id:"build-output",level:3},{value:"Database Considerations",id:"database-considerations",level:2},{value:"SQLite on Vercel",id:"sqlite-on-vercel",level:3},{value:"Production Database Options",id:"production-database-options",level:3},{value:"Preview Deployments",id:"preview-deployments",level:2},{value:"Branch Previews",id:"branch-previews",level:3},{value:"Preview Environment Variables",id:"preview-environment-variables",level:3},{value:"Commenting on PRs",id:"commenting-on-prs",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Build Failures",id:"build-failures",level:3},{value:"Environment Variable Issues",id:"environment-variable-issues",level:3},{value:"Function Timeout",id:"function-timeout",level:3},{value:"Memory Issues",id:"memory-issues",level:3},{value:"Monitoring",id:"monitoring",level:2},{value:"Vercel Analytics",id:"vercel-analytics",level:3},{value:"Speed Insights",id:"speed-insights",level:3},{value:"Function Logs",id:"function-logs",level:3},{value:"Domains",id:"domains",level:2},{value:"Custom Domain Setup",id:"custom-domain-setup",level:3},{value:"Redirects",id:"redirects",level:3},{value:"Security",id:"security",level:2},{value:"Protected Routes",id:"protected-routes",level:3},{value:"Rate Limiting",id:"rate-limiting",level:3},{value:"Secrets Management",id:"secrets-management",level:3},{value:"References",id:"references",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"\ufe0f-vercel-deployment",children:"\u2699\ufe0f Vercel Deployment"})}),"\n",(0,l.jsx)(n.p,{children:"Deploy Next.js applications to Vercel with proper configuration. Use when setting up deployment, configuring environment variables, edge functions, or troubleshooting builds. Activates for deployment issues, environment setup, and Vercel configuration."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"allowed-tools",children:"Allowed Tools"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Read, Write, Edit, Bash(npm:*, npx:*, vercel:*)\n"})}),"\n",(0,l.jsx)(n.h2,{id:"tags",children:"Tags"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"devops"})," ",(0,l.jsx)(n.code,{children:"automation"})," ",(0,l.jsx)(n.code,{children:"web"})," ",(0,l.jsx)(n.code,{children:"react"})]}),"\n",(0,l.jsx)(n.h1,{id:"vercel-deployment",children:"Vercel Deployment"}),"\n",(0,l.jsx)(n.p,{children:"This skill helps you deploy and configure Next.js applications on Vercel following best practices."}),"\n",(0,l.jsx)(n.h2,{id:"quick-deploy-checklist",children:"Quick Deploy Checklist"}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Environment variables set in Vercel dashboard"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Build command configured (default: ",(0,l.jsx)(n.code,{children:"next build"}),")"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Output directory correct (default: ",(0,l.jsx)(n.code,{children:".next"}),")"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Node.js version specified (20.x recommended)"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Database accessible from Vercel's network"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Secrets not committed to git"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,l.jsx)(n.h3,{id:"setting-variables",children:"Setting Variables"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Vercel Dashboard"})," (Recommended for secrets):"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Project Settings \u2192 Environment Variables"}),"\n",(0,l.jsxs)(n.li,{children:["Add variable with appropriate scope:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Production"}),": Only production deployments"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Preview"}),": PR and branch previews"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Development"}),": Local ",(0,l.jsx)(n.code,{children:"vercel dev"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Via CLI"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"vercel env add VARIABLE_NAME production\nvercel env pull .env.local  # Pull to local\n"})}),"\n",(0,l.jsx)(n.h3,{id:"variable-naming",children:"Variable Naming"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Server-only (never exposed to browser)\nDATABASE_URL=\nSESSION_SECRET=\nANTHROPIC_API_KEY=\n\n# Client-exposed (prefixed with NEXT_PUBLIC_)\nNEXT_PUBLIC_APP_URL=\nNEXT_PUBLIC_ANALYTICS_ID=\n"})}),"\n",(0,l.jsx)(n.h3,{id:"size-limits",children:"Size Limits"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Context"}),(0,l.jsx)(n.th,{children:"Limit"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Total per deployment"}),(0,l.jsx)(n.td,{children:"64 KB"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Edge Functions"}),(0,l.jsx)(n.td,{children:"5 KB per variable"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Single variable"}),(0,l.jsx)(n.td,{children:"64 KB max"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"required-variables-for-this-project",children:"Required Variables for This Project"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Authentication (required)\nSESSION_SECRET=your-32-char-minimum-secret-here\n\n# AI Integration (required for chat)\nANTHROPIC_API_KEY=sk-ant-api...\n\n# Database (if using external)\nDATABASE_URL=file:./data/app.db\n\n# Push Notifications (optional)\nVAPID_PUBLIC_KEY=\nVAPID_PRIVATE_KEY=\nVAPID_SUBJECT=mailto:admin@example.com\n\n# OAuth (optional)\nGOOGLE_CLIENT_ID=\nGOOGLE_CLIENT_SECRET=\nGITHUB_CLIENT_ID=\nGITHUB_CLIENT_SECRET=\nAPPLE_CLIENT_ID=\nAPPLE_CLIENT_SECRET=\n"})}),"\n",(0,l.jsx)(n.h2,{id:"verceljson-configuration",children:"vercel.json Configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "buildCommand": "npm run build",\n  "framework": "nextjs",\n  "regions": ["iad1"],\n  "headers": [\n    {\n      "source": "/api/(.*)",\n      "headers": [\n        { "key": "Cache-Control", "value": "no-store, must-revalidate" }\n      ]\n    },\n    {\n      "source": "/(.*)",\n      "headers": [\n        { "key": "X-Content-Type-Options", "value": "nosniff" },\n        { "key": "X-Frame-Options", "value": "DENY" },\n        { "key": "X-XSS-Protection", "value": "1; mode=block" }\n      ]\n    }\n  ],\n  "redirects": [\n    {\n      "source": "/old-path",\n      "destination": "/new-path",\n      "permanent": true\n    }\n  ],\n  "rewrites": [\n    {\n      "source": "/api/v1/:path*",\n      "destination": "/api/:path*"\n    }\n  ]\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"typescript-configuration-new-in-2025",children:"TypeScript Configuration (New in 2025)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"// vercel.ts - Type-safe configuration\nimport { defineConfig } from '@vercel/config';\n\nexport default defineConfig({\n  regions: ['iad1'],\n\n  headers: async () => [\n    {\n      source: '/api/:path*',\n      headers: [\n        { key: 'Cache-Control', value: 'no-store' },\n      ],\n    },\n  ],\n\n  redirects: async () => [\n    {\n      source: '/old',\n      destination: '/new',\n      permanent: true,\n    },\n  ],\n});\n"})}),"\n",(0,l.jsx)(n.h2,{id:"edge-functions",children:"Edge Functions"}),"\n",(0,l.jsx)(n.h3,{id:"when-to-use-edge",children:"When to Use Edge"}),"\n",(0,l.jsx)(n.p,{children:"Good for:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Authentication/authorization"}),"\n",(0,l.jsx)(n.li,{children:"A/B testing"}),"\n",(0,l.jsx)(n.li,{children:"Geolocation-based content"}),"\n",(0,l.jsx)(n.li,{children:"Request/response transforms"}),"\n",(0,l.jsx)(n.li,{children:"Simple, fast operations"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Not suitable for:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Database connections (use serverless instead)"}),"\n",(0,l.jsx)(n.li,{children:"Long-running operations"}),"\n",(0,l.jsx)(n.li,{children:"Large dependencies"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"edge-function-example",children:"Edge Function Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"// src/middleware.ts\nimport { NextResponse } from 'next/server';\nimport type { NextRequest } from 'next/server';\n\nexport const config = {\n  matcher: ['/api/:path*', '/protected/:path*'],\n};\n\nexport function middleware(request: NextRequest) {\n  // Check auth token\n  const token = request.cookies.get('session')?.value;\n\n  if (!token && request.nextUrl.pathname.startsWith('/protected')) {\n    return NextResponse.redirect(new URL('/login', request.url));\n  }\n\n  // Add headers\n  const response = NextResponse.next();\n  response.headers.set('X-Request-Id', crypto.randomUUID());\n\n  return response;\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"edge-runtime-in-api-routes",children:"Edge Runtime in API Routes"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"// src/app/api/edge-example/route.ts\nexport const runtime = 'edge';\n\nexport async function GET(request: Request) {\n  // Limited to edge-compatible APIs\n  return Response.json({ timestamp: Date.now() });\n}\n"})}),"\n",(0,l.jsx)(n.h2,{id:"build-configuration",children:"Build Configuration"}),"\n",(0,l.jsx)(n.h3,{id:"packagejson-scripts",children:"package.json Scripts"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "scripts": {\n    "build": "next build",\n    "postbuild": "npm run db:generate"\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"build-environment",children:"Build Environment"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# Set Node.js version\n# In Vercel Dashboard \u2192 Settings \u2192 General \u2192 Node.js Version\n# Or in package.json:\n{\n  "engines": {\n    "node": "20.x"\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"build-output",children:"Build Output"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Check build locally\nnpm run build\n\n# Analyze bundle\nANALYZE=true npm run build\n"})}),"\n",(0,l.jsx)(n.h2,{id:"database-considerations",children:"Database Considerations"}),"\n",(0,l.jsx)(n.h3,{id:"sqlite-on-vercel",children:"SQLite on Vercel"}),"\n",(0,l.jsx)(n.p,{children:"SQLite with better-sqlite3 works in Vercel's serverless functions, but:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Filesystem is ",(0,l.jsx)(n.strong,{children:"read-only"})," except ",(0,l.jsx)(n.code,{children:"/tmp"})]}),"\n",(0,l.jsx)(n.li,{children:"Data doesn't persist between invocations"}),"\n",(0,l.jsx)(n.li,{children:"Not suitable for production data storage"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"production-database-options",children:"Production Database Options"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Turso"})," (SQLite edge database)"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"import { createClient } from '@libsql/client';\n\nconst db = createClient({\n  url: process.env.TURSO_DATABASE_URL!,\n  authToken: process.env.TURSO_AUTH_TOKEN,\n});\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Vercel Postgres"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"import { sql } from '@vercel/postgres';\n\nconst result = await sql`SELECT * FROM users`;\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"PlanetScale"})," (MySQL)"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Neon"})," (Postgres)"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"preview-deployments",children:"Preview Deployments"}),"\n",(0,l.jsx)(n.h3,{id:"branch-previews",children:"Branch Previews"}),"\n",(0,l.jsx)(n.p,{children:"Every git push creates a preview deployment:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"https://<project>-<branch>-<team>.vercel.app"})}),"\n",(0,l.jsx)(n.li,{children:"Separate environment variables for preview"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"preview-environment-variables",children:"Preview Environment Variables"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Different values for preview vs production\n# In Vercel Dashboard, set both:\n\nDATABASE_URL (Production): postgres://prod-db...\nDATABASE_URL (Preview): postgres://staging-db...\n"})}),"\n",(0,l.jsx)(n.h3,{id:"commenting-on-prs",children:"Commenting on PRs"}),"\n",(0,l.jsx)(n.p,{children:"Vercel automatically comments on PRs with:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Preview URL"}),"\n",(0,l.jsx)(n.li,{children:"Build status"}),"\n",(0,l.jsx)(n.li,{children:"Performance metrics"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"build-failures",children:"Build Failures"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Check build locally first\nnpm run build\n\n# Common issues:\n# - Missing environment variables\n# - TypeScript errors\n# - ESLint errors (strict mode)\n# - Missing dependencies\n"})}),"\n",(0,l.jsx)(n.h3,{id:"environment-variable-issues",children:"Environment Variable Issues"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Verify variables are set\nvercel env ls\n\n# Pull to local for debugging\nvercel env pull .env.local\n"})}),"\n",(0,l.jsx)(n.h3,{id:"function-timeout",children:"Function Timeout"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:'// Increase timeout (max 60s on Pro, 10s on Hobby)\n// In vercel.json:\n{\n  "functions": {\n    "api/long-running.ts": {\n      "maxDuration": 60\n    }\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"memory-issues",children:"Memory Issues"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:'// Increase memory (affects cost)\n{\n  "functions": {\n    "api/heavy-processing.ts": {\n      "memory": 1024\n    }\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"monitoring",children:"Monitoring"}),"\n",(0,l.jsx)(n.h3,{id:"vercel-analytics",children:"Vercel Analytics"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"// src/app/layout.tsx\nimport { Analytics } from '@vercel/analytics/react';\n\nexport default function RootLayout({ children }) {\n  return (\n    <html>\n      <body>\n        {children}\n        <Analytics />\n      </body>\n    </html>\n  );\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"speed-insights",children:"Speed Insights"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"import { SpeedInsights } from '@vercel/speed-insights/next';\n\nexport default function RootLayout({ children }) {\n  return (\n    <html>\n      <body>\n        {children}\n        <SpeedInsights />\n      </body>\n    </html>\n  );\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"function-logs",children:"Function Logs"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# View logs via CLI\nvercel logs <deployment-url>\n\n# Real-time logs\nvercel logs <deployment-url> --follow\n"})}),"\n",(0,l.jsx)(n.h2,{id:"domains",children:"Domains"}),"\n",(0,l.jsx)(n.h3,{id:"custom-domain-setup",children:"Custom Domain Setup"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Vercel Dashboard \u2192 Domains"}),"\n",(0,l.jsx)(n.li,{children:"Add domain"}),"\n",(0,l.jsxs)(n.li,{children:["Configure DNS:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["A record: ",(0,l.jsx)(n.code,{children:"76.76.21.21"})]}),"\n",(0,l.jsxs)(n.li,{children:["Or CNAME: ",(0,l.jsx)(n.code,{children:"cname.vercel-dns.com"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"SSL automatically provisioned"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"redirects",children:"Redirects"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'// vercel.json\n{\n  "redirects": [\n    {\n      "source": "/:path((?!api/).*)",\n      "has": [{ "type": "host", "value": "old-domain.com" }],\n      "destination": "https://new-domain.com/:path",\n      "permanent": true\n    }\n  ]\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"security",children:"Security"}),"\n",(0,l.jsx)(n.h3,{id:"protected-routes",children:"Protected Routes"}),"\n",(0,l.jsx)(n.p,{children:"Use middleware for authentication checks (see Edge Functions above)."}),"\n",(0,l.jsx)(n.h3,{id:"rate-limiting",children:"Rate Limiting"}),"\n",(0,l.jsx)(n.p,{children:"Implement application-level rate limiting since Vercel doesn't provide built-in rate limiting for serverless functions."}),"\n",(0,l.jsx)(n.h3,{id:"secrets-management",children:"Secrets Management"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Never commit ",(0,l.jsx)(n.code,{children:".env"})," files"]}),"\n",(0,l.jsx)(n.li,{children:"Use Vercel's encrypted environment variables"}),"\n",(0,l.jsx)(n.li,{children:"Rotate secrets regularly"}),"\n",(0,l.jsx)(n.li,{children:"Different secrets for preview vs production"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://vercel.com/docs",children:"Vercel Documentation"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://vercel.com/docs/environment-variables",children:"Environment Variables"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://vercel.com/docs/functions/edge-functions",children:"Edge Functions"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://vercel.com/docs/frameworks/nextjs",children:"Next.js on Vercel"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}}}]);