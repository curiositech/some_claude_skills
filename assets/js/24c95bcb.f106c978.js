"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[52091],{28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>d});var s=i(96540);const r={},t=s.createContext(r);function l(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(t.Provider,{value:n},e.children)}},62047:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"skills/api_architect/index","title":"\u2705 Api Architect","description":"Expert API designer for REST, GraphQL, gRPC architectures. Activate on database schema (use data-pipeline-engineer), frontend consumption (use web-design-expert), deployment (use devops-automator).","source":"@site/docs/skills/api_architect/index.md","sourceDirName":"skills/api_architect","slug":"/skills/api_architect/","permalink":"/docs/skills/api_architect/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Api Architect","sidebar_position":1}}');var r=i(74848),t=i(28453);const l={sidebar_label:"Api Architect",sidebar_position:1},d="\u2705 Api Architect",c={},o=[{value:"Allowed Tools",id:"allowed-tools",level:2},{value:"Tags",id:"tags",level:2},{value:"\ud83e\udd1d Pairs Great With",id:"-pairs-great-with",level:2},{value:"Activation Triggers",id:"activation-triggers",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Core Capabilities",id:"core-capabilities",level:2},{value:"Architecture Patterns",id:"architecture-patterns",level:2},{value:"API-First Development",id:"api-first-development",level:3},{value:"Response Envelope",id:"response-envelope",level:3},{value:"Versioning Options",id:"versioning-options",level:3},{value:"Reference Files",id:"reference-files",level:2},{value:"Anti-Patterns (AVOID These)",id:"anti-patterns-avoid-these",level:2},{value:"1. Verb-Based URLs",id:"1-verb-based-urls",level:3},{value:"2. Inconsistent Response Envelopes",id:"2-inconsistent-response-envelopes",level:3},{value:"3. Breaking Changes Without Versioning",id:"3-breaking-changes-without-versioning",level:3},{value:"4. N+1 in GraphQL",id:"4-n1-in-graphql",level:3},{value:"5. Over-fetching REST Endpoints",id:"5-over-fetching-rest-endpoints",level:3},{value:"6. Missing Pagination",id:"6-missing-pagination",level:3},{value:"7. No Idempotency Keys",id:"7-no-idempotency-keys",level:3},{value:"8. Leaky Internal Errors",id:"8-leaky-internal-errors",level:3},{value:"9. Missing CORS Configuration",id:"9-missing-cors-configuration",level:3},{value:"10. No Rate Limiting",id:"10-no-rate-limiting",level:3},{value:"Validation Script",id:"validation-script",level:2},{value:"Quality Checklist",id:"quality-checklist",level:2},{value:"Output Artifacts",id:"output-artifacts",level:2},{value:"Tools Available",id:"tools-available",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"-api-architect",children:"\u2705 Api Architect"})}),"\n",(0,r.jsx)(n.p,{children:"Expert API designer for REST, GraphQL, gRPC architectures. Activate on: API design, REST API, GraphQL schema, gRPC service, OpenAPI, Swagger, API versioning, endpoint design, rate limiting, OAuth flow. NOT for: database schema (use data-pipeline-engineer), frontend consumption (use web-design-expert), deployment (use devops-automator)."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"allowed-tools",children:"Allowed Tools"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Read, Write, Edit, Bash(npm:*, npx:*, openapi-generator:*)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"tags",children:"Tags"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"api"})," ",(0,r.jsx)(n.code,{children:"rest"})," ",(0,r.jsx)(n.code,{children:"graphql"})," ",(0,r.jsx)(n.code,{children:"grpc"})," ",(0,r.jsx)(n.code,{children:"architecture"})]}),"\n",(0,r.jsx)(n.h2,{id:"-pairs-great-with",children:"\ud83e\udd1d Pairs Great With"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/docs/skills/data_pipeline_engineer",children:"Data Pipeline Engineer"})}),": Data layer design under APIs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/docs/skills/devops_automator",children:"Devops Automator"})}),": Deployment and infrastructure for APIs"]}),"\n"]}),"\n",(0,r.jsx)(n.h1,{id:"api-architect",children:"API Architect"}),"\n",(0,r.jsx)(n.p,{children:"Expert API designer specializing in REST, GraphQL, gRPC, and WebSocket architectures."}),"\n",(0,r.jsx)(n.h2,{id:"activation-triggers",children:"Activation Triggers"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Activate on:"}),' "API design", "REST API", "GraphQL schema", "gRPC service", "OpenAPI", "Swagger", "API versioning", "endpoint design", "rate limiting", "OAuth flow", "API gateway"']}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"NOT for:"})," Database schema \u2192 ",(0,r.jsx)(n.code,{children:"data-pipeline-engineer"})," | Frontend consumption \u2192 ",(0,r.jsx)(n.code,{children:"web-design-expert"})," | Deployment \u2192 ",(0,r.jsx)(n.code,{children:"devops-automator"})]}),"\n",(0,r.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Define API contract first"})," (API-first design)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Choose paradigm"}),": REST for CRUD, GraphQL for flexible queries, gRPC for internal services"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Write the spec"}),": OpenAPI for REST, SDL for GraphQL, .proto for gRPC"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Design error responses"})," with consistent structure"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Plan versioning"})," before your first release"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"core-capabilities",children:"Core Capabilities"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Domain"}),(0,r.jsx)(n.th,{children:"Technologies"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"REST"})}),(0,r.jsx)(n.td,{children:"OpenAPI 3.1, HATEOAS, Pagination"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"GraphQL"})}),(0,r.jsx)(n.td,{children:"SDL, Relay, DataLoader, Federation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"gRPC"})}),(0,r.jsx)(n.td,{children:"Protocol Buffers, Streaming patterns"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Security"})}),(0,r.jsx)(n.td,{children:"OAuth 2.0, JWT, API Keys, RBAC"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"DX"})}),(0,r.jsx)(n.td,{children:"Swagger UI, SDK generation, Sandboxes"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"architecture-patterns",children:"Architecture Patterns"}),"\n",(0,r.jsx)(n.h3,{id:"api-first-development",children:"API-First Development"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Design Contract \u2192 Generate Stubs \u2192 Implement \u2192 Test Against Spec\n"})}),"\n",(0,r.jsx)(n.h3,{id:"response-envelope",children:"Response Envelope"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"success: { data: <resource>, meta: { page, total } }\nerror: { error: { code, message, details: [{ field, issue }] } }\n"})}),"\n",(0,r.jsx)(n.h3,{id:"versioning-options",children:"Versioning Options"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["URL: ",(0,r.jsx)(n.code,{children:"/v1/users"})," (most explicit)"]}),"\n",(0,r.jsxs)(n.li,{children:["Header: ",(0,r.jsx)(n.code,{children:"Accept: application/vnd.api+json;version=1"})]}),"\n",(0,r.jsxs)(n.li,{children:["Query: ",(0,r.jsx)(n.code,{children:"/users?version=1"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"reference-files",children:"Reference Files"}),"\n",(0,r.jsxs)(n.p,{children:["Full working examples in ",(0,r.jsx)(n.code,{children:"./references/"}),":"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"File"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Lines"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"openapi-spec.yaml"})}),(0,r.jsx)(n.td,{children:"Complete OpenAPI 3.1 spec"}),(0,r.jsx)(n.td,{children:"162"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"graphql-schema.graphql"})}),(0,r.jsx)(n.td,{children:"GraphQL with Relay connections"}),(0,r.jsx)(n.td,{children:"111"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"grpc-service.proto"})}),(0,r.jsx)(n.td,{children:"Protocol Buffer, all streaming"}),(0,r.jsx)(n.td,{children:"95"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"rate-limiting.yaml"})}),(0,r.jsx)(n.td,{children:"Tier-based rate limit config"}),(0,r.jsx)(n.td,{children:"85"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api-security.yaml"})}),(0,r.jsx)(n.td,{children:"Auth, CORS, security headers"}),(0,r.jsx)(n.td,{children:"130"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"anti-patterns-avoid-these",children:"Anti-Patterns (AVOID These)"}),"\n",(0,r.jsx)(n.h3,{id:"1-verb-based-urls",children:"1. Verb-Based URLs"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Symptom"}),": ",(0,r.jsx)(n.code,{children:"/getUsers"}),", ",(0,r.jsx)(n.code,{children:"/createOrder"}),", ",(0,r.jsx)(n.code,{children:"/deleteProduct"}),"\n",(0,r.jsx)(n.strong,{children:"Fix"}),": Use nouns (",(0,r.jsx)(n.code,{children:"/users"}),", ",(0,r.jsx)(n.code,{children:"/orders"}),"), let HTTP methods convey action"]}),"\n",(0,r.jsx)(n.h3,{id:"2-inconsistent-response-envelopes",children:"2. Inconsistent Response Envelopes"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Symptom"}),": ",(0,r.jsx)(n.code,{children:"{data: [...]}"})," sometimes, raw arrays other times\n",(0,r.jsx)(n.strong,{children:"Fix"}),": Always use consistent envelope structure"]}),"\n",(0,r.jsx)(n.h3,{id:"3-breaking-changes-without-versioning",children:"3. Breaking Changes Without Versioning"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Symptom"}),": Removing fields, changing types without warning\n",(0,r.jsx)(n.strong,{children:"Fix"}),": Semantic versioning, deprecation headers, sunset periods"]}),"\n",(0,r.jsx)(n.h3,{id:"4-n1-in-graphql",children:"4. N+1 in GraphQL"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Symptom"}),": Resolver queries database per item in list\n",(0,r.jsx)(n.strong,{children:"Fix"}),": DataLoader pattern for batching, ",(0,r.jsx)(n.code,{children:"@defer"})," for large payloads"]}),"\n",(0,r.jsx)(n.h3,{id:"5-over-fetching-rest-endpoints",children:"5. Over-fetching REST Endpoints"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Symptom"}),": ",(0,r.jsx)(n.code,{children:"/users"})," returns 50 fields when clients need 3\n",(0,r.jsx)(n.strong,{children:"Fix"}),": Sparse fieldsets (",(0,r.jsx)(n.code,{children:"?fields=id,name,email"}),") or GraphQL"]}),"\n",(0,r.jsx)(n.h3,{id:"6-missing-pagination",children:"6. Missing Pagination"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Symptom"}),": List endpoints return all records\n",(0,r.jsx)(n.strong,{children:"Fix"}),": Default limits, cursor-based pagination, ",(0,r.jsx)(n.code,{children:"hasMore"})," indicator"]}),"\n",(0,r.jsx)(n.h3,{id:"7-no-idempotency-keys",children:"7. No Idempotency Keys"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Symptom"}),": Duplicate POST requests create duplicate resources\n",(0,r.jsx)(n.strong,{children:"Fix"}),": Accept ",(0,r.jsx)(n.code,{children:"Idempotency-Key"})," header, return cached response"]}),"\n",(0,r.jsx)(n.h3,{id:"8-leaky-internal-errors",children:"8. Leaky Internal Errors"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Symptom"}),": Stack traces, SQL errors exposed in 500 responses\n",(0,r.jsx)(n.strong,{children:"Fix"}),": Generic error messages in production, request IDs for debugging"]}),"\n",(0,r.jsx)(n.h3,{id:"9-missing-cors-configuration",children:"9. Missing CORS Configuration"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Symptom"}),": Browser clients blocked with CORS errors\n",(0,r.jsx)(n.strong,{children:"Fix"}),": Configure allowed origins, methods, headers explicitly"]}),"\n",(0,r.jsx)(n.h3,{id:"10-no-rate-limiting",children:"10. No Rate Limiting"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Symptom"}),": API vulnerable to abuse, no usage visibility\n",(0,r.jsx)(n.strong,{children:"Fix"}),": Implement limits per tier, return ",(0,r.jsx)(n.code,{children:"X-RateLimit-*"})," headers"]}),"\n",(0,r.jsx)(n.h2,{id:"validation-script",children:"Validation Script"}),"\n",(0,r.jsxs)(n.p,{children:["Run ",(0,r.jsx)(n.code,{children:"./scripts/validate-api-spec.sh"})," to check:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"OpenAPI specs for versions, security schemes, operationIds"}),"\n",(0,r.jsx)(n.li,{children:"GraphQL schemas for Query types, pagination, error handling"}),"\n",(0,r.jsx)(n.li,{children:"Protocol Buffers for syntax, packages, field numbers"}),"\n",(0,r.jsx)(n.li,{children:"Common issues like hardcoded URLs, missing versioning"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"quality-checklist",children:"Quality Checklist"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[ ] All endpoints use nouns, not verbs\n[ ] Consistent response envelope structure\n[ ] Error responses include codes and actionable messages\n[ ] Pagination on all list endpoints\n[ ] Authentication/authorization documented\n[ ] Rate limit headers defined\n[ ] Versioning strategy documented\n[ ] CORS configured for known origins\n[ ] Idempotency keys for mutating operations\n[ ] OpenAPI spec validates without errors\n[ ] SDK generation tested\n[ ] Examples for all request/response types\n"})}),"\n",(0,r.jsx)(n.h2,{id:"output-artifacts",children:"Output Artifacts"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"OpenAPI Specifications"})," - Complete API contracts"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GraphQL Schemas"})," - Type definitions with connections"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Protocol Buffers"})," - gRPC service definitions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API Documentation"})," - Developer guides"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SDK Examples"})," - Client code samples"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Postman Collections"})," - API test suites"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"tools-available",children:"Tools Available"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Read"}),", ",(0,r.jsx)(n.code,{children:"Write"}),", ",(0,r.jsx)(n.code,{children:"Edit"})," - File operations for specs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Bash(npm:*, npx:*)"})," - OpenAPI linting, code generation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Bash(openapi-generator:*)"})," - SDK generation"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);