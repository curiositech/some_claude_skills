"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[75876],{28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>t});var i=s(96540);const r={},l=i.createContext(r);function o(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(l.Provider,{value:n},e.children)}},83968:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"skills/recovery_social_features/index","title":"Recovery-Focused Social Features","description":"Privacy-first social features for recovery apps - sponsors, groups, messaging, friend connections. Use for sponsor/sponsee systems, meeting-based groups, peer support, safe messaging. Activate on \\"sponsor\\", \\"sponsee\\", \\"recovery group\\", \\"accountability partner\\", \\"sober network\\", \\"meeting group\\", \\"peer support\\". NOT for general social media patterns (use standard social), dating features, or public profiles.","source":"@site/docs/skills/recovery_social_features/index.md","sourceDirName":"skills/recovery_social_features","slug":"/skills/recovery_social_features","permalink":"/docs/skills/recovery_social_features","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"name":"recovery-social-features","description":"Privacy-first social features for recovery apps - sponsors, groups, messaging, friend connections. Use for sponsor/sponsee systems, meeting-based groups, peer support, safe messaging. Activate on \\"sponsor\\", \\"sponsee\\", \\"recovery group\\", \\"accountability partner\\", \\"sober network\\", \\"meeting group\\", \\"peer support\\". NOT for general social media patterns (use standard social), dating features, or public profiles.","allowed-tools":"Read,Write,Edit,Bash,Grep,Glob","slug":"/skills/recovery_social_features"}}');var r=s(74848),l=s(28453);const o={name:"recovery-social-features",description:'Privacy-first social features for recovery apps - sponsors, groups, messaging, friend connections. Use for sponsor/sponsee systems, meeting-based groups, peer support, safe messaging. Activate on "sponsor", "sponsee", "recovery group", "accountability partner", "sober network", "meeting group", "peer support". NOT for general social media patterns (use standard social), dating features, or public profiles.',"allowed-tools":"Read,Write,Edit,Bash,Grep,Glob",slug:"/skills/recovery_social_features"},t="Recovery-Focused Social Features",c={},d=[{value:"When to Use",id:"when-to-use",level:2},{value:"Core Principles",id:"core-principles",level:2},{value:"Privacy by Default",id:"privacy-by-default",level:3},{value:"Anonymity Support",id:"anonymity-support",level:3},{value:"Feature Overview",id:"feature-overview",level:2},{value:"Sponsor/Sponsee Relationships",id:"sponsorsponsee-relationships",level:3},{value:"Meeting-Based Groups",id:"meeting-based-groups",level:3},{value:"Friend Connections",id:"friend-connections",level:3},{value:"Safe Messaging",id:"safe-messaging",level:3},{value:"Accountability Features",id:"accountability-features",level:3},{value:"Safety &amp; Moderation",id:"safety--moderation",level:3},{value:"Quick Reference",id:"quick-reference",level:2},{value:"Database Schema",id:"database-schema",level:2},{value:"References",id:"references",level:2}];function a(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"recovery-focused-social-features",children:"Recovery-Focused Social Features"})}),"\n",(0,r.jsx)(n.p,{children:"Build privacy-first social features for addiction recovery apps. These patterns prioritize anonymity, safety, and the unique relationship structures in recovery communities."}),"\n",(0,r.jsx)(n.h2,{id:"when-to-use",children:"When to Use"}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"USE this skill for:"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Sponsor/sponsee relationship systems"}),"\n",(0,r.jsx)(n.li,{children:"Recovery-focused group features (meeting groups, accountability circles)"}),"\n",(0,r.jsx)(n.li,{children:"Privacy-first friend connections with mutual consent"}),"\n",(0,r.jsx)(n.li,{children:"Safe messaging between recovery peers"}),"\n",(0,r.jsx)(n.li,{children:"Anonymity-preserving profile systems"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u274c ",(0,r.jsx)(n.strong,{children:"DO NOT use for:"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"General social media patterns \u2192 use standard social feature docs"}),"\n",(0,r.jsx)(n.li,{children:"Dating or romantic connection features \u2192 not appropriate for recovery context"}),"\n",(0,r.jsx)(n.li,{children:"Public-facing profiles \u2192 recovery apps should default to privacy"}),"\n",(0,r.jsxs)(n.li,{children:["Content recommendation algorithms \u2192 use ",(0,r.jsx)(n.code,{children:"recovery-community-moderator"})," for content safety"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"core-principles",children:"Core Principles"}),"\n",(0,r.jsx)(n.h3,{id:"privacy-by-default",children:"Privacy by Default"}),"\n",(0,r.jsx)(n.p,{children:"Recovery apps handle sensitive data. Default to maximum privacy, let users opt into visibility."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"interface PrivacySettings {\n  profileVisibility: 'private' | 'friends' | 'community';\n  showSobrietyDate: boolean;\n  showProgram: boolean;        // AA, NA, CMA, etc.\n  showLocation: 'none' | 'city' | 'region';\n  allowMessages: 'none' | 'friends' | 'sponsors' | 'all';\n  anonymousInGroups: boolean;  // Use display name only\n}\n\n// Default to most private\nconst DEFAULT_PRIVACY: PrivacySettings = {\n  profileVisibility: 'friends',\n  showSobrietyDate: false,\n  showProgram: false,\n  showLocation: 'none',\n  allowMessages: 'friends',\n  anonymousInGroups: true,\n};\n"})}),"\n",(0,r.jsx)(n.h3,{id:"anonymity-support",children:"Anonymity Support"}),"\n",(0,r.jsx)(n.p,{children:"Many users need complete anonymity. Support display names separate from real identity."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"interface Profile {\n  id: string;\n  // Private - never exposed publicly\n  email: string;\n  realName?: string;\n\n  // Public-facing identity\n  displayName: string;        // \"JohnD\" or \"GratefulMember\"\n  avatarType: 'initials' | 'icon' | 'custom';\n  avatarIcon?: string;        // Predefined icon set\n\n  // Recovery-specific\n  sobrietyDate?: Date;\n  programs: ('aa' | 'na' | 'cma' | 'smart' | 'refuge' | 'other')[];\n  homeGroup?: string;         // Primary meeting\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"feature-overview",children:"Feature Overview"}),"\n",(0,r.jsx)(n.h3,{id:"sponsorsponsee-relationships",children:"Sponsor/Sponsee Relationships"}),"\n",(0,r.jsx)(n.p,{children:"The sponsor relationship is hierarchical and private. Only the two parties should know about it."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key concepts:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Invite-based connection (sponsor generates code, sponsee accepts)"}),"\n",(0,r.jsx)(n.li,{children:"Time-limited invite codes (24h expiration)"}),"\n",(0,r.jsx)(n.li,{children:"Private by design - no public visibility"}),"\n",(0,r.jsx)(n.li,{children:"One sponsor per program, unlimited sponsees"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Hooks provided:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"useSponsorInvite()"})," - Generate and accept invite codes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"useSponsorRelationships()"})," - List sponsors and sponsees"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Components:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"GenerateSponsorInvite"})," - Sponsor creates shareable code"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AcceptSponsorInvite"})," - Sponsee enters code to connect"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SponsorDashboard"})," - View all sponsor/sponsee relationships"]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"See:"})," ",(0,r.jsx)(n.code,{children:"references/sponsor-sponsee.md"})," for full implementation"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"meeting-based-groups",children:"Meeting-Based Groups"}),"\n",(0,r.jsx)(n.p,{children:"Groups that form organically around meetings. Ephemeral by default but can be made permanent."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key concepts:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Tied to specific meetings or standalone"}),"\n",(0,r.jsx)(n.li,{children:"Ephemeral groups auto-delete after 24 hours"}),"\n",(0,r.jsx)(n.li,{children:"Visibility options: public, private, invite-only"}),"\n",(0,r.jsx)(n.li,{children:"Member limits prevent overcrowding"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Group Settings:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"interface GroupSettings {\n  name: string;\n  meetingId?: string;           // Link to meeting\n  visibility: 'public' | 'private' | 'invite';\n  ephemeral: boolean;           // Auto-delete after 24h\n  maxMembers: number;           // Member limit\n}\n"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Visibility"}),(0,r.jsx)(n.th,{children:"Who Can See"}),(0,r.jsx)(n.th,{children:"Who Can Join"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"public"})}),(0,r.jsx)(n.td,{children:"Anyone"}),(0,r.jsx)(n.td,{children:"Anyone"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"private"})}),(0,r.jsx)(n.td,{children:"Members only"}),(0,r.jsx)(n.td,{children:"Invite only"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"invite"})}),(0,r.jsx)(n.td,{children:"Members only"}),(0,r.jsx)(n.td,{children:"Has invite code"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Hooks provided:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"useMeetingGroup()"})," - Create, join, leave groups"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Components:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"QuickMeetingGroup"})," - One-tap group creation at meetings"]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"See:"})," ",(0,r.jsx)(n.code,{children:"references/groups.md"})," for full implementation"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"friend-connections",children:"Friend Connections"}),"\n",(0,r.jsx)(n.p,{children:"Peer-to-peer connections without hierarchy. Mutual consent required."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key concepts:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Request/accept flow (no auto-follows)"}),"\n",(0,r.jsx)(n.li,{children:"Real-time updates via Supabase subscriptions"}),"\n",(0,r.jsx)(n.li,{children:"Blocking supported (one-way, discreet)"}),"\n",(0,r.jsx)(n.li,{children:"Status: pending, accepted, blocked"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Hooks provided:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"useFriendships()"})," - Full friendship management with real-time sync"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Components:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"FriendRequestButton"})," - Context-aware add/pending/friends states"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"PendingFriendRequests"})," - Accept/decline UI"]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"See:"})," ",(0,r.jsx)(n.code,{children:"references/friendships.md"})," for full implementation"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"safe-messaging",children:"Safe Messaging"}),"\n",(0,r.jsx)(n.p,{children:"Recovery-appropriate messaging with crisis detection and safety features."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key concepts:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Real-time message delivery via Supabase"}),"\n",(0,r.jsx)(n.li,{children:"Crisis keyword detection (non-blocking, shows resources)"}),"\n",(0,r.jsx)(n.li,{children:"Soft-delete (messages hidden, not destroyed)"}),"\n",(0,r.jsx)(n.li,{children:"Privacy-first (no read receipts by default)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Crisis Keywords (trigger resource prompt):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const CRISIS_KEYWORDS = [\n  // Suicidal ideation\n  'suicide', 'kill myself', 'want to die', 'end it all',\n  // Relapse indicators\n  'relapse', 'using again', 'fell off the wagon',\n  // Self-harm\n  'hurt myself', 'cutting', 'self-harm',\n];\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Best Practices:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Non-blocking"})," - Crisis prompts suggest resources, don't block messages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Privacy-first"})," - Don't log or report crisis keywords automatically"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Helpful tone"})," - Gentle, non-judgmental language"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Direct resources"})," - Link to crisis page, not external sites"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Offline capable"})," - Cache crisis resources for offline access"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Hooks provided:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"useMessages()"})," - Real-time message thread with Supabase subscriptions"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Components:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"MessageInput"})," - Input with crisis detection overlay"]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"See:"})," ",(0,r.jsx)(n.code,{children:"references/messaging.md"})," for full implementation"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"accountability-features",children:"Accountability Features"}),"\n",(0,r.jsx)(n.p,{children:"Sharing recovery progress with trusted connections."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Check-In Sharing:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Share daily check-ins with selected sponsors"}),"\n",(0,r.jsx)(n.li,{children:"HALT tracking (Hungry, Angry, Lonely, Tired)"}),"\n",(0,r.jsx)(n.li,{children:"Mood and gratitude logging"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Sobriety Visibility Settings:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Level"}),(0,r.jsx)(n.th,{children:"Who Can See"}),(0,r.jsx)(n.th,{children:"Use Case"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"private"})}),(0,r.jsx)(n.td,{children:"Only self"}),(0,r.jsx)(n.td,{children:"Maximum privacy"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sponsors"})}),(0,r.jsx)(n.td,{children:"Self + sponsors"}),(0,r.jsx)(n.td,{children:"Accountability focus"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"friends"})}),(0,r.jsx)(n.td,{children:"Self + sponsors + friends"}),(0,r.jsx)(n.td,{children:"Peer support"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"community"})}),(0,r.jsx)(n.td,{children:"All app users"}),(0,r.jsx)(n.td,{children:"Public milestone celebrations"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"HALT Check-In Data:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"interface DailyCheckIn {\n  date: string;\n  mood: 1 | 2 | 3 | 4 | 5;  // 1=worst, 5=best\n  halt: {\n    hungry: boolean;\n    angry: boolean;\n    lonely: boolean;\n    tired: boolean;\n  };\n  gratitude?: string;\n  notes?: string;\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Components:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ShareCheckIn"})," - Select sponsors to share with"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SobrietyVisibility"})," - Privacy level picker"]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"See:"})," ",(0,r.jsx)(n.code,{children:"references/accountability.md"})," for full implementation"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"safety--moderation",children:"Safety & Moderation"}),"\n",(0,r.jsx)(n.p,{children:"Content moderation and user blocking for safe communities."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Moderation Categories:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Category"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Action"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"crisis"})}),(0,r.jsx)(n.td,{children:"Suicidal ideation, self-harm"}),(0,r.jsx)(n.td,{children:"Show resources, don't block"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sourcing"})}),(0,r.jsx)(n.td,{children:"Drug seeking, dealing"}),(0,r.jsx)(n.td,{children:"Block + flag for review"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"harassment"})}),(0,r.jsx)(n.td,{children:"Personal attacks, threats"}),(0,r.jsx)(n.td,{children:"Block + flag for review"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"spam"})}),(0,r.jsx)(n.td,{children:"Promotional content"}),(0,r.jsx)(n.td,{children:"Block"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"explicit"})}),(0,r.jsx)(n.td,{children:"Sexual/graphic content"}),(0,r.jsx)(n.td,{children:"Block"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Blocking Behavior:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Blocked user cannot send messages"}),"\n",(0,r.jsx)(n.li,{children:"Blocked user cannot see blocker's profile"}),"\n",(0,r.jsx)(n.li,{children:"Blocked user cannot see blocker in groups"}),"\n",(0,r.jsx)(n.li,{children:"Existing messages are hidden (not deleted)"}),"\n",(0,r.jsx)(n.li,{children:"Blocking is one-way (blocked user doesn't know)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"RLS Policy Pattern:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"-- Hide content from blocked users\nCREATE POLICY \"Hide messages from blocked users\" ON messages\n  FOR SELECT USING (\n    NOT EXISTS (\n      SELECT 1 FROM friendships\n      WHERE status = 'blocked'\n      AND (\n        (requester_id = auth.uid() AND addressee_id = sender_id)\n        OR (addressee_id = auth.uid() AND requester_id = sender_id)\n      )\n    )\n  );\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Hooks provided:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"useContentModeration()"})," - Check content against moderation API"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"useBlocking()"})," - Block/unblock users, check block status"]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"See:"})," ",(0,r.jsx)(n.code,{children:"references/moderation.md"})," for full implementation"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"quick-reference",children:"Quick Reference"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"Privacy Default"}),(0,r.jsx)(n.th,{children:"Who Can See"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Profile"}),(0,r.jsx)(n.td,{children:"Friends only"}),(0,r.jsx)(n.td,{children:"Configurable"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Sobriety date"}),(0,r.jsx)(n.td,{children:"Hidden"}),(0,r.jsx)(n.td,{children:"Configurable"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Sponsor relationship"}),(0,r.jsx)(n.td,{children:"Private"}),(0,r.jsx)(n.td,{children:"Only the two parties"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Group membership"}),(0,r.jsx)(n.td,{children:"Group members"}),(0,r.jsx)(n.td,{children:"Configurable per group"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Messages"}),(0,r.jsx)(n.td,{children:"Participants only"}),(0,r.jsx)(n.td,{children:"Never public"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Check-ins"}),(0,r.jsx)(n.td,{children:"Private"}),(0,r.jsx)(n.td,{children:"Opt-in sharing"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"database-schema",children:"Database Schema"}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.code,{children:"supabase-admin/references/social-schema.md"})," for complete Supabase schema including:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Friendships table with RLS"}),"\n",(0,r.jsx)(n.li,{children:"Sponsorships with invite codes"}),"\n",(0,r.jsx)(n.li,{children:"Groups and group members"}),"\n",(0,r.jsx)(n.li,{children:"Conversations and messages"}),"\n",(0,r.jsx)(n.li,{children:"Real-time subscription patterns"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,r.jsxs)(n.p,{children:["Detailed implementations in ",(0,r.jsx)(n.code,{children:"/references/"}),":"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"File"}),(0,r.jsx)(n.th,{children:"Contents"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sponsor-sponsee.md"})}),(0,r.jsx)(n.td,{children:"useSponsorInvite hook, invite UI components, SponsorDashboard"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"groups.md"})}),(0,r.jsx)(n.td,{children:"useMeetingGroup hook, QuickMeetingGroup component"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"friendships.md"})}),(0,r.jsx)(n.td,{children:"useFriendships hook with real-time, friend request UI"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"messaging.md"})}),(0,r.jsx)(n.td,{children:"useMessages hook, MessageInput with crisis detection"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"accountability.md"})}),(0,r.jsx)(n.td,{children:"ShareCheckIn, SobrietyVisibility components"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"moderation.md"})}),(0,r.jsx)(n.td,{children:"useContentModeration, useBlocking hooks, RLS policies"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);