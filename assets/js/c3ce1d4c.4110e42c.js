"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[50337],{28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>d});var i=s(96540);const t={},r=i.createContext(t);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:n},e.children)}},34260:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"skills/skill_coach/references/antipatterns","title":"Skill Anti-Patterns: The Shibboleths","description":"This document catalogs domain-specific knowledge that separates novices from experts - the things LLMs get wrong because their training data includes outdated patterns, oversimplified tutorials, or cargo-culted code.","source":"@site/docs/skills/skill_coach/references/antipatterns.md","sourceDirName":"skills/skill_coach/references","slug":"/skills/skill_coach/references/antipatterns","permalink":"/docs/skills/skill_coach/references/antipatterns","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Skill Anti-Patterns: The Shibboleths","sidebar_label":"Skill Anti-Patterns: The Sh...","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Skill Creation Anti-Patterns","permalink":"/docs/skills/skill_coach/references/anti-patterns"},"next":{"title":"Skills vs Agents vs MCPs vs...","permalink":"/docs/skills/skill_coach/references/mcp_vs_scripts"}}');var t=s(74848),r=s(28453);const l={title:"Skill Anti-Patterns: The Shibboleths",sidebar_label:"Skill Anti-Patterns: The Sh...",sidebar_position:1},d="Skill Anti-Patterns: The Shibboleths",o={},c=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"ML/AI Model Selection",id:"mlai-model-selection",level:2},{value:"Anti-Pattern: CLIP for Everything",id:"anti-pattern-clip-for-everything",level:3},{value:"Anti-Pattern: Single Embedding Model",id:"anti-pattern-single-embedding-model",level:3},{value:"Anti-Pattern: Ignoring Model Versioning",id:"anti-pattern-ignoring-model-versioning",level:3},{value:"Framework Evolution",id:"framework-evolution",level:2},{value:"Anti-Pattern: Pages Router in App Router Projects",id:"anti-pattern-pages-router-in-app-router-projects",level:3},{value:"Anti-Pattern: Redux for Everything",id:"anti-pattern-redux-for-everything",level:3},{value:"Anti-Pattern: Class Components",id:"anti-pattern-class-components",level:3},{value:"Tool Architecture",id:"tool-architecture",level:2},{value:"Anti-Pattern: MCP for Everything",id:"anti-pattern-mcp-for-everything",level:3},{value:"Anti-Pattern: Premature Abstraction",id:"anti-pattern-premature-abstraction",level:3},{value:"Skill Design",id:"skill-design",level:2},{value:"Anti-Pattern: Skill as Documentation Dump",id:"anti-pattern-skill-as-documentation-dump",level:3},{value:"When This Pattern Changed",id:"when-this-pattern-changed",level:2},{value:"Anti-Pattern: No Validation Script",id:"anti-pattern-no-validation-script",level:3},{value:"Anti-Pattern: Overly Permissive Tools",id:"anti-pattern-overly-permissive-tools",level:3},{value:"Temporal Knowledge Patterns",id:"temporal-knowledge-patterns",level:2},{value:"Real-World Failure Case Studies",id:"real-world-failure-case-studies",level:2},{value:"Case Study 1: The Photo Expert Explosion",id:"case-study-1-the-photo-expert-explosion",level:3},{value:"Case Study 2: The Phantom MCP",id:"case-study-2-the-phantom-mcp",level:3},{value:"Case Study 3: The Time Bomb",id:"case-study-3-the-time-bomb",level:3},{value:"Case Study 4: The Activation Black Hole",id:"case-study-4-the-activation-black-hole",level:3},{value:"Contributing",id:"contributing",level:2}];function a(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"skill-anti-patterns-the-shibboleths",children:"Skill Anti-Patterns: The Shibboleths"})}),"\n",(0,t.jsxs)(n.p,{children:["This document catalogs ",(0,t.jsx)(n.strong,{children:"domain-specific knowledge that separates novices from experts"})," - the things LLMs get wrong because their training data includes outdated patterns, oversimplified tutorials, or cargo-culted code."]}),"\n",(0,t.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#mlai-model-selection",children:"ML/AI Model Selection"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#framework-evolution",children:"Framework Evolution"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#tool-architecture",children:"Tool Architecture"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#skill-design",children:"Skill Design"})}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"mlai-model-selection",children:"ML/AI Model Selection"}),"\n",(0,t.jsx)(n.h3,{id:"anti-pattern-clip-for-everything",children:"Anti-Pattern: CLIP for Everything"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Novice thinking"}),': "CLIP is pre-trained on 400M image-text pairs and does zero-shot classification. Use it for all image-text tasks!"']}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Reality"}),": CLIP has ",(0,t.jsx)(n.strong,{children:"fundamental geometric limitations"}),". Research from 2023-2025 proves it cannot simultaneously handle:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Basic descriptions"}),"\n",(0,t.jsx)(n.li,{children:'Attribute binding ("red car AND blue truck" vs "blue car AND red truck")'}),"\n",(0,t.jsx)(n.li,{children:'Spatial relationships ("cat left of dog" vs "dog left of cat")'}),"\n",(0,t.jsx)(n.li,{children:'Negation ("not a cat")'}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"What CLIP fails at"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u274c Counting objects in images"}),"\n",(0,t.jsx)(n.li,{children:"\u274c Fine-grained classification (celebrity ID, car models, flower species)"}),"\n",(0,t.jsx)(n.li,{children:"\u274c Compositional reasoning"}),"\n",(0,t.jsx)(n.li,{children:"\u274c Spatial understanding"}),"\n",(0,t.jsx)(n.li,{children:"\u274c Handwritten text (MNIST-style)"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"When to use alternatives"}),":"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Task"}),(0,t.jsx)(n.th,{children:"Use Instead"}),(0,t.jsx)(n.th,{children:"Why"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Counting objects"}),(0,t.jsx)(n.td,{children:"DETR, Faster R-CNN"}),(0,t.jsx)(n.td,{children:"Object detection models built for counting"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Fine-grained classification"}),(0,t.jsx)(n.td,{children:"EfficientNet + task head"}),(0,t.jsx)(n.td,{children:"Transfer learning on specific domain"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Compositional reasoning"}),(0,t.jsx)(n.td,{children:"DCSMs, PC-CLIP"}),(0,t.jsx)(n.td,{children:"Preserve patch/token topology"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Spatial relationships"}),(0,t.jsx)(n.td,{children:"GQA models, SWIG"}),(0,t.jsx)(n.td,{children:"Built for spatial understanding"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Attribute binding"}),(0,t.jsx)(n.td,{children:"PC-CLIP (pairwise)"}),(0,t.jsx)(n.td,{children:"Trained on comparative data"})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Timeline"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"2021: Original CLIP released"}),"\n",(0,t.jsx)(n.li,{children:"2022-2023: Limitations discovered in research"}),"\n",(0,t.jsx)(n.li,{children:"2024: DCSMs (Dense Cosine Similarity Maps) paper"}),"\n",(0,t.jsx)(n.li,{children:"2024: PC-CLIP (Pairwise Comparison CLIP)"}),"\n",(0,t.jsx)(n.li,{children:"2025: SpLiCE (Sparse Linear Concept Embeddings)"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"LLM mistake"}),": LLMs trained on 2021-2023 data will suggest CLIP for everything because limitations weren't widely known yet."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"anti-pattern-single-embedding-model",children:"Anti-Pattern: Single Embedding Model"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Novice thinking"}),': "Pick one embedding model and use it everywhere"']}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Expert knowledge"}),": Different tasks need different models:"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Text embeddings"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Semantic search: ",(0,t.jsx)(n.code,{children:"text-embedding-3-large"}),", ",(0,t.jsx)(n.code,{children:"voyage-2"})]}),"\n",(0,t.jsxs)(n.li,{children:["Code search: ",(0,t.jsx)(n.code,{children:"voyage-code-2"}),", ",(0,t.jsx)(n.code,{children:"text-embedding-ada-002"})]}),"\n",(0,t.jsxs)(n.li,{children:["Multi-lingual: ",(0,t.jsx)(n.code,{children:"multilingual-e5-large"})]}),"\n",(0,t.jsxs)(n.li,{children:["Long documents: ",(0,t.jsx)(n.code,{children:"jina-embeddings-v2"})," (8k tokens)"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Image embeddings"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"General: CLIP ViT-L/14"}),"\n",(0,t.jsx)(n.li,{children:"Fine-grained: DINOv2"}),"\n",(0,t.jsx)(n.li,{children:"Medical: BiomedCLIP"}),"\n",(0,t.jsx)(n.li,{children:"Faces: ArcFace, CosFace"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Multi-modal"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Image-text: CLIP, BLIP-2"}),"\n",(0,t.jsx)(n.li,{children:"Video: X-CLIP, VideoCLIP"}),"\n",(0,t.jsx)(n.li,{children:"3D: ULIP, PointCLIP"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Why this matters"}),": Embedding quality directly impacts retrieval accuracy. Using the wrong model can drop accuracy by 20-40%."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"anti-pattern-ignoring-model-versioning",children:"Anti-Pattern: Ignoring Model Versioning"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Problem"}),": \"We're using ",(0,t.jsx)(n.code,{children:"text-embedding-ada-002"}),"\" (doesn't specify when)"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Why wrong"}),": Models evolve:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"text-embedding-ada-002"})," (Dec 2022) vs ",(0,t.jsx)(n.code,{children:"text-embedding-3-small"})," (Jan 2024)"]}),"\n",(0,t.jsx)(n.li,{children:"CLIP ViT-B/32 vs ViT-L/14 vs ViT-g-14"}),"\n",(0,t.jsx)(n.li,{children:"Different training data, different capabilities"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Best practice"}),": Pin versions, document when you adopted them:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# embeddings.py\nMODEL = "text-embedding-3-large"  # Adopted: 2024-03-15\nMODEL_DIMENSIONS = 3072\nTRAINING_CUTOFF = "2023-09"  # Approximate\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"framework-evolution",children:"Framework Evolution"}),"\n",(0,t.jsx)(n.h3,{id:"anti-pattern-pages-router-in-app-router-projects",children:"Anti-Pattern: Pages Router in App Router Projects"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Context"}),": Next.js 13 (Oct 2022) introduced App Router, fundamentally changing architecture."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Outdated pattern"})," (Pages Router):"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// pages/api/users.js\nexport default function handler(req, res) {\n  res.json({ users: [] })\n}\n\n// pages/users.js\nexport async function getServerSideProps() {\n  return { props: { users: [] } }\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Current pattern"})," (App Router):"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// app/api/users/route.js\nexport async function GET() {\n  return Response.json({ users: [] })\n}\n\n// app/users/page.js\nasync function UsersPage() {\n  const users = await fetchUsers()  // Server Component\n  return <UserList users={users} />\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Why it matters"}),": Pages Router patterns don't work in App Router and vice versa."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"LLM mistake"}),": Training data from 2020-2023 overwhelmingly shows Pages Router. LLMs will default to old patterns unless specifically prompted."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Timeline"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"2016-2022: Pages Router only"}),"\n",(0,t.jsx)(n.li,{children:"Oct 2022: App Router introduced (beta)"}),"\n",(0,t.jsx)(n.li,{children:"May 2023: App Router stable"}),"\n",(0,t.jsx)(n.li,{children:"2024+: App Router is default"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"anti-pattern-redux-for-everything",children:"Anti-Pattern: Redux for Everything"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Novice thinking"}),': "Global state needs Redux"']}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Timeline"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"2015-2020: Redux dominated"}),"\n",(0,t.jsx)(n.li,{children:"2019: Context API improved in React 16.3"}),"\n",(0,t.jsx)(n.li,{children:"2020: Zustand, Jotai emerged"}),"\n",(0,t.jsx)(n.li,{children:"2023: React Server Components changed the game"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Current wisdom"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Local UI state"}),": ",(0,t.jsx)(n.code,{children:"useState"}),", ",(0,t.jsx)(n.code,{children:"useReducer"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Derived state"}),": ",(0,t.jsx)(n.code,{children:"useMemo"}),", selectors"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Global state (simple)"}),": Context API"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Global state (complex)"}),": Zustand, Jotai"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Server state"}),": React Query, SWR"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"URL state"}),": Next.js searchParams"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Redux"}),": Only if you need time-travel debugging or complex middleware"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Why Redux fell out of favor"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Boilerplate heavy"}),"\n",(0,t.jsx)(n.li,{children:'Server Components make much state "server-native"'}),"\n",(0,t.jsx)(n.li,{children:"Simpler alternatives emerged"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"LLM mistake"}),": LLMs will suggest Redux by default because 80% of training data predates alternatives."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"anti-pattern-class-components",children:"Anti-Pattern: Class Components"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Timeline"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"2013-2018: Class components only"}),"\n",(0,t.jsx)(n.li,{children:"Feb 2019: Hooks introduced (React 16.8)"}),"\n",(0,t.jsx)(n.li,{children:"2020+: Functional components are standard"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Outdated"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"class UserProfile extends React.Component {\n  state = { user: null }\n  \n  componentDidMount() {\n    fetchUser().then(user => this.setState({ user }))\n  }\n  \n  render() {\n    return <div>{this.state.user?.name}</div>\n  }\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Current"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"function UserProfile() {\n  const [user, setUser] = useState(null)\n  \n  useEffect(() => {\n    fetchUser().then(setUser)\n  }, [])\n  \n  return <div>{user?.name}</div>\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"When class components are still valid"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Error boundaries (no hook equivalent yet)"}),"\n",(0,t.jsx)(n.li,{children:"Legacy codebases"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"LLM mistake"}),": Will generate class components for complex state management"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"tool-architecture",children:"Tool Architecture"}),"\n",(0,t.jsx)(n.h3,{id:"anti-pattern-mcp-for-everything",children:"Anti-Pattern: MCP for Everything"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Novice thinking"}),': "MCP is the new standard, make everything an MCP!"']}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Expert reality"}),": MCPs have overhead. Use them strategically."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Use MCP when"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u2705 External API with authentication"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Stateful connections (WebSocket, database)"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Real-time data streams"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Security boundaries (credentials, OAuth)"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Use Scripts when"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u2705 Local file operations"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Batch transformations"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Stateless computations"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 CLI wrappers"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example - Wrong"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# mcp_server_for_json_parsing.py - OVERKILL!\n@mcp.tool()\ndef parse_json(file_path: str):\n    with open(file_path) as f:\n        return json.load(f)\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example - Right"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# scripts/parse_json.py - Simple script!\nimport json\nimport sys\n\nwith open(sys.argv[1]) as f:\n    data = json.load(f)\n    print(json.dumps(data, indent=2))\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Philosophy"}),": \"MCP's job isn't to abstract reality for the agent; its job is to manage the auth, networking, and security boundaries and then get out of the way.\""]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"anti-pattern-premature-abstraction",children:"Anti-Pattern: Premature Abstraction"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Problem"}),": Building a complex MCP before understanding the use case"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Better approach"}),": Start with scripts, graduate to MCP when you need:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Auth/security boundaries"}),"\n",(0,t.jsx)(n.li,{children:"Multiple tools in same domain"}),"\n",(0,t.jsx)(n.li,{children:"State management"}),"\n",(0,t.jsx)(n.li,{children:"Error handling standardization"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Evolution path"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Script \u2192 Multiple Scripts \u2192 Helper Library \u2192 MCP Server\n"})}),"\n",(0,t.jsx)(n.p,{children:"Only promote to MCP when complexity justifies it."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"skill-design",children:"Skill Design"}),"\n",(0,t.jsx)(n.h3,{id:"anti-pattern-skill-as-documentation-dump",children:"Anti-Pattern: Skill as Documentation Dump"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Bad"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-markdown",children:"---\nname: react-guide\ndescription: Everything about React\n---\n\n# React Guide\n\nReact is a JavaScript library for building user interfaces...\n[50 pages of tutorial content]\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Why wrong"}),": Not progressive disclosure, not actionable, not targeted."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Good"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-markdown",children:"---\nname: react-server-components\ndescription: Use React Server Components correctly. Use when working with Next.js App Router, async components, or server-side data fetching.\n---\n\n# React Server Components\n\n## Quick Decision Tree\n\nIs your component:\n- Fetching data? \u2192 Server Component\n- Using hooks/events? \u2192 Client Component\n- Both? \u2192 Server Component wrapper + Client Component child\n\n## Common Anti-Pattern: Everything is 'use client'\n\n\u274c **Wrong**:\n```jsx\n'use client'\nasync function Page() {  // This doesn't work!\n  const data = await fetch(...)\n  return <div>{data}</div>\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u2705 ",(0,t.jsx)(n.strong,{children:"Right"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"// Server Component (default)\nasync function Page() {\n  const data = await fetchData()\n  return <ClientComponent data={data} />\n}\n\n// client-component.jsx\n'use client'\nfunction ClientComponent({ data }) {\n  const [count, setCount] = useState(0)\n  return <div onClick={() => setCount(count + 1)}>{data}</div>\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"when-this-pattern-changed",children:"When This Pattern Changed"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Pre-Next.js 13: All components are client-side"}),"\n",(0,t.jsx)(n.li,{children:"Next.js 13+: Server Components by default"}),"\n",(0,t.jsx)(n.li,{children:"LLM confusion: Will add 'use client' everywhere because older patterns"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"See /references/server-components-deep-dive.md for more."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'\n---\n\n### Anti-Pattern: Missing "When NOT to Use"\n\n**Problem**: Skills activate on false positives\n\n**Example - Without negatives**:\n```yaml\ndescription: Processes images using computer vision techniques\n'})}),"\n",(0,t.jsx)(n.p,{children:"Activates for: image resizing, image generation, image editing, OCR, face detection, etc."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example - With negatives"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"description: Semantic image search using CLIP embeddings. Use for finding similar images, zero-shot classification. NOT for image generation, editing, or OCR. NOT for counting objects or fine-grained classification.\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Pattern"}),': Always include "NOT for X, Y, Z" to prevent false activation.']}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"anti-pattern-no-validation-script",children:"Anti-Pattern: No Validation Script"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Problem"}),": Skill gives instructions but no way to check correctness"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Better"}),": Include validation"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# scripts/validate.py\ndef validate_setup():\n    """Check if environment is configured correctly."""\n    checks = {\n        "Node version": check_node_version(),\n        "Dependencies": check_dependencies(),\n        "API keys": check_api_keys(),\n    }\n    \n    for name, passed in checks.items():\n        print(f"{\'\u2705\' if passed else \'\u274c\'} {name}")\n    \n    return all(checks.values())\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"anti-pattern-overly-permissive-tools",children:"Anti-Pattern: Overly Permissive Tools"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Bad"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"allowed-tools: Bash\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Why"}),": Can execute ANY bash command"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Better"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"allowed-tools: Bash(git:*,npm:run,npm:install),Read,Write\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Principle"}),": Least privilege - only grant what's needed"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"temporal-knowledge-patterns",children:"Temporal Knowledge Patterns"}),"\n",(0,t.jsx)(n.p,{children:"When documenting anti-patterns, always include:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Timeline"}),": When was this practice common?"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Why deprecated"}),": What replaced it and why?"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"LLM confusion"}),": Why will LLMs suggest the old pattern?"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Migration path"}),": How to update from old to new?"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Template"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-markdown",children:"### Anti-Pattern: [Pattern Name]\n\n**Used**: [Date range]\n**Replaced by**: [New approach]\n**Why deprecated**: [Reason]\n\n**Old way**:\n[code example]\n\n**New way**:\n[code example]\n\n**LLM mistake**: [Why LLM suggests old pattern]\n**How to detect**: [Validation rule]\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"real-world-failure-case-studies",children:"Real-World Failure Case Studies"}),"\n",(0,t.jsx)(n.h3,{id:"case-study-1-the-photo-expert-explosion",children:"Case Study 1: The Photo Expert Explosion"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Skill"}),": ",(0,t.jsx)(n.code,{children:"photo-expert"})," (v1.0)\n",(0,t.jsx)(n.strong,{children:"Problem"}),": Single skill for ALL photo operations"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'Activated on "photo" anywhere in query'}),"\n",(0,t.jsx)(n.li,{children:"800+ lines of instructions"}),"\n",(0,t.jsx)(n.li,{children:"Slow loading, high token usage"}),"\n",(0,t.jsx)(n.li,{children:"Wrong advice given (composition advice when user wanted color theory)"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Root Cause"}),": Everything Skill anti-pattern"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Resolution"}),": Split into 5 focused skills:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"clip-aware-embeddings"})," - semantic search"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"photo-composition-critic"})," - aesthetic analysis"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"color-theory-palette-harmony-expert"})," - color science"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"collage-layout-expert"})," - arrangement algorithms"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"event-detection-temporal-intelligence-expert"})," - clustering"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Lesson"}),": One domain \u2260 one skill. Split by expertise type."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"case-study-2-the-phantom-mcp",children:"Case Study 2: The Phantom MCP"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Skill"}),": ",(0,t.jsx)(n.code,{children:"github-workflow-helper"})," (v1.1)\n",(0,t.jsx)(n.strong,{children:"Problem"}),": Referenced MCP server that didn't exist"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"SKILL.md said"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-markdown",children:"Use the included MCP server for GitHub API access.\nRun: `npx github-helper-mcp`\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Reality"}),": No ",(0,t.jsx)(n.code,{children:"mcp-server/"})," directory existed"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Claude confidently told users to run non-existent commands"}),"\n",(0,t.jsx)(n.li,{children:"Users filed bug reports"}),"\n",(0,t.jsx)(n.li,{children:"Trust in skill ecosystem damaged"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Root Cause"}),": Reference Illusion anti-pattern"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Added ",(0,t.jsx)(n.code,{children:"check_self_contained.py"})," to detect phantom tools"]}),"\n",(0,t.jsx)(n.li,{children:"Either create the MCP or remove the reference"}),"\n",(0,t.jsx)(n.li,{children:"Added validation to CI"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Lesson"}),": Don't promise tools you don't deliver."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"case-study-3-the-time-bomb",children:"Case Study 3: The Time Bomb"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Skill"}),": ",(0,t.jsx)(n.code,{children:"react-hooks-expert"})," (v2.0)\n",(0,t.jsx)(n.strong,{children:"Problem"}),": Temporal knowledge became stale"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Original content (2023)"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-markdown",children:"Use useEffect with empty deps for componentDidMount behavior\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"By 2024"}),": This caused issues with React 18 Strict Mode double-mounting"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Users followed advice \u2192 got bugs"}),"\n",(0,t.jsx)(n.li,{children:"Skill became actively harmful"}),"\n",(0,t.jsx)(n.li,{children:"No CHANGELOG to track when content was written"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Root Cause"}),": Missing temporal knowledge markers"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-markdown",children:'## Temporal Context\n- **Pre-React 18**: useEffect with [] = componentDidMount\n- **React 18+**: useEffect with [] runs TWICE in dev (Strict Mode)\n- **Current best practice**: Use refs for "run once" patterns\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Lesson"}),": Date your knowledge. Update quarterly."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"case-study-4-the-activation-black-hole",children:"Case Study 4: The Activation Black Hole"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Skill"}),": ",(0,t.jsx)(n.code,{children:"api-design-expert"})," (v1.0)\n",(0,t.jsx)(n.strong,{children:"Problem"}),": Never activated when needed"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Description"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"description: Expert guidance for API design\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'User: "How should I structure my REST endpoints?"'}),"\n",(0,t.jsxs)(n.li,{children:["Skill: ",(0,t.jsx)(n.em,{children:"silence"})]}),"\n",(0,t.jsx)(n.li,{children:"User confused why skill existed but never helped"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Root Cause"}),": Missing Exclusions + no keywords"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'description: REST/GraphQL API design patterns. Activate on "API design",\n"endpoint structure", "REST architecture", "GraphQL schema".\nNOT for API implementation, SDK generation, or documentation.\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Lesson"}),": Generic descriptions = zero activations"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"contributing",children:"Contributing"}),"\n",(0,t.jsx)(n.p,{children:"When you discover a new anti-pattern:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Document what looks right but is wrong"}),"\n",(0,t.jsx)(n.li,{children:"Explain the fundamental reason it's wrong"}),"\n",(0,t.jsx)(n.li,{children:"Show the correct approach"}),"\n",(0,t.jsx)(n.li,{children:"Include temporal context (when did this change?)"}),"\n",(0,t.jsx)(n.li,{children:"Note why LLMs make this mistake"}),"\n",(0,t.jsx)(n.li,{children:"Add detection/validation if possible"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Remember"}),': The goal is to encode the knowledge that separates "it compiles" from "it\'s correct" - the shibboleths that reveal expertise.']})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}}}]);