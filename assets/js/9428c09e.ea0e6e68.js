"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[55813],{28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>o});var t=r(96540);const s={},i=t.createContext(s);function a(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(i.Provider,{value:n},e.children)}},69818:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"skills/form_validation_architect/index","title":"Form Validation Architect","description":"End-to-end form handling with react-hook-form, Zod schemas, validation patterns, error messaging, field arrays, and multi-step wizards. Use for complex forms, validation architecture, autosave, field dependencies. Activate on \\"form validation\\", \\"react-hook-form\\", \\"Zod\\", \\"form error\\", \\"multi-step form\\", \\"wizard\\". NOT for simple HTML forms, backend validation only, or non-React frameworks.","source":"@site/docs/skills/form_validation_architect/index.md","sourceDirName":"skills/form_validation_architect","slug":"/skills/form_validation_architect","permalink":"/docs/skills/form_validation_architect","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"name":"form-validation-architect","description":"End-to-end form handling with react-hook-form, Zod schemas, validation patterns, error messaging, field arrays, and multi-step wizards. Use for complex forms, validation architecture, autosave, field dependencies. Activate on \\"form validation\\", \\"react-hook-form\\", \\"Zod\\", \\"form error\\", \\"multi-step form\\", \\"wizard\\". NOT for simple HTML forms, backend validation only, or non-React frameworks.","allowed-tools":"Read,Write,Edit,Bash(npm:*)","slug":"/skills/form_validation_architect"}}');var s=r(74848),i=r(28453);const a={name:"form-validation-architect",description:'End-to-end form handling with react-hook-form, Zod schemas, validation patterns, error messaging, field arrays, and multi-step wizards. Use for complex forms, validation architecture, autosave, field dependencies. Activate on "form validation", "react-hook-form", "Zod", "form error", "multi-step form", "wizard". NOT for simple HTML forms, backend validation only, or non-React frameworks.',"allowed-tools":"Read,Write,Edit,Bash(npm:*)",slug:"/skills/form_validation_architect"},o="Form Validation Architect",l={},d=[{value:"When to Use",id:"when-to-use",level:2},{value:"Quick Decision Tree",id:"quick-decision-tree",level:2},{value:"Technology Selection (2024+)",id:"technology-selection-2024",level:2},{value:"React Hook Form (Recommended)",id:"react-hook-form-recommended",level:3},{value:"Zod for Schema Validation",id:"zod-for-schema-validation",level:3},{value:"Common Anti-Patterns",id:"common-anti-patterns",level:2},{value:"Anti-Pattern 1: Controlled Inputs Everywhere",id:"anti-pattern-1-controlled-inputs-everywhere",level:3},{value:"Anti-Pattern 2: String-Based Validation",id:"anti-pattern-2-string-based-validation",level:3},{value:"Anti-Pattern 3: No Error State Management",id:"anti-pattern-3-no-error-state-management",level:3},{value:"Anti-Pattern 4: No Async Validation",id:"anti-pattern-4-no-async-validation",level:3},{value:"Anti-Pattern 5: No Loading States",id:"anti-pattern-5-no-loading-states",level:3},{value:"Implementation Patterns",id:"implementation-patterns",level:2},{value:"Pattern 1: Basic Form with Zod",id:"pattern-1-basic-form-with-zod",level:3},{value:"Pattern 2: Multi-Step Wizard",id:"pattern-2-multi-step-wizard",level:3},{value:"Pattern 3: Dynamic Field Arrays",id:"pattern-3-dynamic-field-arrays",level:3},{value:"Pattern 4: Autosave (Debounced)",id:"pattern-4-autosave-debounced",level:3},{value:"Form UX Best Practices",id:"form-ux-best-practices",level:2},{value:"1. Validate on Blur (Not on Change)",id:"1-validate-on-blur-not-on-change",level:3},{value:"2. Disable Submit While Invalid",id:"2-disable-submit-while-invalid",level:3},{value:"3. Focus First Error on Submit",id:"3-focus-first-error-on-submit",level:3},{value:"4. Optimistic UI Updates",id:"4-optimistic-ui-updates",level:3},{value:"Production Checklist",id:"production-checklist",level:2},{value:"When to Use vs Avoid",id:"when-to-use-vs-avoid",level:2},{value:"Technology Comparison",id:"technology-comparison",level:2},{value:"References",id:"references",level:2},{value:"Scripts",id:"scripts",level:2},{value:"Assets",id:"assets",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"form-validation-architect",children:"Form Validation Architect"})}),"\n",(0,s.jsx)(n.p,{children:"Expert in building production-grade form systems with client-side validation, type safety, and excellent UX."}),"\n",(0,s.jsx)(n.h2,{id:"when-to-use",children:"When to Use"}),"\n",(0,s.jsxs)(n.p,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Use for"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Complex forms with multiple fields and validation rules"}),"\n",(0,s.jsx)(n.li,{children:"Multi-step wizards with progress tracking"}),"\n",(0,s.jsx)(n.li,{children:"Dynamic field arrays (add/remove items)"}),"\n",(0,s.jsx)(n.li,{children:"Form state persistence across sessions"}),"\n",(0,s.jsx)(n.li,{children:"Async validation (check username availability, validate address)"}),"\n",(0,s.jsx)(n.li,{children:"Dependent fields (enable B when A is checked)"}),"\n",(0,s.jsx)(n.li,{children:"File uploads with progress and validation"}),"\n",(0,s.jsx)(n.li,{children:"Autosave and optimistic updates"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u274c ",(0,s.jsx)(n.strong,{children:"NOT for"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Simple contact forms (HTML + basic JS is fine)"}),"\n",(0,s.jsx)(n.li,{children:"Backend-only validation (use Joi, Yup on server)"}),"\n",(0,s.jsx)(n.li,{children:"Non-React frameworks (use Formik alternatives)"}),"\n",(0,s.jsx)(n.li,{children:"Read-only displays (no form needed)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"quick-decision-tree",children:"Quick Decision Tree"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Does your form:\n\u251c\u2500\u2500 Have &gt;5 fields? \u2192 Use react-hook-form\n\u251c\u2500\u2500 Need type safety? \u2192 Add Zod schemas\n\u251c\u2500\u2500 Have dynamic fields? \u2192 Use field arrays\n\u251c\u2500\u2500 Span multiple steps? \u2192 Use wizard pattern\n\u251c\u2500\u2500 Need async validation? \u2192 Use resolver + async rules\n\u2514\u2500\u2500 Just email/message? \u2192 Use native HTML validation\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"technology-selection-2024",children:"Technology Selection (2024+)"}),"\n",(0,s.jsx)(n.h3,{id:"react-hook-form-recommended",children:"React Hook Form (Recommended)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Why RHF over Formik"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Performance"}),": Uncontrolled inputs \u2192 fewer re-renders"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Bundle size"}),": 8KB vs 30KB (Formik)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DevEx"}),": Better TypeScript support"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Adoption"}),": 40k+ stars, industry standard 2023+"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Timeline"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"2015-2019: Formik dominated"}),"\n",(0,s.jsx)(n.li,{children:"2019: React Hook Form released"}),"\n",(0,s.jsx)(n.li,{children:"2022+: RHF became standard"}),"\n",(0,s.jsx)(n.li,{children:"2024: Formik in maintenance mode"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"zod-for-schema-validation",children:"Zod for Schema Validation"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Why Zod over Yup"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TypeScript-first"}),": Infer types from schemas"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Composability"}),": Better schema reuse"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Error messages"}),": More customizable"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Modern"}),": Active development, latest features"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Timeline"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"2017-2020: Yup standard"}),"\n",(0,s.jsx)(n.li,{children:"2020: Zod released"}),"\n",(0,s.jsx)(n.li,{children:"2023+: Zod preferred for new projects"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"common-anti-patterns",children:"Common Anti-Patterns"}),"\n",(0,s.jsx)(n.h3,{id:"anti-pattern-1-controlled-inputs-everywhere",children:"Anti-Pattern 1: Controlled Inputs Everywhere"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Novice thinking"}),': "All form inputs should be controlled with useState"']}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem"}),": Causes re-render on every keystroke"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Wrong approach"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// \u274c Re-renders entire component on every keystroke\nconst [email, setEmail] = useState('');\nconst [password, setPassword] = useState('');\nconst [name, setName] = useState('');\n// ... 20 more useState calls\n\n<input value={email} onChange={(e) => setEmail(e.target.value)} />\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Correct approach"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Uncontrolled with react-hook-form (minimal re-renders)\nconst { register, handleSubmit } = useForm();\n\n<input {...register('email')} />\n<input {...register('password')} />\n<input {...register('name')} />\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Why it matters"}),": Forms with 10+ fields become sluggish with controlled inputs."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"anti-pattern-2-string-based-validation",children:"Anti-Pattern 2: String-Based Validation"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem"}),": No type safety, easy to make mistakes"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Wrong approach"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// \u274c String validation, no types\nconst validate = (values) => {\n  if (!values.email.includes('@')) return 'Invalid email';\n  if (values.age < 18) return 'Must be 18+';\n  // Typo in field name? Runtime error!\n};\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Correct approach"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Zod schema with type inference\nconst schema = z.object({\n  email: z.string().email('Invalid email'),\n  age: z.number().min(18, 'Must be 18+'),\n  username: z.string()\n    .min(3, 'Too short')\n    .regex(/^[a-z0-9_]+$/, 'Lowercase, numbers, underscores only')\n});\n\ntype FormData = z.infer<typeof schema>; // Automatic TypeScript type!\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Timeline"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Pre-2020: String-based validation common"}),"\n",(0,s.jsx)(n.li,{children:"2020+: Schema-first validation standard"}),"\n",(0,s.jsx)(n.li,{children:"2024: Type inference from schemas expected"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"anti-pattern-3-no-error-state-management",children:"Anti-Pattern 3: No Error State Management"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem"}),": Errors shown before user interacts"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Wrong approach"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// \u274c Shows errors immediately on page load\n{errors.email && <span>{errors.email}</span>}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Correct approach"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'// \u2705 Show errors only after field is touched\nconst { formState: { errors, touchedFields } } = useForm();\n\n{touchedFields.email && errors.email && (\n  <span className="error">{errors.email.message}</span>\n)}\n\n// Or: Use mode="onBlur" to validate on blur\nconst form = useForm({\n  mode: \'onBlur\' // Validate when user leaves field\n});\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Why it matters"}),": Better UX \u2192 user isn't yelled at before typing"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"anti-pattern-4-no-async-validation",children:"Anti-Pattern 4: No Async Validation"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem"}),": Can't check username availability, validate addresses, etc."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Correct approach"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Async validation with debounce\nconst schema = z.object({\n  username: z.string().refine(\n    async (username) => {\n      // Debounced API call\n      const available = await checkUsernameAvailability(username);\n      return available;\n    },\n    { message: 'Username already taken' }\n  )\n});\n\n// Or: Custom async validation in RHF\nregister('username', {\n  validate: {\n    checkAvailable: async (value) => {\n      const response = await fetch(`/api/check-username?q=${value}`);\n      return response.ok || 'Username taken';\n    }\n  }\n});\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Best practice"}),": Debounce async validation to avoid API spam"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"anti-pattern-5-no-loading-states",children:"Anti-Pattern 5: No Loading States"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem"}),": User doesn't know validation is happening"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Correct approach"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Show loading state during async validation\nconst { formState: { isValidating, isSubmitting } } = useForm();\n\n<button disabled={isValidating || isSubmitting}>\n  {isSubmitting ? 'Submitting...' :\n   isValidating ? 'Checking...' :\n   'Submit'}\n</button>\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"implementation-patterns",children:"Implementation Patterns"}),"\n",(0,s.jsx)(n.h3,{id:"pattern-1-basic-form-with-zod",children:"Pattern 1: Basic Form with Zod"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\n\n// Define schema\nconst loginSchema = z.object({\n  email: z.string().email('Invalid email address'),\n  password: z.string().min(8, 'Password must be at least 8 characters'),\n  rememberMe: z.boolean().optional()\n});\n\ntype LoginForm = z.infer<typeof loginSchema>;\n\nfunction LoginForm() {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isSubmitting }\n  } = useForm<LoginForm>({\n    resolver: zodResolver(loginSchema),\n    defaultValues: {\n      rememberMe: false\n    }\n  });\n\n  const onSubmit = async (data: LoginForm) => {\n    await api.login(data);\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <div>\n        <input\n          {...register('email')}\n          type=\"email\"\n          placeholder=\"Email\"\n        />\n        {errors.email && <span className=\"error\">{errors.email.message}</span>}\n      </div>\n\n      <div>\n        <input\n          {...register('password')}\n          type=\"password\"\n          placeholder=\"Password\"\n        />\n        {errors.password && <span className=\"error\">{errors.password.message}</span>}\n      </div>\n\n      <div>\n        <label>\n          <input {...register('rememberMe')} type=\"checkbox\" />\n          Remember me\n        </label>\n      </div>\n\n      <button type=\"submit\" disabled={isSubmitting}>\n        {isSubmitting ? 'Logging in...' : 'Login'}\n      </button>\n    </form>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"pattern-2-multi-step-wizard",children:"Pattern 2: Multi-Step Wizard"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const stepSchemas = [\n  // Step 1: Personal Info\n  z.object({\n    firstName: z.string().min(1, 'Required'),\n    lastName: z.string().min(1, 'Required'),\n    email: z.string().email()\n  }),\n  // Step 2: Address\n  z.object({\n    street: z.string().min(1, 'Required'),\n    city: z.string().min(1, 'Required'),\n    zipCode: z.string().regex(/^\\d{5}$/, 'Invalid ZIP')\n  }),\n  // Step 3: Payment\n  z.object({\n    cardNumber: z.string().regex(/^\\d{16}$/, 'Invalid card'),\n    expiry: z.string().regex(/^\\d{2}\\/\\d{2}$/, 'MM/YY format'),\n    cvv: z.string().regex(/^\\d{3}$/, '3 digits')\n  })\n];\n\nfunction MultiStepForm() {\n  const [step, setStep] = useState(0);\n  const [formData, setFormData] = useState({});\n\n  const form = useForm({\n    resolver: zodResolver(stepSchemas[step])\n  });\n\n  const nextStep = async () => {\n    const isValid = await form.trigger(); // Validate current step\n\n    if (isValid) {\n      setFormData({ ...formData, ...form.getValues() });\n      setStep(step + 1);\n    }\n  };\n\n  const prevStep = () => {\n    setFormData({ ...formData, ...form.getValues() });\n    setStep(step - 1);\n  };\n\n  const onSubmit = async (data) => {\n    const finalData = { ...formData, ...data };\n    await api.submitApplication(finalData);\n  };\n\n  return (\n    <div>\n      <progress value={step + 1} max={stepSchemas.length} />\n\n      <form onSubmit={form.handleSubmit(step === 2 ? onSubmit : nextStep)}>\n        {step === 0 && <PersonalInfoStep register={form.register} errors={form.formState.errors} />}\n        {step === 1 && <AddressStep register={form.register} errors={form.formState.errors} />}\n        {step === 2 && <PaymentStep register={form.register} errors={form.formState.errors} />}\n\n        <div>\n          {step > 0 && <button type=\"button\" onClick={prevStep}>Back</button>}\n          <button type=\"submit\">\n            {step === 2 ? 'Submit' : 'Next'}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"pattern-3-dynamic-field-arrays",children:"Pattern 3: Dynamic Field Arrays"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const schema = z.object({\n  items: z.array(z.object({\n    name: z.string().min(1, 'Required'),\n    quantity: z.number().min(1, 'At least 1'),\n    price: z.number().min(0, 'Must be positive')\n  })).min(1, 'Add at least one item')\n});\n\nfunction OrderForm() {\n  const { register, control, handleSubmit, formState: { errors } } = useForm({\n    resolver: zodResolver(schema),\n    defaultValues: {\n      items: [{ name: '', quantity: 1, price: 0 }]\n    }\n  });\n\n  const { fields, append, remove } = useFieldArray({\n    control,\n    name: 'items'\n  });\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      {fields.map((field, index) => (\n        <div key={field.id}>\n          <input\n            {...register(`items.${index}.name`)}\n            placeholder=\"Item name\"\n          />\n          <input\n            {...register(`items.${index}.quantity`, { valueAsNumber: true })}\n            type=\"number\"\n          />\n          <input\n            {...register(`items.${index}.price`, { valueAsNumber: true })}\n            type=\"number\"\n            step=\"0.01\"\n          />\n          <button type=\"button\" onClick={() => remove(index)}>\n            Remove\n          </button>\n        </div>\n      ))}\n\n      <button type=\"button\" onClick={() => append({ name: '', quantity: 1, price: 0 })}>\n        Add Item\n      </button>\n\n      <button type=\"submit\">Submit Order</button>\n    </form>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"pattern-4-autosave-debounced",children:"Pattern 4: Autosave (Debounced)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { useDebounce } from 'use-debounce';\nimport { useEffect } from 'react';\n\nfunction AutosaveForm() {\n  const { watch, register } = useForm();\n  const formValues = watch(); // Watch all fields\n\n  // Debounce to avoid saving on every keystroke\n  const [debouncedValues] = useDebounce(formValues, 1000);\n\n  useEffect(() => {\n    // Save to localStorage or API\n    localStorage.setItem('draft', JSON.stringify(debouncedValues));\n    // Or: await api.saveDraft(debouncedValues);\n  }, [debouncedValues]);\n\n  return (\n    <form>\n      <input {...register('title')} placeholder=\"Title\" />\n      <textarea {...register('content')} placeholder=\"Content\" />\n      <small>Autosaved</small>\n    </form>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"form-ux-best-practices",children:"Form UX Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"1-validate-on-blur-not-on-change",children:"1. Validate on Blur (Not on Change)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const form = useForm({\n  mode: 'onBlur' // Validate when user leaves field\n  // NOT 'onChange' - too aggressive\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-disable-submit-while-invalid",children:"2. Disable Submit While Invalid"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'<button\n  type="submit"\n  disabled={!form.formState.isValid || form.formState.isSubmitting}\n>\n  Submit\n</button>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"3-focus-first-error-on-submit",children:"3. Focus First Error on Submit"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const onSubmit = async (data) => {\n  try {\n    await api.submit(data);\n  } catch (error) {\n    // Focus first error field\n    const firstError = Object.keys(errors)[0];\n    form.setFocus(firstError);\n  }\n};\n"})}),"\n",(0,s.jsx)(n.h3,{id:"4-optimistic-ui-updates",children:"4. Optimistic UI Updates"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const onSubmit = async (data) => {\n  // Optimistically update UI\n  setItems([...items, data]);\n\n  try {\n    await api.createItem(data);\n  } catch (error) {\n    // Rollback on error\n    setItems(items);\n    toast.error('Failed to save');\n  }\n};\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"production-checklist",children:"Production Checklist"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u25a1 Zod schemas for all forms\n\u25a1 Type inference used (z.infer<typeof schema>)\n\u25a1 Validation mode set appropriately (onBlur/onSubmit)\n\u25a1 Error messages clear and actionable\n\u25a1 Loading states for async operations\n\u25a1 Focus management on errors\n\u25a1 Autosave for long forms\n\u25a1 Form state persisted (localStorage/session)\n\u25a1 File upload progress indicators\n\u25a1 Keyboard navigation tested\n\u25a1 Accessibility (ARIA labels, error announcements)\n\u25a1 Mobile-friendly (large touch targets)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"when-to-use-vs-avoid",children:"When to Use vs Avoid"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Scenario"}),(0,s.jsx)(n.th,{children:"Use This Skill?"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"User registration with validation"}),(0,s.jsx)(n.td,{children:"\u2705 Yes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Multi-step checkout flow"}),(0,s.jsx)(n.td,{children:"\u2705 Yes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Dynamic form builder"}),(0,s.jsx)(n.td,{children:"\u2705 Yes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Simple newsletter signup"}),(0,s.jsx)(n.td,{children:"\u274c No - use native HTML"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Backend-only validation"}),(0,s.jsx)(n.td,{children:"\u274c No - use Joi/Yup on server"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Non-React framework"}),(0,s.jsx)(n.td,{children:"\u274c No - use framework-specific solution"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"technology-comparison",children:"Technology Comparison"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Feature"}),(0,s.jsx)(n.th,{children:"RHF + Zod"}),(0,s.jsx)(n.th,{children:"Formik + Yup"}),(0,s.jsx)(n.th,{children:"Native HTML5"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Performance"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Type Safety"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50"}),(0,s.jsx)(n.td,{children:"\u274c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Bundle Size"}),(0,s.jsx)(n.td,{children:"8KB"}),(0,s.jsx)(n.td,{children:"30KB"}),(0,s.jsx)(n.td,{children:"0KB"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"DevEx"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50\u2b50"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Field Arrays"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50\u2b50"}),(0,s.jsx)(n.td,{children:"\u274c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Async Validation"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50\u2b50"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50\u2b50"}),(0,s.jsx)(n.td,{children:"\u274c"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/references/zod-patterns.md"})," - Advanced Zod schema patterns"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/references/accessibility.md"})," - Form accessibility guidelines"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/references/file-upload.md"})," - File upload with progress tracking"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"scripts",children:"Scripts"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"scripts/generate_form.ts"})," - Generate form from Zod schema"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"scripts/validate_schemas.ts"})," - Lint Zod schemas for common issues"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"assets",children:"Assets"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"assets/form-templates/"})," - Ready-to-use form components"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"This skill guides"}),": Form validation architecture | react-hook-form patterns | Zod schema design | Multi-step wizards | Field arrays | Autosave | Async validation"]})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);