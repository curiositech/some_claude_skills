"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[40355],{47556:(e,s,t)=>{t.d(s,{qz:()=>j,Vs:()=>C});var a=t(96540);const n={nodeGroup:"nodeGroup_en09",nodeBody:"nodeBody_OR6L",runningIndicator:"runningIndicator_Y9dr",pending:"pending__iyp",ready:"ready_os4D",running:"running_AyOx",completed:"completed_W9Io",failed:"failed_n225"};var l=t(74848);const o={small:{width:120,height:60,fontSize:10},medium:{width:160,height:80,fontSize:12},large:{width:200,height:100,fontSize:14}},i={pending:"#6b7280",ready:"#3b82f6",running:"#f59e0b",completed:"#10b981",failed:"#ef4444",skipped:"#9ca3af"},r={skill:"\u2699\ufe0f",agent:"\ud83e\udd16","mcp-tool":"\ud83d\udd27",composite:"\ud83d\udce6",conditional:"\ud83d\udd00"};function d(e){switch(e.status){case"pending":return"Pending";case"ready":return"Ready";case"running":return"Running...";case"completed":return"Done";case"failed":return"Failed";case"skipped":return"Skipped"}}function c({node:e,position:s,selected:t=!1,onClick:a,onDoubleClick:c,size:m="medium"}){const u=o[m],h=i[e.state.status],p=r[e.type],x=e.skillId||e.id;return(0,l.jsxs)("g",{transform:`translate(${s.x}, ${s.y})`,onClick:s=>{s.stopPropagation(),a?.(e.id)},onDoubleClick:s=>{s.stopPropagation(),c?.(e.id)},className:n.nodeGroup,children:[(0,l.jsx)("rect",{x:4,y:4,width:u.width,height:u.height,rx:8,fill:"#000000",opacity:.15}),(0,l.jsx)("rect",{x:0,y:0,width:u.width,height:u.height,rx:8,fill:"#c0c0c0",stroke:t?"#000080":"#000000",strokeWidth:t?3:2,className:n.nodeBody}),(0,l.jsx)("rect",{x:2,y:2,width:u.width-4,height:20,fill:"#000080"}),(0,l.jsxs)("text",{x:8,y:15,fill:"#ffffff",fontSize:u.fontSize-2,fontWeight:"bold",fontFamily:"var(--font-code)",children:[p," ",e.type]}),(0,l.jsx)("text",{x:u.width/2,y:u.height/2+2,textAnchor:"middle",fill:"#000000",fontSize:u.fontSize,fontWeight:"bold",fontFamily:"var(--font-code)",children:x.length>18?`${x.slice(0,15)}...`:x}),(0,l.jsxs)("g",{transform:`translate(${u.width/2-30}, ${u.height-20})`,children:[(0,l.jsx)("rect",{x:0,y:0,width:60,height:14,rx:3,fill:h}),(0,l.jsx)("text",{x:30,y:10,textAnchor:"middle",fill:"#ffffff",fontSize:9,fontWeight:"bold",fontFamily:"var(--font-system)",children:d(e.state)})]}),"running"===e.state.status&&(0,l.jsx)("g",{className:n.runningIndicator,children:(0,l.jsx)("circle",{cx:u.width-12,cy:12,r:5,fill:"#f59e0b",children:(0,l.jsx)("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"1s",repeatCount:"indefinite"})})}),t&&(0,l.jsx)("rect",{x:-4,y:-4,width:u.width+8,height:u.height+8,rx:10,fill:"none",stroke:"#000080",strokeWidth:2,strokeDasharray:"4,4"})]})}const m={container:"container_b86S",header:"header_fHmU",title:"title_l1mJ",icon:"icon_Ky12",stats:"stats_XuRF",canvas:"canvas_WeOf",edges:"edges_aBWQ",edge:"edge_nGnd",nodes:"nodes_Vznp",detailsPanel:"detailsPanel_tGqI",detailsHeader:"detailsHeader_LT4D",closeButton:"closeButton_N0uh",detailsContent:"detailsContent_dt6q",detailRow:"detailRow_YQbI",detailLabel:"detailLabel_rmEM",detailValue:"detailValue_Cjbg",controls:"controls_WYhO",controlButton:"controlButton_e_Id",legend:"legend_R8f2",legendItem:"legendItem_TmWc",legendDot:"legendDot_Poy7"},u={small:{width:120,height:60},medium:{width:160,height:80},large:{width:200,height:100}};function h(e,s,t,a){const n=u[t];let l,o,i,r;"horizontal"===a?(l=e.x+n.width,o=e.y+n.height/2,i=s.x,r=s.y+n.height/2):(l=e.x+n.width/2,o=e.y+n.height,i=s.x+n.width/2,r=s.y);const d=(l+i)/2,c=(o+r)/2;return"horizontal"===a?`M ${l} ${o} C ${d} ${o}, ${d} ${r}, ${i} ${r}`:`M ${l} ${o} C ${l} ${c}, ${i} ${c}, ${i} ${r}`}function p({dag:e,width:s=800,height:t=600,nodeSize:n="medium",onNodeSelect:o,onNodeEdit:i,showDetails:r=!0,direction:d="horizontal",interactive:p=!0}){const[x,g]=(0,a.useState)(null),[f,j]=(0,a.useState)({x:0,y:0,scale:1}),[b,N]=(0,a.useState)(!1),[y,_]=(0,a.useState)({x:0,y:0}),C=(0,a.useMemo)(()=>function(e,s,t){const a=new Map,n=u[s],l=new Map,o=Array.from(e.nodes.values());for(const m of o)l.set(m.id,0);let i=!0;for(;i;){i=!1;for(const e of o){const s=e.id;for(const t of e.dependencies){const e=l.get(t)??0;e+1>(l.get(s)??0)&&(l.set(s,e+1),i=!0)}}}const r=new Map;for(const[m,u]of l)r.has(u)||r.set(u,[]),r.get(u).push(m);const d=n.width+60,c=n.height+40;for(const[m,u]of r){const e=u.length;for(let s=0;s<u.length;s++){const n=u[s],l=s-(e-1)/2;"horizontal"===t?a.set(n,{x:m*d+40,y:l*c+200,level:m}):a.set(n,{x:l*d+400,y:m*c+40,level:m})}}return a}(e,n,d),[e,n,d]),k=(0,a.useMemo)(()=>{const s=[];for(const t of e.nodes.values()){const a=C.get(t.id);if(a)for(const l of t.dependencies){const o=C.get(l);if(!o)continue;const i=e.nodes.get(l);s.push({from:l,to:t.id,path:h(o,a,n,d),fromStatus:i?.state.status??"pending",toStatus:t.state.status})}}return s},[e,C,n,d]),v=(0,a.useMemo)(()=>{let e=0,a=0,l=s,o=t;const i=u[n];for(const s of C.values())e=Math.min(e,s.x-20),a=Math.min(a,s.y-20),l=Math.max(l,s.x+i.width+20),o=Math.max(o,s.y+i.height+20);return{minX:e,minY:a,width:l-e+40,height:o-a+40}},[C,n,s,t]),w=(0,a.useCallback)(e=>{g(s=>s===e?null:e),o?.(e)},[o]),S=(0,a.useCallback)(e=>{i?.(e)},[i]),T=(0,a.useCallback)(()=>{g(null),o?.(null)},[o]),B=(0,a.useCallback)(e=>{p&&(N(!0),_({x:e.clientX-f.x,y:e.clientY-f.y}))},[p,f]),L=(0,a.useCallback)(e=>{b&&j(s=>({...s,x:e.clientX-y.x,y:e.clientY-y.y}))},[b,y]),I=(0,a.useCallback)(()=>{N(!1)},[]),M=(0,a.useCallback)(e=>{if(!p)return;e.preventDefault();const s=e.deltaY>0?.9:1.1;j(e=>({...e,scale:Math.max(.25,Math.min(2,e.scale*s))}))},[p]),A=x?e.nodes.get(x):null;return(0,l.jsxs)("div",{className:m.container,children:[(0,l.jsxs)("div",{className:m.header,children:[(0,l.jsxs)("div",{className:m.title,children:[(0,l.jsx)("span",{className:m.icon,children:"\ud83d\udcca"}),e.name]}),(0,l.jsxs)("div",{className:m.stats,children:[(0,l.jsxs)("span",{children:[e.nodes.size," nodes"]}),(0,l.jsx)("span",{children:"\u2022"}),(0,l.jsxs)("span",{children:[k.length," edges"]})]})]}),(0,l.jsxs)("svg",{className:m.canvas,width:s,height:t,viewBox:`${v.minX} ${v.minY} ${v.width} ${v.height}`,onMouseDown:B,onMouseMove:L,onMouseUp:I,onMouseLeave:I,onWheel:M,onClick:T,children:[(0,l.jsxs)("defs",{children:[(0,l.jsx)("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:(0,l.jsx)("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"#e5e7eb",strokeWidth:"1"})}),(0,l.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:(0,l.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#6b7280"})}),(0,l.jsx)("marker",{id:"arrowhead-active",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:(0,l.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#10b981"})})]}),(0,l.jsx)("rect",{x:v.minX,y:v.minY,width:v.width,height:v.height,fill:"url(#grid)"}),(0,l.jsxs)("g",{transform:`translate(${f.x}, ${f.y}) scale(${f.scale})`,children:[(0,l.jsx)("g",{className:m.edges,children:k.map((e,s)=>{return(0,l.jsx)("path",{d:e.path,fill:"none",stroke:(t=e.fromStatus,a=e.toStatus,"completed"===t&&"completed"===a?"#10b981":"completed"===t&&"running"===a?"#f59e0b":"failed"===t||"failed"===a?"#ef4444":"completed"===t?"#3b82f6":"#9ca3af"),strokeWidth:2,markerEnd:"completed"===e.fromStatus?"url(#arrowhead-active)":"url(#arrowhead)",className:m.edge},`${e.from}-${e.to}-${s}`);var t,a})}),(0,l.jsx)("g",{className:m.nodes,children:Array.from(e.nodes.values()).map(e=>{const s=C.get(e.id);return s?(0,l.jsx)(c,{node:e,position:s,selected:x===e.id,onClick:w,onDoubleClick:S,size:n},e.id):null})})]})]}),r&&A&&(0,l.jsxs)("div",{className:m.detailsPanel,children:[(0,l.jsxs)("div",{className:m.detailsHeader,children:[(0,l.jsx)("span",{children:"Node Details"}),(0,l.jsx)("button",{className:m.closeButton,onClick:()=>g(null),children:"\xd7"})]}),(0,l.jsxs)("div",{className:m.detailsContent,children:[(0,l.jsxs)("div",{className:m.detailRow,children:[(0,l.jsx)("span",{className:m.detailLabel,children:"ID:"}),(0,l.jsx)("span",{className:m.detailValue,children:A.id})]}),(0,l.jsxs)("div",{className:m.detailRow,children:[(0,l.jsx)("span",{className:m.detailLabel,children:"Type:"}),(0,l.jsx)("span",{className:m.detailValue,children:A.type})]}),A.skillId&&(0,l.jsxs)("div",{className:m.detailRow,children:[(0,l.jsx)("span",{className:m.detailLabel,children:"Skill:"}),(0,l.jsx)("span",{className:m.detailValue,children:A.skillId})]}),(0,l.jsxs)("div",{className:m.detailRow,children:[(0,l.jsx)("span",{className:m.detailLabel,children:"Status:"}),(0,l.jsx)("span",{className:m.detailValue,children:A.state.status})]}),(0,l.jsxs)("div",{className:m.detailRow,children:[(0,l.jsx)("span",{className:m.detailLabel,children:"Dependencies:"}),(0,l.jsx)("span",{className:m.detailValue,children:A.dependencies.length>0?A.dependencies.join(", "):"None"})]})]})]}),p&&(0,l.jsxs)("div",{className:m.controls,children:[(0,l.jsx)("button",{className:m.controlButton,onClick:()=>j({x:0,y:0,scale:1}),title:"Reset view",children:"\ud83d\udd04"}),(0,l.jsx)("button",{className:m.controlButton,onClick:()=>j(e=>({...e,scale:1.2*e.scale})),title:"Zoom in",children:"+"}),(0,l.jsx)("button",{className:m.controlButton,onClick:()=>j(e=>({...e,scale:.8*e.scale})),title:"Zoom out",children:"\u2212"})]}),(0,l.jsxs)("div",{className:m.legend,children:[(0,l.jsxs)("div",{className:m.legendItem,children:[(0,l.jsx)("span",{className:m.legendDot,style:{background:"#6b7280"}}),(0,l.jsx)("span",{children:"Pending"})]}),(0,l.jsxs)("div",{className:m.legendItem,children:[(0,l.jsx)("span",{className:m.legendDot,style:{background:"#3b82f6"}}),(0,l.jsx)("span",{children:"Ready"})]}),(0,l.jsxs)("div",{className:m.legendItem,children:[(0,l.jsx)("span",{className:m.legendDot,style:{background:"#f59e0b"}}),(0,l.jsx)("span",{children:"Running"})]}),(0,l.jsxs)("div",{className:m.legendItem,children:[(0,l.jsx)("span",{className:m.legendDot,style:{background:"#10b981"}}),(0,l.jsx)("span",{children:"Completed"})]}),(0,l.jsxs)("div",{className:m.legendItem,children:[(0,l.jsx)("span",{className:m.legendDot,style:{background:"#ef4444"}}),(0,l.jsx)("span",{children:"Failed"})]})]})]})}const x={container:"container_CuDm",toolbar:"toolbar_LYfO",toolbarSection:"toolbarSection_zdpC",nameLabel:"nameLabel_zlMf",nameInput:"nameInput_pXCe",toolButton:"toolButton_c3pl",content:"content_Ci9I",graphArea:"graphArea_gBhh",emptyState:"emptyState_CyGg",emptyIcon:"emptyIcon__WOP",emptyTitle:"emptyTitle_w839",emptyText:"emptyText_iuJm",sidePanel:"sidePanel_iSwq",panelHeader:"panelHeader_uWx_",closeButton:"closeButton_HtSp",panelContent:"panelContent_jRVG",formGroup:"formGroup_d6hR",formLabel:"formLabel_ff5T",nodeTypeGrid:"nodeTypeGrid_Qpa7",nodeTypeButton:"nodeTypeButton_zQ4G",nodeTypeSelected:"nodeTypeSelected_NSYU",nodeTypeIcon:"nodeTypeIcon_DrqJ",nodeTypeLabel:"nodeTypeLabel_XqC1",select:"select_Iypl",depsList:"depsList_Xse2",depItem:"depItem_Y0jg",formActions:"formActions_gWQq",primaryButton:"primaryButton_r3Eh",secondaryButton:"secondaryButton_tn8S",modalOverlay:"modalOverlay_hgY6",modal:"modal_gX2a",modalHeader:"modalHeader_E_Dj",modalContent:"modalContent_yiYP",exportButtons:"exportButtons_ouqY",exportButton:"exportButton_BzcI",statusBar:"statusBar_XhjP"},g=[{type:"skill",label:"Skill Node",icon:"\u2699\ufe0f"},{type:"agent",label:"Agent Node",icon:"\ud83e\udd16"},{type:"mcp-tool",label:"MCP Tool",icon:"\ud83d\udd27"},{type:"composite",label:"Composite",icon:"\ud83d\udce6"},{type:"conditional",label:"Conditional",icon:"\ud83d\udd00"}],f={timeoutMs:3e4,maxRetries:3,retryDelayMs:1e3,exponentialBackoff:!0};function j({initialDag:e,availableSkills:s=[],onSave:t,onExport:n}){const[o,i]=(0,a.useState)(e??(r="New Workflow",{id:`dag-${Date.now()}`,name:r,nodes:new Map,edges:new Map,config:{maxParallelism:5,defaultTimeout:3e4,errorHandling:"stop-on-failure"},inputs:[],outputs:[]}));var r;const[d,c]=(0,a.useState)(null),[m,u]=(0,a.useState)(!1),[h,j]=(0,a.useState)("skill"),[b,N]=(0,a.useState)(""),[y,_]=(0,a.useState)([]),[C,k]=(0,a.useState)(o.name),[v,w]=(0,a.useState)(!1),S=(0,a.useMemo)(()=>Array.from(o.nodes.keys()).map(e=>e),[o.nodes]),T=(0,a.useCallback)(()=>{const e=`node-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,s={id:e,type:h,skillId:"skill"===h?b:void 0,dependencies:y,inputMappings:[],state:{status:"pending"},config:{...f}};i(t=>{const a=new Map(t.nodes);a.set(e,s);const n=new Map(t.edges);for(const s of y){const t=n.get(s)??[];n.set(s,[...t,e])}return{...t,nodes:a,edges:n}}),u(!1),N(""),_([])},[h,b,y]),B=(0,a.useCallback)(()=>{d&&(i(e=>{const s=new Map(e.nodes);s.delete(d);const t=new Map;for(const[a,n]of e.edges){if(a===d)continue;const e=n.filter(e=>e!==d);e.length>0&&t.set(a,e)}for(const a of s.values())a.dependencies=a.dependencies.filter(e=>e!==d);return{...e,nodes:s,edges:t}}),c(null))},[d]),L=(0,a.useCallback)(e=>{const s=e.target.value;k(s),i(e=>({...e,name:s}))},[]),I=(0,a.useCallback)(()=>{t?.(o)},[o,t]),M=(0,a.useCallback)(e=>{n?.(o,e),w(!1)},[o,n]),A=(0,a.useCallback)(e=>{_(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},[]),$=(0,a.useCallback)(()=>{confirm("Are you sure you want to clear all nodes?")&&(i(e=>({...e,nodes:new Map,edges:new Map})),c(null))},[]);return(0,l.jsxs)("div",{className:x.container,children:[(0,l.jsxs)("div",{className:x.toolbar,children:[(0,l.jsx)("div",{className:x.toolbarSection,children:(0,l.jsxs)("label",{className:x.nameLabel,children:["Workflow:",(0,l.jsx)("input",{type:"text",value:C,onChange:L,className:x.nameInput,placeholder:"Workflow name"})]})}),(0,l.jsxs)("div",{className:x.toolbarSection,children:[(0,l.jsx)("button",{className:x.toolButton,onClick:()=>u(!0),disabled:m,children:"\u2795 Add Node"}),(0,l.jsx)("button",{className:x.toolButton,onClick:B,disabled:!d,children:"\ud83d\uddd1\ufe0f Delete"}),(0,l.jsx)("button",{className:x.toolButton,onClick:$,disabled:0===o.nodes.size,children:"\ud83e\uddf9 Clear"})]}),(0,l.jsxs)("div",{className:x.toolbarSection,children:[(0,l.jsx)("button",{className:x.toolButton,onClick:I,disabled:0===o.nodes.size,children:"\ud83d\udcbe Save"}),(0,l.jsx)("button",{className:x.toolButton,onClick:()=>w(!0),disabled:0===o.nodes.size,children:"\ud83d\udce4 Export"})]})]}),(0,l.jsxs)("div",{className:x.content,children:[(0,l.jsx)("div",{className:x.graphArea,children:o.nodes.size>0?(0,l.jsx)(p,{dag:o,width:800,height:500,onNodeSelect:c,showDetails:!0}):(0,l.jsxs)("div",{className:x.emptyState,children:[(0,l.jsx)("div",{className:x.emptyIcon,children:"\ud83d\udcca"}),(0,l.jsx)("div",{className:x.emptyTitle,children:"No nodes yet"}),(0,l.jsx)("div",{className:x.emptyText,children:'Click "Add Node" to start building your workflow'})]})}),m&&(0,l.jsxs)("div",{className:x.sidePanel,children:[(0,l.jsxs)("div",{className:x.panelHeader,children:[(0,l.jsx)("span",{children:"Add New Node"}),(0,l.jsx)("button",{className:x.closeButton,onClick:()=>u(!1),children:"\xd7"})]}),(0,l.jsxs)("div",{className:x.panelContent,children:[(0,l.jsxs)("div",{className:x.formGroup,children:[(0,l.jsx)("label",{className:x.formLabel,children:"Node Type:"}),(0,l.jsx)("div",{className:x.nodeTypeGrid,children:g.map(({type:e,label:s,icon:t})=>(0,l.jsxs)("button",{className:`${x.nodeTypeButton} ${h===e?x.nodeTypeSelected:""}`,onClick:()=>j(e),children:[(0,l.jsx)("span",{className:x.nodeTypeIcon,children:t}),(0,l.jsx)("span",{className:x.nodeTypeLabel,children:s})]},e))})]}),"skill"===h&&(0,l.jsxs)("div",{className:x.formGroup,children:[(0,l.jsx)("label",{className:x.formLabel,children:"Skill:"}),(0,l.jsxs)("select",{className:x.select,value:b,onChange:e=>N(e.target.value),children:[(0,l.jsx)("option",{value:"",children:"Select a skill..."}),s.map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.name," (",e.category,")"]},e.id))]})]}),S.length>0&&(0,l.jsxs)("div",{className:x.formGroup,children:[(0,l.jsx)("label",{className:x.formLabel,children:"Dependencies:"}),(0,l.jsx)("div",{className:x.depsList,children:S.map(e=>{const s=o.nodes.get(e);return(0,l.jsxs)("label",{className:x.depItem,children:[(0,l.jsx)("input",{type:"checkbox",checked:y.includes(e),onChange:()=>A(e)}),(0,l.jsx)("span",{children:s?.skillId||e})]},e)})})]}),(0,l.jsxs)("div",{className:x.formActions,children:[(0,l.jsx)("button",{className:x.primaryButton,onClick:T,disabled:"skill"===h&&!b,children:"Add Node"}),(0,l.jsx)("button",{className:x.secondaryButton,onClick:()=>u(!1),children:"Cancel"})]})]})]})]}),v&&(0,l.jsx)("div",{className:x.modalOverlay,children:(0,l.jsxs)("div",{className:x.modal,children:[(0,l.jsxs)("div",{className:x.modalHeader,children:[(0,l.jsx)("span",{children:"Export Workflow"}),(0,l.jsx)("button",{className:x.closeButton,onClick:()=>w(!1),children:"\xd7"})]}),(0,l.jsxs)("div",{className:x.modalContent,children:[(0,l.jsx)("p",{children:"Choose export format:"}),(0,l.jsxs)("div",{className:x.exportButtons,children:[(0,l.jsx)("button",{className:x.exportButton,onClick:()=>M("json"),children:"\ud83d\udcc4 Export as JSON"}),(0,l.jsx)("button",{className:x.exportButton,onClick:()=>M("yaml"),children:"\ud83d\udcdd Export as YAML"})]})]})]})}),(0,l.jsxs)("div",{className:x.statusBar,children:[(0,l.jsxs)("span",{children:["Nodes: ",o.nodes.size]}),(0,l.jsx)("span",{children:"\u2022"}),(0,l.jsxs)("span",{children:["Selected: ",d?o.nodes.get(d)?.skillId||d:"None"]})]})]})}const b={container:"container_NX3E",header:"header_Uido",title:"title_dMiD",icon:"icon_bxsJ",statusBadge:"statusBadge_QIUj",idle:"idle_fCV9",running:"running_vtM7",paused:"paused_MTaM",completed:"completed_dZAx",failed:"failed_elV7",headerActions:"headerActions_vpjP",actionButton:"actionButton_Nq1Z",danger:"danger_eIwW",progressContainer:"progressContainer_F66V",progressBar:"progressBar_HIjc",progressFill:"progressFill_BvRP",progressText:"progressText_yVYc",quickStats:"quickStats_ox8a",statItem:"statItem_zaax",statDot:"statDot_cCH6",tabs:"tabs_C5AN",tab:"tab_YpbQ",tabActive:"tabActive_fiwb",tabContent:"tabContent_NGPi",graphContainer:"graphContainer_KA1G",nodeInspector:"nodeInspector_zv7x",inspectorHeader:"inspectorHeader_Td4K",closeButton:"closeButton_yj4T",inspectorContent:"inspectorContent_hv1C",inspectorRow:"inspectorRow_AOT9",inspectorLabel:"inspectorLabel_fJE6",statusValue:"statusValue_g9aJ",errorText:"errorText_OcLu",logsContainer:"logsContainer_ISW1",logsToolbar:"logsToolbar_MeKL",logFilter:"logFilter_uogG",logCount:"logCount_SLtA",logsList:"logsList_ylOO",emptyLogs:"emptyLogs_drLV",logEntry:"logEntry_np8o",logTime:"logTime_dNqC",logLevel:"logLevel_ekJj",info:"info_S1gS",warn:"warn_kf5j",error:"error_QGqe",debug:"debug_qtW9",logNode:"logNode_SLnk",logMessage:"logMessage_b3W2",loginfo:"loginfo_URmi",logwarn:"logwarn_ajPV",logerror:"logerror_Q5h_",statsContainer:"statsContainer_hjFp",statsGrid:"statsGrid_qbXs",statCard:"statCard_HSpf",statCardLabel:"statCardLabel_b4bH",statCardValue:"statCardValue_dhCS",breakdown:"breakdown_UdJ8",breakdownHeader:"breakdownHeader_RW5S",breakdownBars:"breakdownBars_tPDD",breakdownItem:"breakdownItem_hDOL",breakdownLabel:"breakdownLabel_Gfse",breakdownBarContainer:"breakdownBarContainer_OCP3",breakdownBar:"breakdownBar_Z_ib",breakdownCount:"breakdownCount_JQoE",footer:"footer_Tjvk"},N={pending:"#6b7280",ready:"#3b82f6",running:"#f59e0b",completed:"#10b981",failed:"#ef4444",skipped:"#9ca3af"};function y(e){if(e<1e3)return`${e}ms`;if(e<6e4)return`${(e/1e3).toFixed(1)}s`;return`${Math.floor(e/6e4)}m ${Math.floor(e%6e4/1e3)}s`}function _(e){return e.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}function C({dag:e,executionState:s="idle",logs:t=[],stats:n,onStart:o,onPause:i,onResume:r,onStop:d,onRetry:c,onNodeInspect:m,autoScrollLogs:u=!0}){const[h,x]=(0,a.useState)("graph"),[g,f]=(0,a.useState)(null),[j,C]=(0,a.useState)("all"),k=a.useRef(null);(0,a.useEffect)(()=>{u&&k.current&&(k.current.scrollTop=k.current.scrollHeight)},[t,u]);const v=(0,a.useMemo)(()=>{const s={pending:0,ready:0,running:0,completed:0,failed:0,skipped:0};for(const t of e.nodes.values())s[t.state.status]++;return s},[e]),w=(0,a.useMemo)(()=>{const s=[];for(const t of e.nodes.values())"failed"===t.state.status&&s.push(t.id);return s},[e]),S=(0,a.useMemo)(()=>"all"===j?t:t.filter(e=>e.level===j),[t,j]),T=(0,a.useMemo)(()=>{if(!n?.startTime)return null;return(n.endTime??new Date).getTime()-n.startTime.getTime()},[n]),B=(0,a.useMemo)(()=>{const s=e.nodes.size;return 0===s?0:Math.round((v.completed+v.failed+v.skipped)/s*100)},[e.nodes.size,v]),L=(0,a.useCallback)(e=>{f(e),e&&m?.(e)},[m]),I=(0,a.useCallback)(()=>{w.length>0&&c?.(w)},[w,c]),M=g?e.nodes.get(g):null;return(0,l.jsxs)("div",{className:b.container,children:[(0,l.jsxs)("div",{className:b.header,children:[(0,l.jsxs)("div",{className:b.title,children:[(0,l.jsx)("span",{className:b.icon,children:"\ud83d\udcca"}),(0,l.jsx)("span",{children:"Execution Monitor"}),(0,l.jsx)("span",{className:`${b.statusBadge} ${b[s]}`,children:s.toUpperCase()})]}),(0,l.jsxs)("div",{className:b.headerActions,children:["idle"===s&&(0,l.jsx)("button",{className:b.actionButton,onClick:o,children:"\u25b6\ufe0f Start"}),"running"===s&&(0,l.jsx)("button",{className:b.actionButton,onClick:i,children:"\u23f8\ufe0f Pause"}),"paused"===s&&(0,l.jsx)("button",{className:b.actionButton,onClick:r,children:"\u25b6\ufe0f Resume"}),("running"===s||"paused"===s)&&(0,l.jsx)("button",{className:`${b.actionButton} ${b.danger}`,onClick:d,children:"\u23f9\ufe0f Stop"}),w.length>0&&(0,l.jsxs)("button",{className:b.actionButton,onClick:I,children:["\ud83d\udd04 Retry Failed (",w.length,")"]})]})]}),(0,l.jsxs)("div",{className:b.progressContainer,children:[(0,l.jsx)("div",{className:b.progressBar,children:(0,l.jsx)("div",{className:`${b.progressFill} ${b[s]}`,style:{width:`${B}%`}})}),(0,l.jsxs)("span",{className:b.progressText,children:[B,"%"]})]}),(0,l.jsxs)("div",{className:b.quickStats,children:[(0,l.jsxs)("div",{className:b.statItem,children:[(0,l.jsx)("span",{className:b.statDot,style:{background:N.completed}}),(0,l.jsxs)("span",{children:[v.completed," Completed"]})]}),(0,l.jsxs)("div",{className:b.statItem,children:[(0,l.jsx)("span",{className:b.statDot,style:{background:N.running}}),(0,l.jsxs)("span",{children:[v.running," Running"]})]}),(0,l.jsxs)("div",{className:b.statItem,children:[(0,l.jsx)("span",{className:b.statDot,style:{background:N.pending}}),(0,l.jsxs)("span",{children:[v.pending+v.ready," Pending"]})]}),(0,l.jsxs)("div",{className:b.statItem,children:[(0,l.jsx)("span",{className:b.statDot,style:{background:N.failed}}),(0,l.jsxs)("span",{children:[v.failed," Failed"]})]}),null!==T&&(0,l.jsx)("div",{className:b.statItem,children:(0,l.jsxs)("span",{children:["\u23f1\ufe0f ",y(T)]})})]}),(0,l.jsxs)("div",{className:b.tabs,children:[(0,l.jsx)("button",{className:`${b.tab} ${"graph"===h?b.tabActive:""}`,onClick:()=>x("graph"),children:"\ud83d\udcca Graph"}),(0,l.jsxs)("button",{className:`${b.tab} ${"logs"===h?b.tabActive:""}`,onClick:()=>x("logs"),children:["\ud83d\udcdc Logs (",t.length,")"]}),(0,l.jsx)("button",{className:`${b.tab} ${"stats"===h?b.tabActive:""}`,onClick:()=>x("stats"),children:"\ud83d\udcc8 Statistics"})]}),(0,l.jsxs)("div",{className:b.tabContent,children:["graph"===h&&(0,l.jsxs)("div",{className:b.graphContainer,children:[(0,l.jsx)(p,{dag:e,width:700,height:400,onNodeSelect:L,showDetails:!1,interactive:!0}),M&&(0,l.jsxs)("div",{className:b.nodeInspector,children:[(0,l.jsxs)("div",{className:b.inspectorHeader,children:[(0,l.jsxs)("span",{children:["Node: ",M.skillId||M.id]}),(0,l.jsx)("button",{className:b.closeButton,onClick:()=>f(null),children:"\xd7"})]}),(0,l.jsxs)("div",{className:b.inspectorContent,children:[(0,l.jsxs)("div",{className:b.inspectorRow,children:[(0,l.jsx)("span",{className:b.inspectorLabel,children:"Type:"}),(0,l.jsx)("span",{children:M.type})]}),(0,l.jsxs)("div",{className:b.inspectorRow,children:[(0,l.jsx)("span",{className:b.inspectorLabel,children:"Status:"}),(0,l.jsx)("span",{className:b.statusValue,style:{color:N[M.state.status]},children:M.state.status})]}),"running"===M.state.status&&"startedAt"in M.state&&(0,l.jsxs)("div",{className:b.inspectorRow,children:[(0,l.jsx)("span",{className:b.inspectorLabel,children:"Started:"}),(0,l.jsx)("span",{children:_(M.state.startedAt)})]}),"completed"===M.state.status&&"completedAt"in M.state&&(0,l.jsxs)("div",{className:b.inspectorRow,children:[(0,l.jsx)("span",{className:b.inspectorLabel,children:"Duration:"}),(0,l.jsx)("span",{children:y(M.state.completedAt.getTime()-("startedAt"in M.state?M.state.startedAt.getTime():0))})]}),"failed"===M.state.status&&"error"in M.state&&(0,l.jsxs)("div",{className:b.inspectorRow,children:[(0,l.jsx)("span",{className:b.inspectorLabel,children:"Error:"}),(0,l.jsx)("span",{className:b.errorText,children:M.state.error.message})]})]})]})]}),"logs"===h&&(0,l.jsxs)("div",{className:b.logsContainer,children:[(0,l.jsxs)("div",{className:b.logsToolbar,children:[(0,l.jsxs)("select",{className:b.logFilter,value:j,onChange:e=>C(e.target.value),children:[(0,l.jsx)("option",{value:"all",children:"All Levels"}),(0,l.jsx)("option",{value:"info",children:"Info"}),(0,l.jsx)("option",{value:"warn",children:"Warnings"}),(0,l.jsx)("option",{value:"error",children:"Errors"})]}),(0,l.jsxs)("span",{className:b.logCount,children:["Showing ",S.length," of ",t.length]})]}),(0,l.jsx)("div",{className:b.logsList,ref:k,children:0===S.length?(0,l.jsx)("div",{className:b.emptyLogs,children:"No logs yet"}):S.map((e,s)=>(0,l.jsxs)("div",{className:`${b.logEntry} ${b[`log${e.level}`]}`,children:[(0,l.jsx)("span",{className:b.logTime,children:_(e.timestamp)}),(0,l.jsx)("span",{className:`${b.logLevel} ${b[e.level]}`,children:e.level.toUpperCase()}),e.nodeId&&(0,l.jsxs)("span",{className:b.logNode,children:["[",e.nodeId,"]"]}),(0,l.jsx)("span",{className:b.logMessage,children:e.message})]},s))})]}),"stats"===h&&(0,l.jsxs)("div",{className:b.statsContainer,children:[(0,l.jsxs)("div",{className:b.statsGrid,children:[(0,l.jsxs)("div",{className:b.statCard,children:[(0,l.jsx)("div",{className:b.statCardLabel,children:"Total Nodes"}),(0,l.jsx)("div",{className:b.statCardValue,children:e.nodes.size})]}),(0,l.jsxs)("div",{className:b.statCard,children:[(0,l.jsx)("div",{className:b.statCardLabel,children:"Completed"}),(0,l.jsx)("div",{className:b.statCardValue,style:{color:N.completed},children:v.completed})]}),(0,l.jsxs)("div",{className:b.statCard,children:[(0,l.jsx)("div",{className:b.statCardLabel,children:"Failed"}),(0,l.jsx)("div",{className:b.statCardValue,style:{color:N.failed},children:v.failed})]}),(0,l.jsxs)("div",{className:b.statCard,children:[(0,l.jsx)("div",{className:b.statCardLabel,children:"Elapsed Time"}),(0,l.jsx)("div",{className:b.statCardValue,children:null!==T?y(T):"--"})]}),n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:b.statCard,children:[(0,l.jsx)("div",{className:b.statCardLabel,children:"Total Tokens"}),(0,l.jsx)("div",{className:b.statCardValue,children:n.totalTokens.toLocaleString()})]}),(0,l.jsxs)("div",{className:b.statCard,children:[(0,l.jsx)("div",{className:b.statCardLabel,children:"Estimated Cost"}),(0,l.jsxs)("div",{className:b.statCardValue,children:["$",n.estimatedCost.toFixed(4)]})]})]})]}),(0,l.jsxs)("div",{className:b.breakdown,children:[(0,l.jsx)("div",{className:b.breakdownHeader,children:"Node Status Breakdown"}),(0,l.jsx)("div",{className:b.breakdownBars,children:Object.entries(v).map(([s,t])=>{if(0===t)return null;const a=t/e.nodes.size*100;return(0,l.jsxs)("div",{className:b.breakdownItem,children:[(0,l.jsx)("span",{className:b.breakdownLabel,children:s}),(0,l.jsx)("div",{className:b.breakdownBarContainer,children:(0,l.jsx)("div",{className:b.breakdownBar,style:{width:`${a}%`,background:N[s]}})}),(0,l.jsx)("span",{className:b.breakdownCount,children:t})]},s)})})]})]})]}),(0,l.jsxs)("div",{className:b.footer,children:[(0,l.jsxs)("span",{children:["Workflow: ",e.name]}),(0,l.jsx)("span",{children:"\u2022"}),(0,l.jsxs)("span",{children:[e.nodes.size," nodes"]}),n?.startTime&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{children:"\u2022"}),(0,l.jsxs)("span",{children:["Started: ",_(n.startTime)]})]})]})]})}},76459:(e,s,t)=>{t.d(s,{A:()=>a});const a={container:"container_AMi0",hero:"hero_TL6e",heroWindow:"heroWindow_nvCW",windowHeader:"windowHeader_MLdX",windowControls:"windowControls_XE9I",windowButton:"windowButton_dmwr",heroContent:"heroContent_QggR",heroTitle:"heroTitle_K3Dw",heroSubtitle:"heroSubtitle_VDFN",heroCtas:"heroCtas_Lpe7",primaryCta:"primaryCta_wxBo",secondaryCta:"secondaryCta_HzRn",section:"section_eUP7",sectionTitle:"sectionTitle_RAp2",featuresGrid:"featuresGrid_PuTv",featureCard:"featureCard_dhrC",featureHeader:"featureHeader_b52F",featureIcon:"featureIcon_ykaf",featureTitle:"featureTitle_UyG6",featureDescription:"featureDescription_xRBm",featureLink:"featureLink_jXZT",architectureWindow:"architectureWindow_ZPbw",architectureContent:"architectureContent_CK7L",layerStack:"layerStack_Hpob",layer:"layer_ZGCU",layerLabel:"layerLabel_hRzM",layerBox:"layerBox_lEtN",layerTitle:"layerTitle_k5lz",layerItems:"layerItems_GRkR",examplesGrid:"examplesGrid_z7HG",exampleCard:"exampleCard_e3HQ",exampleContent:"exampleContent_ihfd",exampleStats:"exampleStats_F5dl",exampleFlow:"exampleFlow_pzP2",exampleCta:"exampleCta_S_bu",gettingStartedWindow:"gettingStartedWindow_ANFE",gettingStartedContent:"gettingStartedContent_xzev",stepsList:"stepsList_v5kw",step:"step_yxWl",stepNumber:"stepNumber_P7AS",stepContent:"stepContent_rZG6",gettingStartedCta:"gettingStartedCta_P5eJ",builderContainer:"builderContainer_V5gn",builderHeader:"builderHeader_ri4i",builderTitle:"builderTitle_Xhm4",builderActions:"builderActions_qsgm",monitorContainer:"monitorContainer_MOg0",monitorHeader:"monitorHeader_Gq1J",monitorTitle:"monitorTitle_fW0G",monitorActions:"monitorActions__Y_2",emptyState:"emptyState__Gbs",emptyIcon:"emptyIcon_RavH",emptyTitle:"emptyTitle_uyIL",emptyText:"emptyText_PG2Z",breadcrumbs:"breadcrumbs_CFN5",breadcrumbLink:"breadcrumbLink_EB2j",breadcrumbSeparator:"breadcrumbSeparator_p5UV",breadcrumbCurrent:"breadcrumbCurrent_mNQU"}},85517:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var a=t(96540),n=t(79536),l=t(28774),o=t(47556),i=t(76459),r=t(74848);function d(){const e=new Map,s=new Map,t=[{id:"node-1",type:"skill",skillId:"fetch-data",deps:[]},{id:"node-2",type:"skill",skillId:"validate",deps:["node-1"]},{id:"node-3",type:"skill",skillId:"transform",deps:["node-2"]},{id:"node-4",type:"skill",skillId:"analyze",deps:["node-2"]},{id:"node-5",type:"skill",skillId:"export",deps:["node-3","node-4"]}];for(const a of t){const t={id:a.id,type:a.type,skillId:a.skillId,dependencies:a.deps,inputMappings:[],state:{status:"pending"},config:{timeoutMs:3e4,maxRetries:3,retryDelayMs:1e3,exponentialBackoff:!0}};e.set(a.id,t);for(const e of a.deps){const t=s.get(e)??[];s.set(e,[...t,a.id])}}return{id:"sample-dag",name:"Data Processing Pipeline",nodes:e,edges:s,config:{maxParallelism:3,defaultTimeout:3e4,errorHandling:"stop-on-failure"},inputs:[],outputs:[]}}function c(){const[e,s]=(0,a.useState)(d),[t,c]=(0,a.useState)("idle"),[m,u]=(0,a.useState)([]),[h,p]=(0,a.useState)(),x=(0,a.useRef)(null),g=(0,a.useRef)([]),f=(0,a.useCallback)((e,s,t)=>{u(a=>[...a,{timestamp:new Date,level:e,message:s,nodeId:t}])},[]),j=(0,a.useCallback)((e,t)=>{s(s=>{const a=new Map(s.nodes),n=a.get(e);if(n){const s={...n};if("running"===t)s.state={status:"running",startedAt:new Date};else if("completed"===t){const e="startedAt"in n.state?n.state.startedAt:new Date;s.state={status:"completed",result:{output:{success:!0}},completedAt:new Date,startedAt:e}}else s.state="failed"===t?{status:"failed",error:{message:"Task execution failed",code:"EXEC_ERROR",recoverable:!0},failedAt:new Date}:{status:t};a.set(e,s)}return{...s,nodes:a}})},[]),b=(0,a.useCallback)(()=>{const s=Array.from(e.nodes.keys()).map(e=>e);g.current=[...s];let t=0;const a=()=>{if(t>=s.length)return c("completed"),f("info","Workflow execution completed successfully"),void p(e=>e?{...e,endTime:new Date}:void 0);const n=s[t],l=e.nodes.get(n);if(!l)return;if(!l.dependencies.every(s=>{const t=e.nodes.get(s);return"completed"===t?.state.status}))return t++,void a();j(n,"running"),f("info",`Starting task: ${l.skillId}`,n);const o=1e3+2e3*Math.random();x.current=setTimeout(()=>{Math.random()<.9?(j(n,"completed"),f("info",`Task completed: ${l.skillId}`,n),p(e=>e?{...e,completedNodes:e.completedNodes+1,totalTokens:e.totalTokens+Math.floor(1e3*Math.random()),estimatedCost:e.estimatedCost+.01*Math.random()}:void 0)):(j(n,"failed"),f("error",`Task failed: ${l.skillId}`,n),p(e=>e?{...e,failedNodes:e.failedNodes+1}:void 0)),t++,a()},o)};a()},[e.nodes,f,j]),N=(0,a.useCallback)(()=>{s(d()),u([]),p({startTime:new Date,completedNodes:0,failedNodes:0,runningNodes:0,pendingNodes:e.nodes.size,totalTokens:0,estimatedCost:0}),c("running"),f("info","Starting workflow execution..."),setTimeout(b,500)},[e.nodes.size,f,b]),y=(0,a.useCallback)(()=>{x.current&&clearTimeout(x.current),c("paused"),f("warn","Execution paused")},[f]),_=(0,a.useCallback)(()=>{c("running"),f("info","Execution resumed"),b()},[f,b]),C=(0,a.useCallback)(()=>{x.current&&clearTimeout(x.current),c("idle"),f("warn","Execution stopped by user"),p(e=>e?{...e,endTime:new Date}:void 0)},[f]),k=(0,a.useCallback)(e=>{f("info",`Retrying ${e.length} failed node(s)...`);for(const s of e)j(s,"pending");c("running"),b()},[f,j,b]);return(0,a.useEffect)(()=>()=>{x.current&&clearTimeout(x.current)},[]),(0,r.jsx)(n.A,{title:"DAG Monitor",description:"Monitor DAG workflow execution in real-time",children:(0,r.jsxs)("div",{className:i.A.container,children:[(0,r.jsxs)("div",{className:i.A.breadcrumbs,children:[(0,r.jsx)(l.A,{to:"/dag",className:i.A.breadcrumbLink,children:"DAG Framework"}),(0,r.jsx)("span",{className:i.A.breadcrumbSeparator,children:"\u203a"}),(0,r.jsx)("span",{className:i.A.breadcrumbCurrent,children:"Monitor"})]}),(0,r.jsxs)("div",{className:i.A.monitorHeader,children:[(0,r.jsx)("h1",{className:i.A.monitorTitle,children:"\ud83d\udcc8 Execution Monitor"}),(0,r.jsx)("div",{className:i.A.monitorActions,children:(0,r.jsx)(l.A,{to:"/dag/builder",className:i.A.secondaryCta,children:"\ud83d\udcca Builder"})})]}),(0,r.jsx)("div",{className:i.A.monitorContainer,children:(0,r.jsx)(o.Vs,{dag:e,executionState:t,logs:m,stats:h,onStart:N,onPause:y,onResume:_,onStop:C,onRetry:k})}),(0,r.jsxs)("div",{style:{marginTop:"24px",padding:"16px",background:"#c0c0c0",border:"2px solid",borderColor:"#ffffff #808080 #808080 #ffffff"},children:[(0,r.jsx)("h3",{style:{margin:"0 0 8px 0",fontFamily:"var(--font-system)",fontSize:"14px"},children:"Demo Instructions"}),(0,r.jsx)("p",{style:{margin:0,fontFamily:"var(--font-system)",fontSize:"12px",color:"#333333"},children:'Click "Start" to begin the simulated workflow execution. The demo will process nodes in dependency order, showing real-time progress, logs, and statistics. You can pause, resume, or stop execution at any time. Failed nodes can be retried.'})]})]})})}}}]);