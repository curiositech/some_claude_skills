"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[6225],{28453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>a});var s=r(96540);const t={},o=s.createContext(t);function i(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(o.Provider,{value:n},e.children)}},31902:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"skills/fullstack_debugger/references/debug-decision-tree","title":"Debug Decision Tree","description":"Use this flowchart to systematically identify the source of issues.","source":"@site/docs/skills/fullstack_debugger/references/debug-decision-tree.md","sourceDirName":"skills/fullstack_debugger/references","slug":"/skills/fullstack_debugger/references/debug-decision-tree","permalink":"/docs/skills/fullstack_debugger/references/debug-decision-tree","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Debug Decision Tree","sidebar_label":"Debug Decision Tree","sidebar_position":1}}');var t=r(74848),o=r(28453);const i={title:"Debug Decision Tree",sidebar_label:"Debug Decision Tree",sidebar_position:1},a="Debug Decision Tree",c={},l=[{value:"Starting Point",id:"starting-point",level:2},{value:"Error Analysis",id:"error-analysis",level:2},{value:"Unexpected Behavior",id:"unexpected-behavior",level:2},{value:"Quick Diagnostic Commands",id:"quick-diagnostic-commands",level:2},{value:"Layer Isolation Test",id:"layer-isolation-test",level:2},{value:"The &quot;Nothing Is Working&quot; Checklist",id:"the-nothing-is-working-checklist",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"debug-decision-tree",children:"Debug Decision Tree"})}),"\n",(0,t.jsx)(n.p,{children:"Use this flowchart to systematically identify the source of issues."}),"\n",(0,t.jsx)(n.h2,{id:"starting-point",children:"Starting Point"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'Is there an error message?\n\u251c\u2500\u2500 YES \u2192 Go to "Error Analysis"\n\u2514\u2500\u2500 NO  \u2192 Go to "Unexpected Behavior"\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"error-analysis",children:"Error Analysis"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'Where does the error appear?\n\u2502\n\u251c\u2500\u2500 Browser Console (Red text)\n\u2502   \u251c\u2500\u2500 "Failed to fetch" / CORS\n\u2502   \u2502   \u2514\u2500\u2500 \u2192 Check Worker CORS headers\n\u2502   \u2502       \u2192 Test: curl -H "Origin: https://site.com" <endpoint>\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 "Hydration failed"\n\u2502   \u2502   \u2514\u2500\u2500 \u2192 Client/server mismatch\n\u2502   \u2502       \u2192 Add \'use client\' or useEffect wrapper\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 "TypeError: Cannot read properties of undefined"\n\u2502   \u2502   \u2514\u2500\u2500 \u2192 Data not loaded yet\n\u2502   \u2502       \u2192 Add optional chaining (?.) or loading state\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 Other JS error\n\u2502       \u2514\u2500\u2500 \u2192 Check stack trace, find component\n\u2502           \u2192 Add error boundary for graceful handling\n\u2502\n\u251c\u2500\u2500 Network Tab (Red request)\n\u2502   \u251c\u2500\u2500 Status 401/403\n\u2502   \u2502   \u2514\u2500\u2500 \u2192 Authentication issue\n\u2502   \u2502       \u2192 Check JWT, Supabase session, RLS policies\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 Status 404\n\u2502   \u2502   \u2514\u2500\u2500 \u2192 Wrong URL or resource deleted\n\u2502   \u2502       \u2192 Verify endpoint exists, check typos\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 Status 500\n\u2502   \u2502   \u2514\u2500\u2500 \u2192 Server/Worker error\n\u2502   \u2502       \u2192 Check wrangler tail or Supabase logs\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 Status 0 / Canceled\n\u2502       \u2514\u2500\u2500 \u2192 Request never completed\n\u2502           \u2192 Check CORS, network, or component unmounted\n\u2502\n\u251c\u2500\u2500 Build/Terminal\n\u2502   \u251c\u2500\u2500 TypeScript error\n\u2502   \u2502   \u2514\u2500\u2500 \u2192 Type mismatch or cache issue\n\u2502   \u2502       \u2192 Fix types or clear TS cache\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 "Module not found"\n\u2502   \u2502   \u2514\u2500\u2500 \u2192 Missing dependency or wrong path\n\u2502   \u2502       \u2192 npm install or fix import\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 "Page couldn\'t be rendered statically"\n\u2502       \u2514\u2500\u2500 \u2192 Dynamic API in static context\n\u2502           \u2192 Add \'force-dynamic\' or generateStaticParams\n\u2502\n\u2514\u2500\u2500 Supabase Dashboard\n    \u251c\u2500\u2500 Auth error\n    \u2502   \u2514\u2500\u2500 \u2192 Check redirect URLs, email templates\n    \u2502\n    \u2514\u2500\u2500 Query error\n        \u2514\u2500\u2500 \u2192 Check RLS policies, table exists\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"unexpected-behavior",children:"Unexpected Behavior"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"What's happening vs expected?\n\u2502\n\u251c\u2500\u2500 Data is empty (but should have results)\n\u2502   \u251c\u2500\u2500 API returning empty?\n\u2502   \u2502   \u2514\u2500\u2500 Check Network tab response body\n\u2502   \u2502       \u251c\u2500\u2500 Empty array [] \u2192 RLS blocking\n\u2502   \u2502       \u251c\u2500\u2500 Has data \u2192 Frontend not displaying\n\u2502   \u2502       \u2514\u2500\u2500 Error in response \u2192 API issue\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 Data loads then disappears?\n\u2502       \u2514\u2500\u2500 \u2192 Component remounting or state reset\n\u2502           \u2192 Check parent key props, auth redirects\n\u2502\n\u251c\u2500\u2500 Data is stale (showing old values)\n\u2502   \u251c\u2500\u2500 Changed in Supabase but not showing?\n\u2502   \u2502   \u2514\u2500\u2500 \u2192 Cache issue (browser, React Query, or KV)\n\u2502   \u2502       \u2192 Clear all caches, check cache headers\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 Changed in code but not deployed?\n\u2502       \u2514\u2500\u2500 \u2192 Check deployment succeeded\n\u2502           \u2192 Purge CDN cache\n\u2502\n\u251c\u2500\u2500 UI looks wrong\n\u2502   \u251c\u2500\u2500 Layout broken?\n\u2502   \u2502   \u2514\u2500\u2500 \u2192 CSS issue, check Tailwind classes\n\u2502   \u2502       \u2192 Inspect element, check applied styles\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 Flash of unstyled content?\n\u2502   \u2502   \u2514\u2500\u2500 \u2192 CSS not loading fast enough\n\u2502   \u2502       \u2192 Check font loading, critical CSS\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 Different on mobile vs desktop?\n\u2502       \u2514\u2500\u2500 \u2192 Responsive breakpoints\n\u2502           \u2192 Check Tailwind sm:/md:/lg: classes\n\u2502\n\u251c\u2500\u2500 Auth not working\n\u2502   \u251c\u2500\u2500 Can't log in?\n\u2502   \u2502   \u2514\u2500\u2500 \u2192 Check Supabase Auth settings\n\u2502   \u2502       \u2192 Verify redirect URLs match\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 Logged in but shows as logged out?\n\u2502   \u2502   \u2514\u2500\u2500 \u2192 Session not persisting\n\u2502   \u2502       \u2192 Check cookies, localStorage, AuthContext\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 Works locally, fails in production?\n\u2502       \u2514\u2500\u2500 \u2192 Environment variables missing\n\u2502           \u2192 Check Cloudflare Pages env vars\n\u2502\n\u2514\u2500\u2500 Slow performance\n    \u251c\u2500\u2500 Initial load slow?\n    \u2502   \u2514\u2500\u2500 \u2192 Bundle too large\n    \u2502       \u2192 Analyze with next/bundle-analyzer\n    \u2502\n    \u251c\u2500\u2500 Interactions slow?\n    \u2502   \u2514\u2500\u2500 \u2192 Re-renders or heavy computation\n    \u2502       \u2192 Profile with React DevTools\n    \u2502\n    \u2514\u2500\u2500 API calls slow?\n        \u2514\u2500\u2500 \u2192 Backend or network issue\n            \u2192 Check wrangler tail for timing\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"quick-diagnostic-commands",children:"Quick Diagnostic Commands"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# 1. Is the site even reachable?\ncurl -s -o /dev/null -w \"%{http_code}\" https://yoursite.com\n\n# 2. Is the API working?\ncurl -s https://your-worker.workers.dev/health\n\n# 3. Are CORS headers present?\ncurl -s -D - -o /dev/null -H \"Origin: https://yoursite.com\" https://your-api.com/endpoint\n\n# 4. What's in the worker logs?\ncd workers/your-worker && npx wrangler tail\n\n# 5. Is Supabase accessible?\nnode -e \"require('@supabase/supabase-js').createClient('URL','KEY').from('table').select('*').limit(1).then(console.log)\"\n\n# 6. Is the build clean?\nnpm run build 2>&1 | grep -E \"(error|Error|failed)\"\n\n# 7. TypeScript happy?\nnpx tsc --noEmit 2>&1 | head -20\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"layer-isolation-test",children:"Layer Isolation Test"}),"\n",(0,t.jsx)(n.p,{children:"When you can't tell which layer is broken:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"1. Test Supabase directly (dashboard or curl)\n   \u2514\u2500\u2500 Works? \u2192 Problem is NOT Supabase\n\n2. Test Worker directly (curl, no browser)\n   \u2514\u2500\u2500 Works? \u2192 Problem is NOT Worker\n\n3. Test in browser devtools (Network tab)\n   \u2514\u2500\u2500 Request succeeds? \u2192 Problem is frontend code\n\n4. Test locally (npm run dev)\n   \u2514\u2500\u2500 Works locally? \u2192 Problem is deployment/config\n\n5. Test in incognito (fresh state)\n   \u2514\u2500\u2500 Works in incognito? \u2192 Problem is cached state\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"the-nothing-is-working-checklist",children:'The "Nothing Is Working" Checklist'}),"\n",(0,t.jsx)(n.p,{children:"When everything seems broken:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"[ ] Is the internet working? (ping google.com)\n[ ] Is Node running correctly? (node -v)\n[ ] Are dependencies installed? (npm ls --depth=0)\n[ ] Is the dev server running? (npm run dev)\n[ ] Are environment variables set? (echo $NEXT_PUBLIC_...)\n[ ] Is git clean or are there conflicts? (git status)\n[ ] Did you save all files? (check unsaved indicators)\n[ ] Is the TypeScript cache haunting you? (clear it!)\n[ ] Are you on the right branch? (git branch --show-current)\n[ ] Did something change recently? (git log -5)\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);