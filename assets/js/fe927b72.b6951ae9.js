"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[34145],{346:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var a=t(96540),n=t(79536),l=t(28774),i=t(47556),o=t(76459),r=t(74848);const d=[{id:"code-review",name:"Code Review",category:"Development"},{id:"unit-testing",name:"Unit Testing",category:"Testing"},{id:"security-audit",name:"Security Audit",category:"Security"},{id:"documentation",name:"Documentation",category:"Writing"},{id:"api-design",name:"API Design",category:"Architecture"},{id:"performance-optimization",name:"Performance Optimization",category:"Development"},{id:"data-validation",name:"Data Validation",category:"Data"},{id:"error-handling",name:"Error Handling",category:"Development"}];function c(){const[e,s]=(0,a.useState)(null),[t,c]=(0,a.useState)(null),[m,h]=(0,a.useState)("json"),u=(0,a.useCallback)(e=>{s(e),console.log("Saved DAG:",e),alert(`Workflow "${e.name}" saved with ${e.nodes.size} nodes!`)},[]),p=(0,a.useCallback)((e,s)=>{const t="json"===s?function(e){const s={id:e.id,name:e.name,nodes:Array.from(e.nodes.values()).map(e=>({id:e.id,type:e.type,skillId:e.skillId,dependencies:e.dependencies})),config:e.config};return JSON.stringify(s,null,2)}(e):function(e){const s=Array.from(e.nodes.values());let t=`# DAG Workflow: ${e.name}\n`;t+=`id: ${e.id}\n`,t+=`name: ${e.name}\n`,t+="config:\n",t+=`  maxParallelism: ${e.config.maxParallelism}\n`,t+=`  defaultTimeout: ${e.config.defaultTimeout}\n`,t+=`  errorHandling: ${e.config.errorHandling}\n`,t+="nodes:\n";for(const a of s)if(t+=`  - id: ${a.id}\n`,t+=`    type: ${a.type}\n`,a.skillId&&(t+=`    skillId: ${a.skillId}\n`),a.dependencies.length>0){t+="    dependencies:\n";for(const e of a.dependencies)t+=`      - ${e}\n`}return t}(e);c(t),h(s)},[]),x=(0,a.useCallback)(()=>{t&&(navigator.clipboard.writeText(t),alert("Copied to clipboard!"))},[t]),g=(0,a.useCallback)(()=>{if(t&&e){const s=new Blob([t],{type:"text/plain"}),a=URL.createObjectURL(s),n=document.createElement("a");n.href=a,n.download=`${e.name.toLowerCase().replace(/\s+/g,"-")}.${m}`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}},[t,m,e]);return(0,r.jsx)(n.A,{title:"DAG Builder",description:"Build DAG workflows visually",children:(0,r.jsxs)("div",{className:o.A.container,children:[(0,r.jsxs)("div",{className:o.A.breadcrumbs,children:[(0,r.jsx)(l.A,{to:"/dag",className:o.A.breadcrumbLink,children:"DAG Framework"}),(0,r.jsx)("span",{className:o.A.breadcrumbSeparator,children:"\u203a"}),(0,r.jsx)("span",{className:o.A.breadcrumbCurrent,children:"Builder"})]}),(0,r.jsxs)("div",{className:o.A.builderHeader,children:[(0,r.jsx)("h1",{className:o.A.builderTitle,children:"\ud83d\udcca DAG Workflow Builder"}),(0,r.jsx)("div",{className:o.A.builderActions,children:(0,r.jsx)(l.A,{to:"/dag/monitor",className:o.A.secondaryCta,children:"\ud83d\udcc8 Monitor"})})]}),(0,r.jsx)("div",{className:o.A.builderContainer,children:(0,r.jsx)(i.qz,{availableSkills:d,onSave:u,onExport:p})}),t&&(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>c(null),children:(0,r.jsxs)("div",{style:{width:"600px",maxHeight:"80vh",background:"#c0c0c0",border:"4px solid #000000",boxShadow:"8px 8px 0 rgba(0,0,0,0.3)"},onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px 8px",background:"linear-gradient(90deg, #000080, #1084d0)",color:"white",fontFamily:"var(--font-system)",fontSize:"14px",fontWeight:"bold"},children:[(0,r.jsxs)("span",{children:["\ud83d\udce4 Export - ",m.toUpperCase()]}),(0,r.jsx)("button",{style:{background:"#c0c0c0",border:"2px solid",borderColor:"#ffffff #808080 #808080 #ffffff",color:"#000000",width:"20px",height:"20px",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>c(null),children:"\xd7"})]}),(0,r.jsxs)("div",{style:{padding:"16px"},children:[(0,r.jsx)("pre",{style:{background:"#ffffff",border:"2px solid",borderColor:"#808080 #ffffff #ffffff #808080",padding:"12px",margin:"0 0 16px 0",maxHeight:"400px",overflow:"auto",fontFamily:"var(--font-code)",fontSize:"11px",whiteSpace:"pre-wrap",wordBreak:"break-all"},children:t}),(0,r.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,r.jsx)("button",{className:o.A.primaryCta,onClick:x,children:"\ud83d\udccb Copy to Clipboard"}),(0,r.jsx)("button",{className:o.A.secondaryCta,onClick:g,children:"\ud83d\udcbe Download"})]})]})]})})]})})}},47556:(e,s,t)=>{t.d(s,{qz:()=>j,Vs:()=>v});var a=t(96540);const n={nodeGroup:"nodeGroup_en09",nodeBody:"nodeBody_OR6L",runningIndicator:"runningIndicator_Y9dr",pending:"pending__iyp",ready:"ready_os4D",running:"running_AyOx",completed:"completed_W9Io",failed:"failed_n225"};var l=t(74848);const i={small:{width:120,height:60,fontSize:10},medium:{width:160,height:80,fontSize:12},large:{width:200,height:100,fontSize:14}},o={pending:"#6b7280",ready:"#3b82f6",running:"#f59e0b",completed:"#10b981",failed:"#ef4444",skipped:"#9ca3af"},r={skill:"\u2699\ufe0f",agent:"\ud83e\udd16","mcp-tool":"\ud83d\udd27",composite:"\ud83d\udce6",conditional:"\ud83d\udd00"};function d(e){switch(e.status){case"pending":return"Pending";case"ready":return"Ready";case"running":return"Running...";case"completed":return"Done";case"failed":return"Failed";case"skipped":return"Skipped"}}function c({node:e,position:s,selected:t=!1,onClick:a,onDoubleClick:c,size:m="medium"}){const h=i[m],u=o[e.state.status],p=r[e.type],x=e.skillId||e.id;return(0,l.jsxs)("g",{transform:`translate(${s.x}, ${s.y})`,onClick:s=>{s.stopPropagation(),a?.(e.id)},onDoubleClick:s=>{s.stopPropagation(),c?.(e.id)},className:n.nodeGroup,children:[(0,l.jsx)("rect",{x:4,y:4,width:h.width,height:h.height,rx:8,fill:"#000000",opacity:.15}),(0,l.jsx)("rect",{x:0,y:0,width:h.width,height:h.height,rx:8,fill:"#c0c0c0",stroke:t?"#000080":"#000000",strokeWidth:t?3:2,className:n.nodeBody}),(0,l.jsx)("rect",{x:2,y:2,width:h.width-4,height:20,fill:"#000080"}),(0,l.jsxs)("text",{x:8,y:15,fill:"#ffffff",fontSize:h.fontSize-2,fontWeight:"bold",fontFamily:"var(--font-code)",children:[p," ",e.type]}),(0,l.jsx)("text",{x:h.width/2,y:h.height/2+2,textAnchor:"middle",fill:"#000000",fontSize:h.fontSize,fontWeight:"bold",fontFamily:"var(--font-code)",children:x.length>18?`${x.slice(0,15)}...`:x}),(0,l.jsxs)("g",{transform:`translate(${h.width/2-30}, ${h.height-20})`,children:[(0,l.jsx)("rect",{x:0,y:0,width:60,height:14,rx:3,fill:u}),(0,l.jsx)("text",{x:30,y:10,textAnchor:"middle",fill:"#ffffff",fontSize:9,fontWeight:"bold",fontFamily:"var(--font-system)",children:d(e.state)})]}),"running"===e.state.status&&(0,l.jsx)("g",{className:n.runningIndicator,children:(0,l.jsx)("circle",{cx:h.width-12,cy:12,r:5,fill:"#f59e0b",children:(0,l.jsx)("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"1s",repeatCount:"indefinite"})})}),t&&(0,l.jsx)("rect",{x:-4,y:-4,width:h.width+8,height:h.height+8,rx:10,fill:"none",stroke:"#000080",strokeWidth:2,strokeDasharray:"4,4"})]})}const m={container:"container_b86S",header:"header_fHmU",title:"title_l1mJ",icon:"icon_Ky12",stats:"stats_XuRF",canvas:"canvas_WeOf",edges:"edges_aBWQ",edge:"edge_nGnd",nodes:"nodes_Vznp",detailsPanel:"detailsPanel_tGqI",detailsHeader:"detailsHeader_LT4D",closeButton:"closeButton_N0uh",detailsContent:"detailsContent_dt6q",detailRow:"detailRow_YQbI",detailLabel:"detailLabel_rmEM",detailValue:"detailValue_Cjbg",controls:"controls_WYhO",controlButton:"controlButton_e_Id",legend:"legend_R8f2",legendItem:"legendItem_TmWc",legendDot:"legendDot_Poy7"},h={small:{width:120,height:60},medium:{width:160,height:80},large:{width:200,height:100}};function u(e,s,t,a){const n=h[t];let l,i,o,r;"horizontal"===a?(l=e.x+n.width,i=e.y+n.height/2,o=s.x,r=s.y+n.height/2):(l=e.x+n.width/2,i=e.y+n.height,o=s.x+n.width/2,r=s.y);const d=(l+o)/2,c=(i+r)/2;return"horizontal"===a?`M ${l} ${i} C ${d} ${i}, ${d} ${r}, ${o} ${r}`:`M ${l} ${i} C ${l} ${c}, ${o} ${c}, ${o} ${r}`}function p({dag:e,width:s=800,height:t=600,nodeSize:n="medium",onNodeSelect:i,onNodeEdit:o,showDetails:r=!0,direction:d="horizontal",interactive:p=!0}){const[x,g]=(0,a.useState)(null),[f,j]=(0,a.useState)({x:0,y:0,scale:1}),[b,N]=(0,a.useState)(!1),[y,C]=(0,a.useState)({x:0,y:0}),v=(0,a.useMemo)(()=>function(e,s,t){const a=new Map,n=h[s],l=new Map,i=Array.from(e.nodes.values());for(const m of i)l.set(m.id,0);let o=!0;for(;o;){o=!1;for(const e of i){const s=e.id;for(const t of e.dependencies){const e=l.get(t)??0;e+1>(l.get(s)??0)&&(l.set(s,e+1),o=!0)}}}const r=new Map;for(const[m,h]of l)r.has(h)||r.set(h,[]),r.get(h).push(m);const d=n.width+60,c=n.height+40;for(const[m,h]of r){const e=h.length;for(let s=0;s<h.length;s++){const n=h[s],l=s-(e-1)/2;"horizontal"===t?a.set(n,{x:m*d+40,y:l*c+200,level:m}):a.set(n,{x:l*d+400,y:m*c+40,level:m})}}return a}(e,n,d),[e,n,d]),_=(0,a.useMemo)(()=>{const s=[];for(const t of e.nodes.values()){const a=v.get(t.id);if(a)for(const l of t.dependencies){const i=v.get(l);if(!i)continue;const o=e.nodes.get(l);s.push({from:l,to:t.id,path:u(i,a,n,d),fromStatus:o?.state.status??"pending",toStatus:t.state.status})}}return s},[e,v,n,d]),k=(0,a.useMemo)(()=>{let e=0,a=0,l=s,i=t;const o=h[n];for(const s of v.values())e=Math.min(e,s.x-20),a=Math.min(a,s.y-20),l=Math.max(l,s.x+o.width+20),i=Math.max(i,s.y+o.height+20);return{minX:e,minY:a,width:l-e+40,height:i-a+40}},[v,n,s,t]),w=(0,a.useCallback)(e=>{g(s=>s===e?null:e),i?.(e)},[i]),S=(0,a.useCallback)(e=>{o?.(e)},[o]),T=(0,a.useCallback)(()=>{g(null),i?.(null)},[i]),B=(0,a.useCallback)(e=>{p&&(N(!0),C({x:e.clientX-f.x,y:e.clientY-f.y}))},[p,f]),L=(0,a.useCallback)(e=>{b&&j(s=>({...s,x:e.clientX-y.x,y:e.clientY-y.y}))},[b,y]),I=(0,a.useCallback)(()=>{N(!1)},[]),A=(0,a.useCallback)(e=>{if(!p)return;e.preventDefault();const s=e.deltaY>0?.9:1.1;j(e=>({...e,scale:Math.max(.25,Math.min(2,e.scale*s))}))},[p]),$=x?e.nodes.get(x):null;return(0,l.jsxs)("div",{className:m.container,children:[(0,l.jsxs)("div",{className:m.header,children:[(0,l.jsxs)("div",{className:m.title,children:[(0,l.jsx)("span",{className:m.icon,children:"\ud83d\udcca"}),e.name]}),(0,l.jsxs)("div",{className:m.stats,children:[(0,l.jsxs)("span",{children:[e.nodes.size," nodes"]}),(0,l.jsx)("span",{children:"\u2022"}),(0,l.jsxs)("span",{children:[_.length," edges"]})]})]}),(0,l.jsxs)("svg",{className:m.canvas,width:s,height:t,viewBox:`${k.minX} ${k.minY} ${k.width} ${k.height}`,onMouseDown:B,onMouseMove:L,onMouseUp:I,onMouseLeave:I,onWheel:A,onClick:T,children:[(0,l.jsxs)("defs",{children:[(0,l.jsx)("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:(0,l.jsx)("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"#e5e7eb",strokeWidth:"1"})}),(0,l.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:(0,l.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#6b7280"})}),(0,l.jsx)("marker",{id:"arrowhead-active",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:(0,l.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#10b981"})})]}),(0,l.jsx)("rect",{x:k.minX,y:k.minY,width:k.width,height:k.height,fill:"url(#grid)"}),(0,l.jsxs)("g",{transform:`translate(${f.x}, ${f.y}) scale(${f.scale})`,children:[(0,l.jsx)("g",{className:m.edges,children:_.map((e,s)=>{return(0,l.jsx)("path",{d:e.path,fill:"none",stroke:(t=e.fromStatus,a=e.toStatus,"completed"===t&&"completed"===a?"#10b981":"completed"===t&&"running"===a?"#f59e0b":"failed"===t||"failed"===a?"#ef4444":"completed"===t?"#3b82f6":"#9ca3af"),strokeWidth:2,markerEnd:"completed"===e.fromStatus?"url(#arrowhead-active)":"url(#arrowhead)",className:m.edge},`${e.from}-${e.to}-${s}`);var t,a})}),(0,l.jsx)("g",{className:m.nodes,children:Array.from(e.nodes.values()).map(e=>{const s=v.get(e.id);return s?(0,l.jsx)(c,{node:e,position:s,selected:x===e.id,onClick:w,onDoubleClick:S,size:n},e.id):null})})]})]}),r&&$&&(0,l.jsxs)("div",{className:m.detailsPanel,children:[(0,l.jsxs)("div",{className:m.detailsHeader,children:[(0,l.jsx)("span",{children:"Node Details"}),(0,l.jsx)("button",{className:m.closeButton,onClick:()=>g(null),children:"\xd7"})]}),(0,l.jsxs)("div",{className:m.detailsContent,children:[(0,l.jsxs)("div",{className:m.detailRow,children:[(0,l.jsx)("span",{className:m.detailLabel,children:"ID:"}),(0,l.jsx)("span",{className:m.detailValue,children:$.id})]}),(0,l.jsxs)("div",{className:m.detailRow,children:[(0,l.jsx)("span",{className:m.detailLabel,children:"Type:"}),(0,l.jsx)("span",{className:m.detailValue,children:$.type})]}),$.skillId&&(0,l.jsxs)("div",{className:m.detailRow,children:[(0,l.jsx)("span",{className:m.detailLabel,children:"Skill:"}),(0,l.jsx)("span",{className:m.detailValue,children:$.skillId})]}),(0,l.jsxs)("div",{className:m.detailRow,children:[(0,l.jsx)("span",{className:m.detailLabel,children:"Status:"}),(0,l.jsx)("span",{className:m.detailValue,children:$.state.status})]}),(0,l.jsxs)("div",{className:m.detailRow,children:[(0,l.jsx)("span",{className:m.detailLabel,children:"Dependencies:"}),(0,l.jsx)("span",{className:m.detailValue,children:$.dependencies.length>0?$.dependencies.join(", "):"None"})]})]})]}),p&&(0,l.jsxs)("div",{className:m.controls,children:[(0,l.jsx)("button",{className:m.controlButton,onClick:()=>j({x:0,y:0,scale:1}),title:"Reset view",children:"\ud83d\udd04"}),(0,l.jsx)("button",{className:m.controlButton,onClick:()=>j(e=>({...e,scale:1.2*e.scale})),title:"Zoom in",children:"+"}),(0,l.jsx)("button",{className:m.controlButton,onClick:()=>j(e=>({...e,scale:.8*e.scale})),title:"Zoom out",children:"\u2212"})]}),(0,l.jsxs)("div",{className:m.legend,children:[(0,l.jsxs)("div",{className:m.legendItem,children:[(0,l.jsx)("span",{className:m.legendDot,style:{background:"#6b7280"}}),(0,l.jsx)("span",{children:"Pending"})]}),(0,l.jsxs)("div",{className:m.legendItem,children:[(0,l.jsx)("span",{className:m.legendDot,style:{background:"#3b82f6"}}),(0,l.jsx)("span",{children:"Ready"})]}),(0,l.jsxs)("div",{className:m.legendItem,children:[(0,l.jsx)("span",{className:m.legendDot,style:{background:"#f59e0b"}}),(0,l.jsx)("span",{children:"Running"})]}),(0,l.jsxs)("div",{className:m.legendItem,children:[(0,l.jsx)("span",{className:m.legendDot,style:{background:"#10b981"}}),(0,l.jsx)("span",{children:"Completed"})]}),(0,l.jsxs)("div",{className:m.legendItem,children:[(0,l.jsx)("span",{className:m.legendDot,style:{background:"#ef4444"}}),(0,l.jsx)("span",{children:"Failed"})]})]})]})}const x={container:"container_CuDm",toolbar:"toolbar_LYfO",toolbarSection:"toolbarSection_zdpC",nameLabel:"nameLabel_zlMf",nameInput:"nameInput_pXCe",toolButton:"toolButton_c3pl",content:"content_Ci9I",graphArea:"graphArea_gBhh",emptyState:"emptyState_CyGg",emptyIcon:"emptyIcon__WOP",emptyTitle:"emptyTitle_w839",emptyText:"emptyText_iuJm",sidePanel:"sidePanel_iSwq",panelHeader:"panelHeader_uWx_",closeButton:"closeButton_HtSp",panelContent:"panelContent_jRVG",formGroup:"formGroup_d6hR",formLabel:"formLabel_ff5T",nodeTypeGrid:"nodeTypeGrid_Qpa7",nodeTypeButton:"nodeTypeButton_zQ4G",nodeTypeSelected:"nodeTypeSelected_NSYU",nodeTypeIcon:"nodeTypeIcon_DrqJ",nodeTypeLabel:"nodeTypeLabel_XqC1",select:"select_Iypl",depsList:"depsList_Xse2",depItem:"depItem_Y0jg",formActions:"formActions_gWQq",primaryButton:"primaryButton_r3Eh",secondaryButton:"secondaryButton_tn8S",modalOverlay:"modalOverlay_hgY6",modal:"modal_gX2a",modalHeader:"modalHeader_E_Dj",modalContent:"modalContent_yiYP",exportButtons:"exportButtons_ouqY",exportButton:"exportButton_BzcI",statusBar:"statusBar_XhjP"},g=[{type:"skill",label:"Skill Node",icon:"\u2699\ufe0f"},{type:"agent",label:"Agent Node",icon:"\ud83e\udd16"},{type:"mcp-tool",label:"MCP Tool",icon:"\ud83d\udd27"},{type:"composite",label:"Composite",icon:"\ud83d\udce6"},{type:"conditional",label:"Conditional",icon:"\ud83d\udd00"}],f={timeoutMs:3e4,maxRetries:3,retryDelayMs:1e3,exponentialBackoff:!0};function j({initialDag:e,availableSkills:s=[],onSave:t,onExport:n}){const[i,o]=(0,a.useState)(e??(r="New Workflow",{id:`dag-${Date.now()}`,name:r,nodes:new Map,edges:new Map,config:{maxParallelism:5,defaultTimeout:3e4,errorHandling:"stop-on-failure"},inputs:[],outputs:[]}));var r;const[d,c]=(0,a.useState)(null),[m,h]=(0,a.useState)(!1),[u,j]=(0,a.useState)("skill"),[b,N]=(0,a.useState)(""),[y,C]=(0,a.useState)([]),[v,_]=(0,a.useState)(i.name),[k,w]=(0,a.useState)(!1),S=(0,a.useMemo)(()=>Array.from(i.nodes.keys()).map(e=>e),[i.nodes]),T=(0,a.useCallback)(()=>{const e=`node-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,s={id:e,type:u,skillId:"skill"===u?b:void 0,dependencies:y,inputMappings:[],state:{status:"pending"},config:{...f}};o(t=>{const a=new Map(t.nodes);a.set(e,s);const n=new Map(t.edges);for(const s of y){const t=n.get(s)??[];n.set(s,[...t,e])}return{...t,nodes:a,edges:n}}),h(!1),N(""),C([])},[u,b,y]),B=(0,a.useCallback)(()=>{d&&(o(e=>{const s=new Map(e.nodes);s.delete(d);const t=new Map;for(const[a,n]of e.edges){if(a===d)continue;const e=n.filter(e=>e!==d);e.length>0&&t.set(a,e)}for(const a of s.values())a.dependencies=a.dependencies.filter(e=>e!==d);return{...e,nodes:s,edges:t}}),c(null))},[d]),L=(0,a.useCallback)(e=>{const s=e.target.value;_(s),o(e=>({...e,name:s}))},[]),I=(0,a.useCallback)(()=>{t?.(i)},[i,t]),A=(0,a.useCallback)(e=>{n?.(i,e),w(!1)},[i,n]),$=(0,a.useCallback)(e=>{C(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},[]),D=(0,a.useCallback)(()=>{confirm("Are you sure you want to clear all nodes?")&&(o(e=>({...e,nodes:new Map,edges:new Map})),c(null))},[]);return(0,l.jsxs)("div",{className:x.container,children:[(0,l.jsxs)("div",{className:x.toolbar,children:[(0,l.jsx)("div",{className:x.toolbarSection,children:(0,l.jsxs)("label",{className:x.nameLabel,children:["Workflow:",(0,l.jsx)("input",{type:"text",value:v,onChange:L,className:x.nameInput,placeholder:"Workflow name"})]})}),(0,l.jsxs)("div",{className:x.toolbarSection,children:[(0,l.jsx)("button",{className:x.toolButton,onClick:()=>h(!0),disabled:m,children:"\u2795 Add Node"}),(0,l.jsx)("button",{className:x.toolButton,onClick:B,disabled:!d,children:"\ud83d\uddd1\ufe0f Delete"}),(0,l.jsx)("button",{className:x.toolButton,onClick:D,disabled:0===i.nodes.size,children:"\ud83e\uddf9 Clear"})]}),(0,l.jsxs)("div",{className:x.toolbarSection,children:[(0,l.jsx)("button",{className:x.toolButton,onClick:I,disabled:0===i.nodes.size,children:"\ud83d\udcbe Save"}),(0,l.jsx)("button",{className:x.toolButton,onClick:()=>w(!0),disabled:0===i.nodes.size,children:"\ud83d\udce4 Export"})]})]}),(0,l.jsxs)("div",{className:x.content,children:[(0,l.jsx)("div",{className:x.graphArea,children:i.nodes.size>0?(0,l.jsx)(p,{dag:i,width:800,height:500,onNodeSelect:c,showDetails:!0}):(0,l.jsxs)("div",{className:x.emptyState,children:[(0,l.jsx)("div",{className:x.emptyIcon,children:"\ud83d\udcca"}),(0,l.jsx)("div",{className:x.emptyTitle,children:"No nodes yet"}),(0,l.jsx)("div",{className:x.emptyText,children:'Click "Add Node" to start building your workflow'})]})}),m&&(0,l.jsxs)("div",{className:x.sidePanel,children:[(0,l.jsxs)("div",{className:x.panelHeader,children:[(0,l.jsx)("span",{children:"Add New Node"}),(0,l.jsx)("button",{className:x.closeButton,onClick:()=>h(!1),children:"\xd7"})]}),(0,l.jsxs)("div",{className:x.panelContent,children:[(0,l.jsxs)("div",{className:x.formGroup,children:[(0,l.jsx)("label",{className:x.formLabel,children:"Node Type:"}),(0,l.jsx)("div",{className:x.nodeTypeGrid,children:g.map(({type:e,label:s,icon:t})=>(0,l.jsxs)("button",{className:`${x.nodeTypeButton} ${u===e?x.nodeTypeSelected:""}`,onClick:()=>j(e),children:[(0,l.jsx)("span",{className:x.nodeTypeIcon,children:t}),(0,l.jsx)("span",{className:x.nodeTypeLabel,children:s})]},e))})]}),"skill"===u&&(0,l.jsxs)("div",{className:x.formGroup,children:[(0,l.jsx)("label",{className:x.formLabel,children:"Skill:"}),(0,l.jsxs)("select",{className:x.select,value:b,onChange:e=>N(e.target.value),children:[(0,l.jsx)("option",{value:"",children:"Select a skill..."}),s.map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.name," (",e.category,")"]},e.id))]})]}),S.length>0&&(0,l.jsxs)("div",{className:x.formGroup,children:[(0,l.jsx)("label",{className:x.formLabel,children:"Dependencies:"}),(0,l.jsx)("div",{className:x.depsList,children:S.map(e=>{const s=i.nodes.get(e);return(0,l.jsxs)("label",{className:x.depItem,children:[(0,l.jsx)("input",{type:"checkbox",checked:y.includes(e),onChange:()=>$(e)}),(0,l.jsx)("span",{children:s?.skillId||e})]},e)})})]}),(0,l.jsxs)("div",{className:x.formActions,children:[(0,l.jsx)("button",{className:x.primaryButton,onClick:T,disabled:"skill"===u&&!b,children:"Add Node"}),(0,l.jsx)("button",{className:x.secondaryButton,onClick:()=>h(!1),children:"Cancel"})]})]})]})]}),k&&(0,l.jsx)("div",{className:x.modalOverlay,children:(0,l.jsxs)("div",{className:x.modal,children:[(0,l.jsxs)("div",{className:x.modalHeader,children:[(0,l.jsx)("span",{children:"Export Workflow"}),(0,l.jsx)("button",{className:x.closeButton,onClick:()=>w(!1),children:"\xd7"})]}),(0,l.jsxs)("div",{className:x.modalContent,children:[(0,l.jsx)("p",{children:"Choose export format:"}),(0,l.jsxs)("div",{className:x.exportButtons,children:[(0,l.jsx)("button",{className:x.exportButton,onClick:()=>A("json"),children:"\ud83d\udcc4 Export as JSON"}),(0,l.jsx)("button",{className:x.exportButton,onClick:()=>A("yaml"),children:"\ud83d\udcdd Export as YAML"})]})]})]})}),(0,l.jsxs)("div",{className:x.statusBar,children:[(0,l.jsxs)("span",{children:["Nodes: ",i.nodes.size]}),(0,l.jsx)("span",{children:"\u2022"}),(0,l.jsxs)("span",{children:["Selected: ",d?i.nodes.get(d)?.skillId||d:"None"]})]})]})}const b={container:"container_NX3E",header:"header_Uido",title:"title_dMiD",icon:"icon_bxsJ",statusBadge:"statusBadge_QIUj",idle:"idle_fCV9",running:"running_vtM7",paused:"paused_MTaM",completed:"completed_dZAx",failed:"failed_elV7",headerActions:"headerActions_vpjP",actionButton:"actionButton_Nq1Z",danger:"danger_eIwW",progressContainer:"progressContainer_F66V",progressBar:"progressBar_HIjc",progressFill:"progressFill_BvRP",progressText:"progressText_yVYc",quickStats:"quickStats_ox8a",statItem:"statItem_zaax",statDot:"statDot_cCH6",tabs:"tabs_C5AN",tab:"tab_YpbQ",tabActive:"tabActive_fiwb",tabContent:"tabContent_NGPi",graphContainer:"graphContainer_KA1G",nodeInspector:"nodeInspector_zv7x",inspectorHeader:"inspectorHeader_Td4K",closeButton:"closeButton_yj4T",inspectorContent:"inspectorContent_hv1C",inspectorRow:"inspectorRow_AOT9",inspectorLabel:"inspectorLabel_fJE6",statusValue:"statusValue_g9aJ",errorText:"errorText_OcLu",logsContainer:"logsContainer_ISW1",logsToolbar:"logsToolbar_MeKL",logFilter:"logFilter_uogG",logCount:"logCount_SLtA",logsList:"logsList_ylOO",emptyLogs:"emptyLogs_drLV",logEntry:"logEntry_np8o",logTime:"logTime_dNqC",logLevel:"logLevel_ekJj",info:"info_S1gS",warn:"warn_kf5j",error:"error_QGqe",debug:"debug_qtW9",logNode:"logNode_SLnk",logMessage:"logMessage_b3W2",loginfo:"loginfo_URmi",logwarn:"logwarn_ajPV",logerror:"logerror_Q5h_",statsContainer:"statsContainer_hjFp",statsGrid:"statsGrid_qbXs",statCard:"statCard_HSpf",statCardLabel:"statCardLabel_b4bH",statCardValue:"statCardValue_dhCS",breakdown:"breakdown_UdJ8",breakdownHeader:"breakdownHeader_RW5S",breakdownBars:"breakdownBars_tPDD",breakdownItem:"breakdownItem_hDOL",breakdownLabel:"breakdownLabel_Gfse",breakdownBarContainer:"breakdownBarContainer_OCP3",breakdownBar:"breakdownBar_Z_ib",breakdownCount:"breakdownCount_JQoE",footer:"footer_Tjvk"},N={pending:"#6b7280",ready:"#3b82f6",running:"#f59e0b",completed:"#10b981",failed:"#ef4444",skipped:"#9ca3af"};function y(e){if(e<1e3)return`${e}ms`;if(e<6e4)return`${(e/1e3).toFixed(1)}s`;return`${Math.floor(e/6e4)}m ${Math.floor(e%6e4/1e3)}s`}function C(e){return e.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}function v({dag:e,executionState:s="idle",logs:t=[],stats:n,onStart:i,onPause:o,onResume:r,onStop:d,onRetry:c,onNodeInspect:m,autoScrollLogs:h=!0}){const[u,x]=(0,a.useState)("graph"),[g,f]=(0,a.useState)(null),[j,v]=(0,a.useState)("all"),_=a.useRef(null);(0,a.useEffect)(()=>{h&&_.current&&(_.current.scrollTop=_.current.scrollHeight)},[t,h]);const k=(0,a.useMemo)(()=>{const s={pending:0,ready:0,running:0,completed:0,failed:0,skipped:0};for(const t of e.nodes.values())s[t.state.status]++;return s},[e]),w=(0,a.useMemo)(()=>{const s=[];for(const t of e.nodes.values())"failed"===t.state.status&&s.push(t.id);return s},[e]),S=(0,a.useMemo)(()=>"all"===j?t:t.filter(e=>e.level===j),[t,j]),T=(0,a.useMemo)(()=>{if(!n?.startTime)return null;return(n.endTime??new Date).getTime()-n.startTime.getTime()},[n]),B=(0,a.useMemo)(()=>{const s=e.nodes.size;return 0===s?0:Math.round((k.completed+k.failed+k.skipped)/s*100)},[e.nodes.size,k]),L=(0,a.useCallback)(e=>{f(e),e&&m?.(e)},[m]),I=(0,a.useCallback)(()=>{w.length>0&&c?.(w)},[w,c]),A=g?e.nodes.get(g):null;return(0,l.jsxs)("div",{className:b.container,children:[(0,l.jsxs)("div",{className:b.header,children:[(0,l.jsxs)("div",{className:b.title,children:[(0,l.jsx)("span",{className:b.icon,children:"\ud83d\udcca"}),(0,l.jsx)("span",{children:"Execution Monitor"}),(0,l.jsx)("span",{className:`${b.statusBadge} ${b[s]}`,children:s.toUpperCase()})]}),(0,l.jsxs)("div",{className:b.headerActions,children:["idle"===s&&(0,l.jsx)("button",{className:b.actionButton,onClick:i,children:"\u25b6\ufe0f Start"}),"running"===s&&(0,l.jsx)("button",{className:b.actionButton,onClick:o,children:"\u23f8\ufe0f Pause"}),"paused"===s&&(0,l.jsx)("button",{className:b.actionButton,onClick:r,children:"\u25b6\ufe0f Resume"}),("running"===s||"paused"===s)&&(0,l.jsx)("button",{className:`${b.actionButton} ${b.danger}`,onClick:d,children:"\u23f9\ufe0f Stop"}),w.length>0&&(0,l.jsxs)("button",{className:b.actionButton,onClick:I,children:["\ud83d\udd04 Retry Failed (",w.length,")"]})]})]}),(0,l.jsxs)("div",{className:b.progressContainer,children:[(0,l.jsx)("div",{className:b.progressBar,children:(0,l.jsx)("div",{className:`${b.progressFill} ${b[s]}`,style:{width:`${B}%`}})}),(0,l.jsxs)("span",{className:b.progressText,children:[B,"%"]})]}),(0,l.jsxs)("div",{className:b.quickStats,children:[(0,l.jsxs)("div",{className:b.statItem,children:[(0,l.jsx)("span",{className:b.statDot,style:{background:N.completed}}),(0,l.jsxs)("span",{children:[k.completed," Completed"]})]}),(0,l.jsxs)("div",{className:b.statItem,children:[(0,l.jsx)("span",{className:b.statDot,style:{background:N.running}}),(0,l.jsxs)("span",{children:[k.running," Running"]})]}),(0,l.jsxs)("div",{className:b.statItem,children:[(0,l.jsx)("span",{className:b.statDot,style:{background:N.pending}}),(0,l.jsxs)("span",{children:[k.pending+k.ready," Pending"]})]}),(0,l.jsxs)("div",{className:b.statItem,children:[(0,l.jsx)("span",{className:b.statDot,style:{background:N.failed}}),(0,l.jsxs)("span",{children:[k.failed," Failed"]})]}),null!==T&&(0,l.jsx)("div",{className:b.statItem,children:(0,l.jsxs)("span",{children:["\u23f1\ufe0f ",y(T)]})})]}),(0,l.jsxs)("div",{className:b.tabs,children:[(0,l.jsx)("button",{className:`${b.tab} ${"graph"===u?b.tabActive:""}`,onClick:()=>x("graph"),children:"\ud83d\udcca Graph"}),(0,l.jsxs)("button",{className:`${b.tab} ${"logs"===u?b.tabActive:""}`,onClick:()=>x("logs"),children:["\ud83d\udcdc Logs (",t.length,")"]}),(0,l.jsx)("button",{className:`${b.tab} ${"stats"===u?b.tabActive:""}`,onClick:()=>x("stats"),children:"\ud83d\udcc8 Statistics"})]}),(0,l.jsxs)("div",{className:b.tabContent,children:["graph"===u&&(0,l.jsxs)("div",{className:b.graphContainer,children:[(0,l.jsx)(p,{dag:e,width:700,height:400,onNodeSelect:L,showDetails:!1,interactive:!0}),A&&(0,l.jsxs)("div",{className:b.nodeInspector,children:[(0,l.jsxs)("div",{className:b.inspectorHeader,children:[(0,l.jsxs)("span",{children:["Node: ",A.skillId||A.id]}),(0,l.jsx)("button",{className:b.closeButton,onClick:()=>f(null),children:"\xd7"})]}),(0,l.jsxs)("div",{className:b.inspectorContent,children:[(0,l.jsxs)("div",{className:b.inspectorRow,children:[(0,l.jsx)("span",{className:b.inspectorLabel,children:"Type:"}),(0,l.jsx)("span",{children:A.type})]}),(0,l.jsxs)("div",{className:b.inspectorRow,children:[(0,l.jsx)("span",{className:b.inspectorLabel,children:"Status:"}),(0,l.jsx)("span",{className:b.statusValue,style:{color:N[A.state.status]},children:A.state.status})]}),"running"===A.state.status&&"startedAt"in A.state&&(0,l.jsxs)("div",{className:b.inspectorRow,children:[(0,l.jsx)("span",{className:b.inspectorLabel,children:"Started:"}),(0,l.jsx)("span",{children:C(A.state.startedAt)})]}),"completed"===A.state.status&&"completedAt"in A.state&&(0,l.jsxs)("div",{className:b.inspectorRow,children:[(0,l.jsx)("span",{className:b.inspectorLabel,children:"Duration:"}),(0,l.jsx)("span",{children:y(A.state.completedAt.getTime()-("startedAt"in A.state?A.state.startedAt.getTime():0))})]}),"failed"===A.state.status&&"error"in A.state&&(0,l.jsxs)("div",{className:b.inspectorRow,children:[(0,l.jsx)("span",{className:b.inspectorLabel,children:"Error:"}),(0,l.jsx)("span",{className:b.errorText,children:A.state.error.message})]})]})]})]}),"logs"===u&&(0,l.jsxs)("div",{className:b.logsContainer,children:[(0,l.jsxs)("div",{className:b.logsToolbar,children:[(0,l.jsxs)("select",{className:b.logFilter,value:j,onChange:e=>v(e.target.value),children:[(0,l.jsx)("option",{value:"all",children:"All Levels"}),(0,l.jsx)("option",{value:"info",children:"Info"}),(0,l.jsx)("option",{value:"warn",children:"Warnings"}),(0,l.jsx)("option",{value:"error",children:"Errors"})]}),(0,l.jsxs)("span",{className:b.logCount,children:["Showing ",S.length," of ",t.length]})]}),(0,l.jsx)("div",{className:b.logsList,ref:_,children:0===S.length?(0,l.jsx)("div",{className:b.emptyLogs,children:"No logs yet"}):S.map((e,s)=>(0,l.jsxs)("div",{className:`${b.logEntry} ${b[`log${e.level}`]}`,children:[(0,l.jsx)("span",{className:b.logTime,children:C(e.timestamp)}),(0,l.jsx)("span",{className:`${b.logLevel} ${b[e.level]}`,children:e.level.toUpperCase()}),e.nodeId&&(0,l.jsxs)("span",{className:b.logNode,children:["[",e.nodeId,"]"]}),(0,l.jsx)("span",{className:b.logMessage,children:e.message})]},s))})]}),"stats"===u&&(0,l.jsxs)("div",{className:b.statsContainer,children:[(0,l.jsxs)("div",{className:b.statsGrid,children:[(0,l.jsxs)("div",{className:b.statCard,children:[(0,l.jsx)("div",{className:b.statCardLabel,children:"Total Nodes"}),(0,l.jsx)("div",{className:b.statCardValue,children:e.nodes.size})]}),(0,l.jsxs)("div",{className:b.statCard,children:[(0,l.jsx)("div",{className:b.statCardLabel,children:"Completed"}),(0,l.jsx)("div",{className:b.statCardValue,style:{color:N.completed},children:k.completed})]}),(0,l.jsxs)("div",{className:b.statCard,children:[(0,l.jsx)("div",{className:b.statCardLabel,children:"Failed"}),(0,l.jsx)("div",{className:b.statCardValue,style:{color:N.failed},children:k.failed})]}),(0,l.jsxs)("div",{className:b.statCard,children:[(0,l.jsx)("div",{className:b.statCardLabel,children:"Elapsed Time"}),(0,l.jsx)("div",{className:b.statCardValue,children:null!==T?y(T):"--"})]}),n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:b.statCard,children:[(0,l.jsx)("div",{className:b.statCardLabel,children:"Total Tokens"}),(0,l.jsx)("div",{className:b.statCardValue,children:n.totalTokens.toLocaleString()})]}),(0,l.jsxs)("div",{className:b.statCard,children:[(0,l.jsx)("div",{className:b.statCardLabel,children:"Estimated Cost"}),(0,l.jsxs)("div",{className:b.statCardValue,children:["$",n.estimatedCost.toFixed(4)]})]})]})]}),(0,l.jsxs)("div",{className:b.breakdown,children:[(0,l.jsx)("div",{className:b.breakdownHeader,children:"Node Status Breakdown"}),(0,l.jsx)("div",{className:b.breakdownBars,children:Object.entries(k).map(([s,t])=>{if(0===t)return null;const a=t/e.nodes.size*100;return(0,l.jsxs)("div",{className:b.breakdownItem,children:[(0,l.jsx)("span",{className:b.breakdownLabel,children:s}),(0,l.jsx)("div",{className:b.breakdownBarContainer,children:(0,l.jsx)("div",{className:b.breakdownBar,style:{width:`${a}%`,background:N[s]}})}),(0,l.jsx)("span",{className:b.breakdownCount,children:t})]},s)})})]})]})]}),(0,l.jsxs)("div",{className:b.footer,children:[(0,l.jsxs)("span",{children:["Workflow: ",e.name]}),(0,l.jsx)("span",{children:"\u2022"}),(0,l.jsxs)("span",{children:[e.nodes.size," nodes"]}),n?.startTime&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{children:"\u2022"}),(0,l.jsxs)("span",{children:["Started: ",C(n.startTime)]})]})]})]})}},76459:(e,s,t)=>{t.d(s,{A:()=>a});const a={container:"container_AMi0",hero:"hero_TL6e",heroWindow:"heroWindow_nvCW",windowHeader:"windowHeader_MLdX",windowControls:"windowControls_XE9I",windowButton:"windowButton_dmwr",heroContent:"heroContent_QggR",heroTitle:"heroTitle_K3Dw",heroSubtitle:"heroSubtitle_VDFN",heroCtas:"heroCtas_Lpe7",primaryCta:"primaryCta_wxBo",secondaryCta:"secondaryCta_HzRn",section:"section_eUP7",sectionTitle:"sectionTitle_RAp2",featuresGrid:"featuresGrid_PuTv",featureCard:"featureCard_dhrC",featureHeader:"featureHeader_b52F",featureIcon:"featureIcon_ykaf",featureTitle:"featureTitle_UyG6",featureDescription:"featureDescription_xRBm",featureLink:"featureLink_jXZT",architectureWindow:"architectureWindow_ZPbw",architectureContent:"architectureContent_CK7L",layerStack:"layerStack_Hpob",layer:"layer_ZGCU",layerLabel:"layerLabel_hRzM",layerBox:"layerBox_lEtN",layerTitle:"layerTitle_k5lz",layerItems:"layerItems_GRkR",examplesGrid:"examplesGrid_z7HG",exampleCard:"exampleCard_e3HQ",exampleContent:"exampleContent_ihfd",exampleStats:"exampleStats_F5dl",exampleFlow:"exampleFlow_pzP2",exampleCta:"exampleCta_S_bu",gettingStartedWindow:"gettingStartedWindow_ANFE",gettingStartedContent:"gettingStartedContent_xzev",stepsList:"stepsList_v5kw",step:"step_yxWl",stepNumber:"stepNumber_P7AS",stepContent:"stepContent_rZG6",gettingStartedCta:"gettingStartedCta_P5eJ",builderContainer:"builderContainer_V5gn",builderHeader:"builderHeader_ri4i",builderTitle:"builderTitle_Xhm4",builderActions:"builderActions_qsgm",monitorContainer:"monitorContainer_MOg0",monitorHeader:"monitorHeader_Gq1J",monitorTitle:"monitorTitle_fW0G",monitorActions:"monitorActions__Y_2",emptyState:"emptyState__Gbs",emptyIcon:"emptyIcon_RavH",emptyTitle:"emptyTitle_uyIL",emptyText:"emptyText_PG2Z",breadcrumbs:"breadcrumbs_CFN5",breadcrumbLink:"breadcrumbLink_EB2j",breadcrumbSeparator:"breadcrumbSeparator_p5UV",breadcrumbCurrent:"breadcrumbCurrent_mNQU"}}}]);