"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[89829],{28453:(e,r,s)=>{s.d(r,{R:()=>l,x:()=>d});var i=s(96540);const n={},t=i.createContext(n);function l(e){const r=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),i.createElement(t.Provider,{value:r},e.children)}},79874:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>c,contentTitle:()=>d,default:()=>o,frontMatter:()=>l,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"skills/metal_shader_expert/index","title":"\ud83e\udd16 Metal Shader Expert","description":"20 years Weta/Pixar experience in real-time graphics, Metal shaders, and visual effects. Expert in MSL shaders, PBR rendering, tile-based deferred rendering (TBDR), and GPU debugging. Activate on \'Metal shader\', \'MSL\', \'compute shader\', \'vertex shader\', \'fragment shader\', \'PBR\', \'ray tracing\', \'tile shader\', \'GPU profiling\', \'Apple GPU\'. NOT for WebGL/GLSL (different architecture), general OpenGL (deprecated on Apple), CUDA (NVIDIA only), or CPU-side rendering optimization.","source":"@site/docs/skills/metal_shader_expert/index.md","sourceDirName":"skills/metal_shader_expert","slug":"/skills/metal_shader_expert/","permalink":"/docs/skills/metal_shader_expert/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Metal Shader Expert","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Domain-Specific Research Gu...","permalink":"/docs/skills/design_archivist/references/domain_guides"},"next":{"title":"Metal Shader Expert","permalink":"/docs/skills/metal_shader_expert/"}}');var n=s(74848),t=s(28453);const l={sidebar_label:"Metal Shader Expert",sidebar_position:1},d="\ud83e\udd16 Metal Shader Expert",c={},h=[{value:"Allowed Tools",id:"allowed-tools",level:2},{value:"Tags",id:"tags",level:2},{value:"\ud83e\udd1d Pairs Great With",id:"-pairs-great-with",level:2},{value:"References",id:"references",level:2},{value:"When to Use This Skill",id:"when-to-use-this-skill",level:2},{value:"Expert vs Novice Shibboleths",id:"expert-vs-novice-shibboleths",level:2},{value:"Common Anti-Patterns",id:"common-anti-patterns",level:2},{value:"32-Bit Everything",id:"32-bit-everything",level:3},{value:"Ignoring TBDR Architecture",id:"ignoring-tbdr-architecture",level:3},{value:"Runtime Branching for Constants",id:"runtime-branching-for-constants",level:3},{value:"Intersection Queries for Ray Tracing",id:"intersection-queries-for-ray-tracing",level:3},{value:"Evolution Timeline",id:"evolution-timeline",level:2},{value:"Philosophy: Play, Exposition, Tools",id:"philosophy-play-exposition-tools",level:2},{value:"Core Competencies",id:"core-competencies",level:2},{value:"MCP Integrations",id:"mcp-integrations",level:2},{value:"Reference Files",id:"reference-files",level:2},{value:"Integration with Other Skills",id:"integration-with-other-skills",level:2}];function a(e){const r={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsx)(r.h1,{id:"-metal-shader-expert",children:"\ud83e\udd16 Metal Shader Expert"})}),"\n",(0,n.jsx)(r.p,{children:"20 years Weta/Pixar experience in real-time graphics, Metal shaders, and visual effects. Expert in MSL shaders, PBR rendering, tile-based deferred rendering (TBDR), and GPU debugging. Activate on 'Metal shader', 'MSL', 'compute shader', 'vertex shader', 'fragment shader', 'PBR', 'ray tracing', 'tile shader', 'GPU profiling', 'Apple GPU'. NOT for WebGL/GLSL (different architecture), general OpenGL (deprecated on Apple), CUDA (NVIDIA only), or CPU-side rendering optimization."}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h2,{id:"allowed-tools",children:"Allowed Tools"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"Read, Write, Edit, Bash(xcrun:*, metal:*, metallib:*), mcp__firecrawl__firecrawl_search, WebFetch\n"})}),"\n",(0,n.jsx)(r.h2,{id:"tags",children:"Tags"}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"metal"})," ",(0,n.jsx)(r.code,{children:"shaders"})," ",(0,n.jsx)(r.code,{children:"gpu"})," ",(0,n.jsx)(r.code,{children:"pbr"})," ",(0,n.jsx)(r.code,{children:"apple"})]}),"\n",(0,n.jsx)(r.h2,{id:"-pairs-great-with",children:"\ud83e\udd1d Pairs Great With"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:(0,n.jsx)(r.a,{href:"/docs/skills/native_app_designer",children:"Native App Designer"})}),": GPU-accelerated iOS/Mac apps"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:(0,n.jsx)(r.a,{href:"/docs/skills/2000s_visualization_expert",children:"2000s Visualization Expert"})}),": Advanced shader techniques"]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"references",children:"References"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"./references/debug-tools",children:"Debug Tools & Visualization"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"./references/noise-effects",children:"Noise-Based Effects"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"./references/pbr-shaders",children:"PBR Shader Implementation"})}),"\n"]}),"\n",(0,n.jsx)(r.h1,{id:"metal-shader-expert",children:"Metal Shader Expert"}),"\n",(0,n.jsx)(r.p,{children:"20+ years Weta/Pixar experience specializing in Metal shaders, real-time rendering, and creative visual effects. Expert in Apple's Tile-Based Deferred Rendering (TBDR) architecture."}),"\n",(0,n.jsx)(r.h2,{id:"when-to-use-this-skill",children:"When to Use This Skill"}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"Use for:"})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Metal Shading Language (MSL) development"}),"\n",(0,n.jsx)(r.li,{children:"Apple GPU optimization (TBDR architecture)"}),"\n",(0,n.jsx)(r.li,{children:"PBR rendering pipelines"}),"\n",(0,n.jsx)(r.li,{children:"Compute shaders and parallel processing"}),"\n",(0,n.jsx)(r.li,{children:"Ray tracing on Apple Silicon"}),"\n",(0,n.jsx)(r.li,{children:"GPU profiling and debugging"}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"Do NOT use for:"})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"WebGL/GLSL \u2192 different architecture, browser constraints"}),"\n",(0,n.jsx)(r.li,{children:"CUDA \u2192 NVIDIA-only"}),"\n",(0,n.jsx)(r.li,{children:"OpenGL \u2192 deprecated on Apple since 2018"}),"\n",(0,n.jsx)(r.li,{children:"CPU-side optimization \u2192 use general performance tools"}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"expert-vs-novice-shibboleths",children:"Expert vs Novice Shibboleths"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Topic"}),(0,n.jsx)(r.th,{children:"Novice"}),(0,n.jsx)(r.th,{children:"Expert"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"Data types"})}),(0,n.jsxs)(r.td,{children:["Uses ",(0,n.jsx)(r.code,{children:"float"})," everywhere"]}),(0,n.jsxs)(r.td,{children:["Defaults to ",(0,n.jsx)(r.code,{children:"half"})," (16-bit), ",(0,n.jsx)(r.code,{children:"float"})," only when precision needed"]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"Specialization"})}),(0,n.jsx)(r.td,{children:"Runtime branching"}),(0,n.jsx)(r.td,{children:"Function constants for compile-time specialization"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"Memory"})}),(0,n.jsx)(r.td,{children:"Everything in device space"}),(0,n.jsx)(r.td,{children:"Knows constant/device/threadgroup tradeoffs"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"Architecture"})}),(0,n.jsx)(r.td,{children:"Treats like desktop GPU"}),(0,n.jsx)(r.td,{children:"Understands TBDR: tile memory is free, bandwidth is expensive"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"Ray tracing"})}),(0,n.jsx)(r.td,{children:"Uses intersection queries"}),(0,n.jsx)(r.td,{children:"Uses intersector API (hardware-aligned)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"Debugging"})}),(0,n.jsx)(r.td,{children:"Print debugging"}),(0,n.jsx)(r.td,{children:"GPU capture, shader profiler, occupancy analysis"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"common-anti-patterns",children:"Common Anti-Patterns"}),"\n",(0,n.jsx)(r.h3,{id:"32-bit-everything",children:"32-Bit Everything"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"What it looks like"}),(0,n.jsx)(r.th,{children:"Why it's wrong"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.code,{children:"float4 color"}),", ",(0,n.jsx)(r.code,{children:"float3 normal"})," everywhere"]}),(0,n.jsx)(r.td,{children:"Wastes registers, reduces occupancy, doubles bandwidth"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.strong,{children:"Instead"}),": Default to ",(0,n.jsx)(r.code,{children:"half"}),", upgrade to ",(0,n.jsx)(r.code,{children:"float"})," only for positions/depth"]}),(0,n.jsx)(r.td,{})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"ignoring-tbdr-architecture",children:"Ignoring TBDR Architecture"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"What it looks like"}),(0,n.jsx)(r.th,{children:"Why it's wrong"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Treating Apple GPU like immediate-mode renderer"}),(0,n.jsx)(r.td,{children:"Tile memory reads are free; bandwidth is not"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.strong,{children:"Instead"}),": Use ",(0,n.jsx)(r.code,{children:"[[color(n)]]"})," freely, prefer memoryless targets, avoid unnecessary store"]}),(0,n.jsx)(r.td,{})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"runtime-branching-for-constants",children:"Runtime Branching for Constants"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"What it looks like"}),(0,n.jsx)(r.th,{children:"Why it's wrong"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.code,{children:"if (material.useNormalMap)"})," checked every fragment"]}),(0,n.jsx)(r.td,{children:"Creates divergent warps, wastes ALU"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.strong,{children:"Instead"}),": Function constants + pipeline specialization"]}),(0,n.jsx)(r.td,{})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"intersection-queries-for-ray-tracing",children:"Intersection Queries for Ray Tracing"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"What it looks like"}),(0,n.jsx)(r.th,{children:"Why it's wrong"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Using query-based API"}),(0,n.jsx)(r.td,{children:"Doesn't align with hardware; less efficient grouping"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.strong,{children:"Instead"}),": Use intersector API with explicit result handling"]}),(0,n.jsx)(r.td,{})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"evolution-timeline",children:"Evolution Timeline"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Era"}),(0,n.jsx)(r.th,{children:"Key Development"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Pre-2020"}),(0,n.jsx)(r.td,{children:"Metal 2.x, OpenGL migration, basic compute"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"2020-2022"}),(0,n.jsx)(r.td,{children:"Apple Silicon, unified memory, tile shaders critical"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"2023-2024"}),(0,n.jsx)(r.td,{children:"Metal 3, mesh shaders, ray tracing HW acceleration"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"2025+"}),(0,n.jsx)(r.td,{children:"Neural Engine + GPU cooperation, Vision Pro foveated rendering"})]})]})]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Apple Family 9 Note"}),": Threadgroup memory less advantageous vs direct device access."]}),"\n",(0,n.jsx)(r.h2,{id:"philosophy-play-exposition-tools",children:"Philosophy: Play, Exposition, Tools"}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Play"}),": The best shaders come from experimentation and happy accidents. Try weird ideas, build beautiful effects."]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Exposition"}),": If you can't explain it clearly, you don't understand it yet. Comment generously, show the math visually."]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Tools"}),": A good debug tool saves 100 hours of guessing. Build visualization for every complex shader."]}),"\n",(0,n.jsx)(r.h2,{id:"core-competencies",children:"Core Competencies"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Area"}),(0,n.jsx)(r.th,{children:"Skills"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"MSL"})}),(0,n.jsx)(r.td,{children:"Kernel functions, vertex/fragment, tile shaders, ray tracing"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"Production"})}),(0,n.jsx)(r.td,{children:"Asset pipelines, artist-friendly parameters, fast iteration"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"Rendering"})}),(0,n.jsx)(r.td,{children:"PBR, IBL, volumetrics, post-processing, mesh shaders"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"Debug"})}),(0,n.jsx)(r.td,{children:"Heat maps, shader inspection, GPU profiling, custom overlays"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"mcp-integrations",children:"MCP Integrations"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"MCP"}),(0,n.jsx)(r.th,{children:"Purpose"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"Firecrawl"})}),(0,n.jsx)(r.td,{children:"Research SIGGRAPH papers, Apple GPU architecture"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"WebFetch"})}),(0,n.jsx)(r.td,{children:"Fetch Apple Metal documentation"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"reference-files",children:"Reference Files"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"File"}),(0,n.jsx)(r.th,{children:"Contents"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"references/pbr-shaders.md"})}),(0,n.jsx)(r.td,{children:"Cook-Torrance BRDF, material structs, lighting calculations"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"references/noise-effects.md"})}),(0,n.jsx)(r.td,{children:"Hash functions, FBM, Voronoi, domain warping, animated effects"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"references/debug-tools.md"})}),(0,n.jsx)(r.td,{children:"Heat maps, debug modes, overdraw viz, NaN detection, wireframe"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"integration-with-other-skills",children:"Integration with Other Skills"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"physics-rendering-expert"})," - Jacobi solver GPU compute shaders"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"native-app-designer"})," - Visualization and debugging UI"]}),"\n"]}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.em,{children:"Craft beautiful, performant Metal shaders with the artistry of film production and the pragmatism of real-time constraints."})})]})}function o(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}}}]);