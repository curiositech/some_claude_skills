"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[96311],{28453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>c});var s=r(96540);const i={},l=s.createContext(i);function t(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(l.Provider,{value:n},e.children)}},72647:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"skills/web_wave_designer/references/turbulence-deep-dive","title":"feTurbulence Deep Dive for Water Effects","description":"Understanding the turbulence vs fractalNoise Difference","source":"@site/docs/skills/web_wave_designer/references/turbulence-deep-dive.md","sourceDirName":"skills/web_wave_designer/references","slug":"/skills/web_wave_designer/references/turbulence-deep-dive","permalink":"/docs/skills/web_wave_designer/references/turbulence-deep-dive","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"feTurbulence Deep Dive for Water Effects","sidebar_label":"feTurbulence Deep Dive for ...","sidebar_position":3}}');var i=r(74848),l=r(28453);const t={title:"feTurbulence Deep Dive for Water Effects",sidebar_label:"feTurbulence Deep Dive for ...",sidebar_position:3},c="feTurbulence Deep Dive for Water Effects",a={},d=[{value:"Understanding the turbulence vs fractalNoise Difference",id:"understanding-the-turbulence-vs-fractalnoise-difference",level:2},{value:"type=&quot;turbulence&quot;",id:"typeturbulence",level:3},{value:"type=&quot;fractalNoise&quot;",id:"typefractalnoise",level:3},{value:"Two-Value baseFrequency for Directional Waves",id:"two-value-basefrequency-for-directional-waves",level:2},{value:"What Each Value Controls",id:"what-each-value-controls",level:3},{value:"Common Ratio Patterns",id:"common-ratio-patterns",level:3},{value:"Visual Examples",id:"visual-examples",level:3},{value:"numOctaves: Detail vs Performance",id:"numoctaves-detail-vs-performance",level:2},{value:"Recommended Values for Water",id:"recommended-values-for-water",level:3},{value:"Performance Impact",id:"performance-impact",level:3},{value:"Seed: Free Variation",id:"seed-free-variation",level:2},{value:"Using Seed for Layer Variation",id:"using-seed-for-layer-variation",level:3},{value:"Seed Animation for Morphing",id:"seed-animation-for-morphing",level:3},{value:"stitchTiles: Seamless Tiling",id:"stitchtiles-seamless-tiling",level:2},{value:"Advanced: Combining Multiple Turbulence Sources",id:"advanced-combining-multiple-turbulence-sources",level:2},{value:"Debugging Turbulence Output",id:"debugging-turbulence-output",level:2},{value:"Browser Compatibility Notes",id:"browser-compatibility-notes",level:2},{value:"Safari-Specific Issues",id:"safari-specific-issues",level:3}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"feturbulence-deep-dive-for-water-effects",children:"feTurbulence Deep Dive for Water Effects"})}),"\n",(0,i.jsx)(n.h2,{id:"understanding-the-turbulence-vs-fractalnoise-difference",children:"Understanding the turbulence vs fractalNoise Difference"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"type"})," attribute fundamentally changes how the Perlin noise is generated:"]}),"\n",(0,i.jsx)(n.h3,{id:"typeturbulence",children:'type="turbulence"'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Output = |noise(x,y)| + |noise(2x,2y)|/2 + |noise(4x,4y)|/4 + ...\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Takes absolute value of each octave"}),"\n",(0,i.jsx)(n.li,{children:"Creates continuous, flowing patterns"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Starts from transparent black"})," and builds up"]}),"\n",(0,i.jsx)(n.li,{children:"Perfect for: water, liquid, flowing effects"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"typefractalnoise",children:'type="fractalNoise"'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Output = noise(x,y) + noise(2x,2y)/2 + noise(4x,4y)/4 + ...\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Allows negative values (which wrap)"}),"\n",(0,i.jsx)(n.li,{children:"Creates cloud-like, billowy patches"}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Starts from solid midtone gray"})}),"\n",(0,i.jsx)(n.li,{children:"Perfect for: clouds, smoke, terrain"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"two-value-basefrequency-for-directional-waves",children:"Two-Value baseFrequency for Directional Waves"}),"\n",(0,i.jsxs)(n.p,{children:["The magic of water effects lies in using ",(0,i.jsx)(n.strong,{children:"different X and Y frequencies"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<feTurbulence baseFrequency="0.01 0.1" />\n                              \u2191    \u2191\n                              X    Y\n'})}),"\n",(0,i.jsx)(n.h3,{id:"what-each-value-controls",children:"What Each Value Controls"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Frequency"}),(0,i.jsx)(n.th,{children:"Low (0.005)"}),(0,i.jsx)(n.th,{children:"High (0.02)"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"X (horizontal)"})}),(0,i.jsx)(n.td,{children:"Long, stretched patterns"}),(0,i.jsx)(n.td,{children:"Short, choppy patterns"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Y (vertical)"})}),(0,i.jsx)(n.td,{children:"Minimal up/down variation"}),(0,i.jsx)(n.td,{children:"Strong vertical oscillation"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"common-ratio-patterns",children:"Common Ratio Patterns"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"X:Y Ratio    Effect                      Use Case\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n1:1          Circular ripples            Pool, pond, raindrops\n1:5          Horizontal ocean swells     Deep sea, calm ocean\n1:10         Long rolling waves          Beach view, shore\n1:15         Extreme horizontal stretch  Calm lake, mirror surface\n5:1          Vertical striations         Waterfall, streaming\n"})}),"\n",(0,i.jsx)(n.h3,{id:"visual-examples",children:"Visual Examples"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'baseFrequency="0.01 0.01"  \u2192  \u25cb \u25cb \u25cb    (circular ripples)\n                              \u25cb \u25cb \u25cb\n                              \u25cb \u25cb \u25cb\n\nbaseFrequency="0.01 0.1"   \u2192  ~~~~~~~~  (ocean waves)\n                              ~~~~~~~~\n                              ~~~~~~~~\n\nbaseFrequency="0.1 0.01"   \u2192  | | | |   (vertical streams)\n                              | | | |\n                              | | | |\n'})}),"\n",(0,i.jsx)(n.h2,{id:"numoctaves-detail-vs-performance",children:"numOctaves: Detail vs Performance"}),"\n",(0,i.jsx)(n.p,{children:"Each octave adds a layer of detail at half the scale:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Octave 1: \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591  (baseFrequency)\nOctave 2: \u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592  (2x frequency, 1/2 amplitude)\nOctave 3: \u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593  (4x frequency, 1/4 amplitude)\nOctave 4: \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  (8x frequency, 1/8 amplitude)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"recommended-values-for-water",children:"Recommended Values for Water"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"numOctaves"}),(0,i.jsx)(n.th,{children:"Visual Result"}),(0,i.jsx)(n.th,{children:"CPU Cost"}),(0,i.jsx)(n.th,{children:"Best For"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"1"}),(0,i.jsx)(n.td,{children:"Bold, cartoon waves"}),(0,i.jsx)(n.td,{children:"Minimal"}),(0,i.jsx)(n.td,{children:"Stylized/game water"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"2"}),(0,i.jsx)(n.td,{children:"Simple, clean ripples"}),(0,i.jsx)(n.td,{children:"Low"}),(0,i.jsx)(n.td,{children:"Pool, calm water"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"3"}),(0,i.jsx)(n.td,{children:"Natural ocean surface"}),(0,i.jsx)(n.td,{children:"Medium"}),(0,i.jsx)(n.td,{children:"General purpose"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"4"}),(0,i.jsx)(n.td,{children:"Detailed, realistic"}),(0,i.jsx)(n.td,{children:"High"}),(0,i.jsx)(n.td,{children:"Hero sections"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"5+"}),(0,i.jsx)(n.td,{children:"Diminishing returns"}),(0,i.jsx)(n.td,{children:"Very High"}),(0,i.jsx)(n.td,{children:"Avoid"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"performance-impact",children:"Performance Impact"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Octaves    Relative CPU\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n1          1x\n2          2x\n3          4x\n4          8x\n5          16x (wasteful)\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Rule"}),": If you can't see the difference between 4 and 5 octaves, use 4."]}),"\n",(0,i.jsx)(n.h2,{id:"seed-free-variation",children:"Seed: Free Variation"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"seed"})," attribute changes the random seed for the noise function. This is ",(0,i.jsx)(n.strong,{children:"computationally free"})," - same performance regardless of value."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'\x3c!-- These have identical performance --\x3e\n<feTurbulence seed="1" />\n<feTurbulence seed="99999" />\n'})}),"\n",(0,i.jsx)(n.h3,{id:"using-seed-for-layer-variation",children:"Using Seed for Layer Variation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<filter id="wave1"><feTurbulence seed="1" /></filter>\n<filter id="wave2"><feTurbulence seed="42" /></filter>\n<filter id="wave3"><feTurbulence seed="999" /></filter>\n'})}),"\n",(0,i.jsx)(n.h3,{id:"seed-animation-for-morphing",children:"Seed Animation for Morphing"}),"\n",(0,i.jsx)(n.p,{children:'Animating seed creates a "morphing" effect without the performance hit of baseFrequency animation:'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<feTurbulence seed="1">\n  <animate\n    attributeName="seed"\n    values="1;10;20;30;20;10;1"\n    dur="30s"\n    repeatCount="indefinite"\n  />\n</feTurbulence>\n'})}),"\n",(0,i.jsx)(n.p,{children:"This creates subtle shape variation without the constant filter recalculation."}),"\n",(0,i.jsx)(n.h2,{id:"stitchtiles-seamless-tiling",children:"stitchTiles: Seamless Tiling"}),"\n",(0,i.jsxs)(n.p,{children:["For repeating backgrounds, use ",(0,i.jsx)(n.code,{children:'stitchTiles="stitch"'}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<feTurbulence\n  baseFrequency="0.01 0.1"\n  stitchTiles="stitch"  \x3c!-- Makes pattern tileable --\x3e\n/>\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Warning"}),": This can change the visual output slightly. Test both values."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Value"}),(0,i.jsx)(n.th,{children:"Effect"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"noStitch"})," (default)"]}),(0,i.jsx)(n.td,{children:"Natural randomness, may show seams when tiled"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"stitch"})}),(0,i.jsx)(n.td,{children:"Forces seamless tiling, slightly different pattern"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"advanced-combining-multiple-turbulence-sources",children:"Advanced: Combining Multiple Turbulence Sources"}),"\n",(0,i.jsx)(n.p,{children:"For complex water, layer different turbulence patterns:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<filter id="complexWater">\n  \x3c!-- Large swells --\x3e\n  <feTurbulence\n    type="turbulence"\n    baseFrequency="0.003 0.03"\n    numOctaves="2"\n    seed="1"\n    result="swells"\n  />\n\n  \x3c!-- Surface chop --\x3e\n  <feTurbulence\n    type="turbulence"\n    baseFrequency="0.02 0.15"\n    numOctaves="3"\n    seed="2"\n    result="chop"\n  />\n\n  \x3c!-- Combine: swells drive major displacement, chop adds detail --\x3e\n  <feDisplacementMap in="SourceGraphic" in2="swells" scale="30" result="displaced1"/>\n  <feDisplacementMap in="displaced1" in2="chop" scale="10" result="final"/>\n</filter>\n'})}),"\n",(0,i.jsx)(n.h2,{id:"debugging-turbulence-output",children:"Debugging Turbulence Output"}),"\n",(0,i.jsx)(n.p,{children:"To see what the raw turbulence looks like:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<filter id="debug">\n  <feTurbulence type="turbulence" baseFrequency="0.01 0.1" result="noise"/>\n  \x3c!-- Output noise directly (no source graphic needed) --\x3e\n  <feColorMatrix in="noise" type="saturate" values="0"/>\n</filter>\n\n<rect width="400" height="200" filter="url(#debug)"/>\n'})}),"\n",(0,i.jsx)(n.p,{children:"This renders the raw noise pattern, helping you understand what different parameters produce."}),"\n",(0,i.jsx)(n.h2,{id:"browser-compatibility-notes",children:"Browser Compatibility Notes"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Browser"}),(0,i.jsx)(n.th,{children:"Support"}),(0,i.jsx)(n.th,{children:"Notes"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Chrome"}),(0,i.jsx)(n.td,{children:"Full"}),(0,i.jsx)(n.td,{children:"Best performance, GPU accelerated"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Firefox"}),(0,i.jsx)(n.td,{children:"Full"}),(0,i.jsx)(n.td,{children:"Good performance"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Safari"}),(0,i.jsx)(n.td,{children:"Full"}),(0,i.jsx)(n.td,{children:"Watch for iOS memory limits"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Edge"}),(0,i.jsx)(n.td,{children:"Full"}),(0,i.jsx)(n.td,{children:"Chromium-based, same as Chrome"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"IE11"}),(0,i.jsx)(n.td,{children:"Partial"}),(0,i.jsx)(n.td,{children:"Avoid animations, may crash"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"safari-specific-issues",children:"Safari-Specific Issues"}),"\n",(0,i.jsx)(n.p,{children:"Safari on iOS may have memory issues with:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"numOctaves > 4"}),"\n",(0,i.jsx)(n.li,{children:"Multiple animated filters"}),"\n",(0,i.jsx)(n.li,{children:"Large filter regions"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Workaround"}),": Detect Safari and reduce complexity:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\nconst maxOctaves = isSafari ? 3 : 4;\n"})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);