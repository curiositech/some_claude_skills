"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[35545],{28453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>d});var i=r(96540);const s={},l=i.createContext(s);function t(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(l.Provider,{value:n},e.children)}},43101:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"skills/react_performance_optimizer/references/profiling-guide","title":"React DevTools Profiler Guide","description":"Complete guide to identifying and fixing performance issues using React DevTools Profiler.","source":"@site/docs/skills/react_performance_optimizer/references/profiling-guide.md","sourceDirName":"skills/react_performance_optimizer/references","slug":"/skills/react_performance_optimizer/references/profiling-guide","permalink":"/docs/skills/react_performance_optimizer/references/profiling-guide","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"React DevTools Profiler Guide","sidebar_label":"React DevTools Profiler Guide","sidebar_position":3}}');var s=r(74848),l=r(28453);const t={title:"React DevTools Profiler Guide",sidebar_label:"React DevTools Profiler Guide",sidebar_position:3},d="React DevTools Profiler Guide",o={},a=[{value:"Installation",id:"installation",level:2},{value:"The Profiler Tab",id:"the-profiler-tab",level:2},{value:"Where to Find It",id:"where-to-find-it",level:3},{value:"Recording a Profile",id:"recording-a-profile",level:2},{value:"Method 1: User Interaction",id:"method-1-user-interaction",level:3},{value:"Method 2: Page Load",id:"method-2-page-load",level:3},{value:"Reading the Flame Graph",id:"reading-the-flame-graph",level:2},{value:"What Each Color Means",id:"what-each-color-means",level:3},{value:"Example Interpretation",id:"example-interpretation",level:3},{value:"Understanding &quot;Why Did This Render?&quot;",id:"understanding-why-did-this-render",level:2},{value:"1. Props Changed",id:"1-props-changed",level:3},{value:"2. Parent Rendered",id:"2-parent-rendered",level:3},{value:"3. State Changed",id:"3-state-changed",level:3},{value:"4. Context Changed",id:"4-context-changed",level:3},{value:"Common Patterns and Fixes",id:"common-patterns-and-fixes",level:2},{value:"Pattern 1: Entire Tree Re-renders on Unrelated State Change",id:"pattern-1-entire-tree-re-renders-on-unrelated-state-change",level:3},{value:"Pattern 2: List Renders Slowly",id:"pattern-2-list-renders-slowly",level:3},{value:"Pattern 3: Parent Passes New Callback on Every Render",id:"pattern-3-parent-passes-new-callback-on-every-render",level:3},{value:"Pattern 4: Expensive Calculation on Every Render",id:"pattern-4-expensive-calculation-on-every-render",level:3},{value:"Profiler Settings",id:"profiler-settings",level:2},{value:"Record Why Components Rendered",id:"record-why-components-rendered",level:3},{value:"Highlight Updates",id:"highlight-updates",level:3},{value:"Profiling Production Builds",id:"profiling-production-builds",level:2},{value:"Why Profile Production?",id:"why-profile-production",level:3},{value:"How to Profile Production",id:"how-to-profile-production",level:3},{value:"Metrics to Target",id:"metrics-to-target",level:2},{value:"Real-World Example",id:"real-world-example",level:2},{value:"Problem: Slow Dashboard",id:"problem-slow-dashboard",level:3},{value:"Debugging Workflow",id:"debugging-workflow",level:2},{value:"Common Mistakes",id:"common-mistakes",level:2},{value:"Mistake 1: Profiling in Development",id:"mistake-1-profiling-in-development",level:3},{value:"Mistake 2: Optimizing Green Components",id:"mistake-2-optimizing-green-components",level:3},{value:"Mistake 3: Ignoring &quot;Why Did This Render?&quot;",id:"mistake-3-ignoring-why-did-this-render",level:3},{value:"Mistake 4: Not Testing After Changes",id:"mistake-4-not-testing-after-changes",level:3},{value:"Advanced Techniques",id:"advanced-techniques",level:2},{value:"Custom Profiler API",id:"custom-profiler-api",level:3},{value:"User Timing API",id:"user-timing-api",level:3},{value:"Resources",id:"resources",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"react-devtools-profiler-guide",children:"React DevTools Profiler Guide"})}),"\n",(0,s.jsx)(n.p,{children:"Complete guide to identifying and fixing performance issues using React DevTools Profiler."}),"\n",(0,s.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Chrome Extension\nhttps://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi\n\n# Firefox Add-on\nhttps://addons.mozilla.org/en-US/firefox/addon/react-devtools/\n\n# Standalone\nnpm install -g react-devtools\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"the-profiler-tab",children:"The Profiler Tab"}),"\n",(0,s.jsx)(n.h3,{id:"where-to-find-it",children:"Where to Find It"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Open React DevTools (browser extension or standalone)"}),"\n",(0,s.jsxs)(n.li,{children:["Click the ",(0,s.jsx)(n.strong,{children:"Profiler"})," tab"]}),"\n",(0,s.jsxs)(n.li,{children:["You'll see:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u23fa\ufe0f Record button - Start/stop profiling"}),"\n",(0,s.jsx)(n.li,{children:"\ud83d\udd04 Reload and profile button - Profile page load"}),"\n",(0,s.jsx)(n.li,{children:"\u2699\ufe0f Settings gear - Configure profiling options"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"recording-a-profile",children:"Recording a Profile"}),"\n",(0,s.jsx)(n.h3,{id:"method-1-user-interaction",children:"Method 1: User Interaction"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"1. Click \u23fa\ufe0f Record\n2. Interact with your app (click button, type, scroll, etc.)\n3. Click \u23f9\ufe0f Stop\n4. Analyze the flame graph\n"})}),"\n",(0,s.jsx)(n.h3,{id:"method-2-page-load",children:"Method 2: Page Load"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"1. Click \ud83d\udd04 Reload and profile\n2. Wait for page to fully load\n3. Profiler automatically stops\n4. Analyze initial render performance\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"reading-the-flame-graph",children:"Reading the Flame Graph"}),"\n",(0,s.jsx)(n.h3,{id:"what-each-color-means",children:"What Each Color Means"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Colors"})," (gradient from green to yellow to red):"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\ud83d\udfe2 ",(0,s.jsx)(n.strong,{children:"Green"}),": Fast render (<1ms)"]}),"\n",(0,s.jsxs)(n.li,{children:["\ud83d\udfe1 ",(0,s.jsx)(n.strong,{children:"Yellow"}),": Moderate render (1-10ms)"]}),"\n",(0,s.jsxs)(n.li,{children:["\ud83d\udd34 ",(0,s.jsx)(n.strong,{children:"Red"}),": Slow render (>10ms)"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Width"}),": How long the component took to render"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Hover"}),": See exact render time and why it rendered"]}),"\n",(0,s.jsx)(n.h3,{id:"example-interpretation",children:"Example Interpretation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"App (25ms)\n\u251c\u2500\u2500 Navbar (2ms)         \u2705 Fast\n\u251c\u2500\u2500 Sidebar (1ms)        \u2705 Fast\n\u2514\u2500\u2500 Dashboard (22ms)     \ud83d\udd34 SLOW - investigate!\n    \u251c\u2500\u2500 UserList (20ms)  \ud83d\udd34 SLOW - root cause\n    \u2514\u2500\u2500 Stats (2ms)      \u2705 Fast\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Diagnosis"}),": UserList is the bottleneck (20ms of 25ms total)"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"understanding-why-did-this-render",children:'Understanding "Why Did This Render?"'}),"\n",(0,s.jsx)(n.p,{children:"Click on a component in the flame graph to see:"}),"\n",(0,s.jsx)(n.h3,{id:"1-props-changed",children:"1. Props Changed"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Why did this render?\n\u2022 Props changed: { userId: 123 }\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Fix"}),": If props didn't actually change, wrap parent in ",(0,s.jsx)(n.code,{children:"React.memo"})," or memoize the prop value."]}),"\n",(0,s.jsx)(n.h3,{id:"2-parent-rendered",children:"2. Parent Rendered"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Why did this render?\n\u2022 Parent component rendered\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Fix"}),": Wrap this component in ",(0,s.jsx)(n.code,{children:"React.memo"})," to prevent cascading re-renders."]}),"\n",(0,s.jsx)(n.h3,{id:"3-state-changed",children:"3. State Changed"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Why did this render?\n\u2022 Hook 1 changed\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Fix"}),": This is expected. Ensure state updates are necessary."]}),"\n",(0,s.jsx)(n.h3,{id:"4-context-changed",children:"4. Context Changed"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Why did this render?\n\u2022 Context changed\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Fix"}),": Split context into smaller pieces or memoize context value."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"common-patterns-and-fixes",children:"Common Patterns and Fixes"}),"\n",(0,s.jsx)(n.h3,{id:"pattern-1-entire-tree-re-renders-on-unrelated-state-change",children:"Pattern 1: Entire Tree Re-renders on Unrelated State Change"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Symptom"}),": Changing state in Header causes Footer to re-render"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Flame Graph"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"App (50ms)              \ud83d\udd34\n\u251c\u2500\u2500 Header (2ms)        \ud83d\udfe1\n\u251c\u2500\u2500 Content (40ms)      \ud83d\udd34 Unnecessary\n\u2514\u2500\u2500 Footer (8ms)        \ud83d\udd34 Unnecessary\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Fix"}),": Wrap components in React.memo"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const Header = React.memo(({ title }) => {\n  return <header>{title}</header>;\n});\n\nconst Content = React.memo(({ children }) => {\n  return <main>{children}</main>;\n});\n\nconst Footer = React.memo(() => {\n  return <footer>Footer</footer>;\n});\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Result"}),": Only Header re-renders"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"App (2ms)               \ud83d\udfe2\n\u2514\u2500\u2500 Header (2ms)        \ud83d\udfe2\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"pattern-2-list-renders-slowly",children:"Pattern 2: List Renders Slowly"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Symptom"}),": Rendering 1000-item list takes >500ms"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Flame Graph"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"UserList (500ms)        \ud83d\udd34\n\u251c\u2500\u2500 UserCard (0.5ms) x1000\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Fix"}),": Virtualize with react-window"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { FixedSizeList } from 'react-window';\n\nfunction UserList({ users }) {\n  return (\n    <FixedSizeList\n      height={600}\n      itemCount={users.length}\n      itemSize={50}\n      width=\"100%\"\n    >\n      {({ index, style }) => (\n        <div style={style}>\n          <UserCard user={users[index]} />\n        </div>\n      )}\n    </FixedSizeList>\n  );\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Result"}),": Render time drops to <50ms"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"UserList (50ms)         \ud83d\udfe2\n\u2514\u2500\u2500 UserCard (0.5ms) x12  (only visible items)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"pattern-3-parent-passes-new-callback-on-every-render",children:"Pattern 3: Parent Passes New Callback on Every Render"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Symptom"}),": Child wrapped in React.memo still re-renders"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Flame Graph"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Parent (30ms)\n\u2514\u2500\u2500 Child (28ms)        \ud83d\udd34 Re-renders despite React.memo\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Why"}),": Parent passes new function reference"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// \u274c Creates new function every render\nfunction Parent() {\n  return <Child onClick={() => console.log('clicked')} />;\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Fix"}),": Memoize callback with useCallback"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Stable function reference\nfunction Parent() {\n  const handleClick = useCallback(() => {\n    console.log('clicked');\n  }, []);\n\n  return <Child onClick={handleClick} />;\n}\n\nconst Child = React.memo(({ onClick }) => {\n  return <button onClick={onClick}>Click me</button>;\n});\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Result"}),": Child no longer re-renders"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"pattern-4-expensive-calculation-on-every-render",children:"Pattern 4: Expensive Calculation on Every Render"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Symptom"}),": Component takes 100ms but doesn't render anything complex"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Flame Graph"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"ProductList (100ms)     \ud83d\udd34\n\u2514\u2500\u2500 (no children, just slow)\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Code"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"function ProductList({ products }) {\n  // \u274c Sorts on every render\n  const sorted = products.sort((a, b) => b.price - a.price);\n\n  return <div>{sorted.map(p => <Product product={p} />)}</div>;\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Fix"}),": Memoize expensive calculation"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"function ProductList({ products }) {\n  // \u2705 Only re-sorts when products change\n  const sorted = useMemo(\n    () => [...products].sort((a, b) => b.price - a.price),\n    [products]\n  );\n\n  return <div>{sorted.map(p => <Product product={p} />)}</div>;\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Result"}),": Render time drops from 100ms \u2192 5ms"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"profiler-settings",children:"Profiler Settings"}),"\n",(0,s.jsx)(n.h3,{id:"record-why-components-rendered",children:"Record Why Components Rendered"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Enable"}),': Settings \u2699\ufe0f \u2192 "Record why each component rendered while profiling"']}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Benefit"}),": See exact cause (props, state, context, parent)"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Trade-off"}),": Slight performance overhead during profiling"]}),"\n",(0,s.jsx)(n.h3,{id:"highlight-updates",children:"Highlight Updates"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Enable"}),': Settings \u2699\ufe0f \u2192 "Highlight updates when components render"']}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Benefit"}),": See which components re-render in real-time (blue flash)"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Use case"}),": Quickly spot unnecessary re-renders without profiling"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"profiling-production-builds",children:"Profiling Production Builds"}),"\n",(0,s.jsx)(n.h3,{id:"why-profile-production",children:"Why Profile Production?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Development mode is 2-5x slower (extra checks, warnings)"}),"\n",(0,s.jsx)(n.li,{children:"Only production profiling shows real user experience"}),"\n",(0,s.jsx)(n.li,{children:"Tree-shaking and minification affect bundle size"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"how-to-profile-production",children:"How to Profile Production"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Option 1: Build with profiling enabled"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# React (webpack)\nnpx react-app-rewired build --profile\n\n# Next.js\nNEXT_PUBLIC_PROFILING=true npm run build\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Option 2: Use profiling build"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Use production build with profiling\nimport { unstable_trace as trace } from 'scheduler/tracing';\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"metrics-to-target",children:"Metrics to Target"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Metric"}),(0,s.jsx)(n.th,{children:"Excellent"}),(0,s.jsx)(n.th,{children:"Good"}),(0,s.jsx)(n.th,{children:"Needs Work"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Component render time"}),(0,s.jsx)(n.td,{children:"<5ms"}),(0,s.jsx)(n.td,{children:"5-16ms"}),(0,s.jsx)(n.td,{children:">16ms (visible lag)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Total page load"}),(0,s.jsx)(n.td,{children:"<1s"}),(0,s.jsx)(n.td,{children:"1-3s"}),(0,s.jsx)(n.td,{children:">3s"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Interaction response"}),(0,s.jsx)(n.td,{children:"<100ms"}),(0,s.jsx)(n.td,{children:"100-300ms"}),(0,s.jsx)(n.td,{children:">300ms (feels slow)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"List item render"}),(0,s.jsx)(n.td,{children:"<1ms"}),(0,s.jsx)(n.td,{children:"1-5ms"}),(0,s.jsx)(n.td,{children:">5ms (virtualize)"})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"The 16ms Rule"}),": 60 FPS = 16.67ms per frame. Renders >16ms cause dropped frames."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"real-world-example",children:"Real-World Example"}),"\n",(0,s.jsx)(n.h3,{id:"problem-slow-dashboard",children:"Problem: Slow Dashboard"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Flame Graph"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Dashboard (180ms)       \ud83d\udd34\n\u251c\u2500\u2500 Sidebar (2ms)\n\u251c\u2500\u2500 Header (3ms)\n\u2514\u2500\u2500 DataTable (175ms)   \ud83d\udd34\n    \u251c\u2500\u2500 TableHeader (2ms)\n    \u2514\u2500\u2500 TableBody (173ms) \ud83d\udd34\n        \u251c\u2500\u2500 Row (0.17ms) x1000\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Diagnosis"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"DataTable is bottleneck (175ms of 180ms)"}),"\n",(0,s.jsx)(n.li,{children:"Rendering 1000 rows (0.17ms each = 170ms total)"}),"\n",(0,s.jsx)(n.li,{children:"Even though each row is fast, rendering 1000 is slow"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Fix"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { FixedSizeList } from 'react-window';\n\nfunction DataTable({ rows }) {\n  return (\n    <FixedSizeList\n      height={600}\n      itemCount={rows.length}\n      itemSize={40}\n    >\n      {({ index, style }) => (\n        <Row style={style} data={rows[index]} />\n      )}\n    </FixedSizeList>\n  );\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Result"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Dashboard (15ms)        \ud83d\udfe2\n\u251c\u2500\u2500 Sidebar (2ms)\n\u251c\u2500\u2500 Header (3ms)\n\u2514\u2500\u2500 DataTable (10ms)    \ud83d\udfe2\n    \u2514\u2500\u2500 Row (0.17ms) x15  (only visible rows)\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Improvement"}),": 180ms \u2192 15ms (92% faster!)"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"debugging-workflow",children:"Debugging Workflow"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Identify slow component"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Record profile"}),"\n",(0,s.jsx)(n.li,{children:"Look for red/yellow bars in flame graph"}),"\n",(0,s.jsx)(n.li,{children:"Click to see render time"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Understand why it's slow"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'Check "Why did this render?"'}),"\n",(0,s.jsx)(n.li,{children:"Is it rendering unnecessarily?"}),"\n",(0,s.jsx)(n.li,{children:"Is the render itself expensive?"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Apply fix"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Unnecessary re-renders? \u2192 React.memo, useCallback"}),"\n",(0,s.jsx)(n.li,{children:"Expensive calculation? \u2192 useMemo"}),"\n",(0,s.jsx)(n.li,{children:"Large list? \u2192 Virtualization"}),"\n",(0,s.jsx)(n.li,{children:"Heavy component? \u2192 Code splitting with React.lazy"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Verify improvement"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Record new profile"}),"\n",(0,s.jsx)(n.li,{children:"Compare before/after"}),"\n",(0,s.jsx)(n.li,{children:"Target: Green bars, <16ms render time"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"common-mistakes",children:"Common Mistakes"}),"\n",(0,s.jsx)(n.h3,{id:"mistake-1-profiling-in-development",children:"Mistake 1: Profiling in Development"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem"}),": Dev mode is 2-5x slower than production"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution"}),": Always profile production builds for accurate measurements"]}),"\n",(0,s.jsx)(n.h3,{id:"mistake-2-optimizing-green-components",children:"Mistake 2: Optimizing Green Components"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem"}),": Spending time memoizing fast components (<5ms)"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution"}),": Focus on red/yellow bars first (>10ms)"]}),"\n",(0,s.jsx)(n.h3,{id:"mistake-3-ignoring-why-did-this-render",children:'Mistake 3: Ignoring "Why Did This Render?"'}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem"}),": Blindly adding useMemo/useCallback everywhere"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution"}),": Click component to see actual render cause, then fix root issue"]}),"\n",(0,s.jsx)(n.h3,{id:"mistake-4-not-testing-after-changes",children:"Mistake 4: Not Testing After Changes"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem"}),": Optimization doesn't actually improve performance"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution"}),": Record before/after profiles to verify improvement"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"advanced-techniques",children:"Advanced Techniques"}),"\n",(0,s.jsx)(n.h3,{id:"custom-profiler-api",children:"Custom Profiler API"}),"\n",(0,s.jsx)(n.p,{children:"Programmatically measure render performance:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'import { Profiler } from \'react\';\n\nfunction onRenderCallback(\n  id,                  // "DataTable"\n  phase,               // "mount" or "update"\n  actualDuration,      // Time spent rendering\n  baseDuration,        // Estimated time without memoization\n  startTime,           // When render started\n  commitTime,          // When render committed\n  interactions         // Set of interactions\n) {\n  console.log(`${id} took ${actualDuration}ms to render`);\n\n  // Send to analytics\n  if (actualDuration > 16) {\n    analytics.track(\'Slow Render\', { id, actualDuration });\n  }\n}\n\nfunction App() {\n  return (\n    <Profiler id="DataTable" onRender={onRenderCallback}>\n      <DataTable />\n    </Profiler>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"user-timing-api",children:"User Timing API"}),"\n",(0,s.jsx)(n.p,{children:"Add custom markers:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"function DataTable() {\n  performance.mark('data-table-render-start');\n\n  // Rendering logic\n\n  performance.mark('data-table-render-end');\n  performance.measure(\n    'DataTable Render',\n    'data-table-render-start',\n    'data-table-render-end'\n  );\n\n  return <div>...</div>;\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"View in Performance tab of browser DevTools."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://react.dev/learn/react-developer-tools",children:"React DevTools Profiler Docs"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://react.dev/reference/react/Profiler",children:"Profiling Performance"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://developer.chrome.com/docs/devtools/performance/",children:"Chrome Performance Tab"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);