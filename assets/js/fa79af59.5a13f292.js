"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[77683],{28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>o});var r=t(96540);const a={},i=r.createContext(a);function s(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(i.Provider,{value:n},e.children)}},49022:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"skills/personal_finance_coach/references/withdrawal-math","title":"Withdrawal Mathematics","description":"The Trinity Study (Updated Research)","source":"@site/docs/skills/personal_finance_coach/references/withdrawal-math.md","sourceDirName":"skills/personal_finance_coach/references","slug":"/skills/personal_finance_coach/references/withdrawal-math","permalink":"/docs/skills/personal_finance_coach/references/withdrawal-math","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Withdrawal Mathematics","sidebar_label":"Withdrawal Mathematics","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Tax Optimization Strategies","permalink":"/docs/skills/personal_finance_coach/references/tax-optimization"},"next":{"title":"Tech Entrepreneur Coach Adhd","permalink":"/docs/skills/tech_entrepreneur_coach_adhd/"}}');var a=t(74848),i=t(28453);const s={title:"Withdrawal Mathematics",sidebar_label:"Withdrawal Mathematics",sidebar_position:3},o="Withdrawal Mathematics",l={},c=[{value:"The Trinity Study (Updated Research)",id:"the-trinity-study-updated-research",level:2},{value:"Monte Carlo Retirement Simulation",id:"monte-carlo-retirement-simulation",level:2},{value:"FIRE Calculations",id:"fire-calculations",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"withdrawal-mathematics",children:"Withdrawal Mathematics"})}),"\n",(0,a.jsx)(n.h2,{id:"the-trinity-study-updated-research",children:"The Trinity Study (Updated Research)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"ORIGINAL TRINITY STUDY (Cooley, Hubbard, Walz, 1998):\n\u251c\u2500\u2500 Analyzed 1926-1995 data\n\u251c\u2500\u2500 30-year retirement periods\n\u251c\u2500\u2500 Various stock/bond allocations\n\u2514\u2500\u2500 Conclusion: 4% withdrawal rate had ~95% success\n\nUPDATED RESEARCH (Bengen, Kitces, ERN, etc.):\n\nVARIABLE SWR BY STARTING VALUATION:\n\u251c\u2500\u2500 CAPE under 12: 5.0%+ SWR historically safe\n\u251c\u2500\u2500 CAPE 12-18: 4.0% SWR historically safe\n\u251c\u2500\u2500 CAPE 18-25: 3.5% SWR more prudent\n\u251c\u2500\u2500 CAPE over 25: 3.0-3.5% SWR recommended\n\u2514\u2500\u2500 Current CAPE (2024): ~33 \u2192 Be conservative\n\nDYNAMIC WITHDRAWAL STRATEGIES:\n\n1. GUYTON-KLINGER GUARDRAILS:\n   \u251c\u2500\u2500 Start at 4-5%\n   \u251c\u2500\u2500 If withdrawal rate rises 20% above initial: cut 10%\n   \u251c\u2500\u2500 If withdrawal rate falls 20% below initial: raise 10%\n   \u2514\u2500\u2500 Higher initial rate, but flexibility required\n\n2. VPW (Variable Percentage Withdrawal):\n   \u251c\u2500\u2500 Recalculate each year based on:\n   \u2502   remaining_years = life_expectancy - current_age\n   \u2502   withdrawal = portfolio / remaining_years\n   \u251c\u2500\u2500 Adjusts for portfolio performance\n   \u2514\u2500\u2500 Never runs out, but income varies\n\n3. CAPE-BASED WITHDRAWAL:\n   \u251c\u2500\u2500 SWR = 1 / (CAPE \xd7 0.5)\n   \u251c\u2500\u2500 When CAPE = 20: SWR = 1 / 10 = 10%... too high\n   \u251c\u2500\u2500 Better: SWR = min(5%, 1/CAPE + 1%)\n   \u2514\u2500\u2500 Adjusts to market valuation\n"})}),"\n",(0,a.jsx)(n.h2,{id:"monte-carlo-retirement-simulation",children:"Monte Carlo Retirement Simulation"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"def simulate_retirement(portfolio: float, allocation: tuple,\n                       withdrawal_rate: float, years: int = 30,\n                       simulations: int = 10000) -> dict:\n    \"\"\"\n    Monte Carlo retirement simulation.\n\n    Args:\n        portfolio: Starting portfolio value\n        allocation: (stocks_pct, bonds_pct)\n        withdrawal_rate: Initial withdrawal as % of portfolio\n        years: Retirement length\n        simulations: Number of Monte Carlo runs\n\n    Returns:\n        Success rate, median ending value, percentiles\n    \"\"\"\n    import numpy as np\n\n    # Historical parameters (adjust for expectations)\n    stock_return = 0.07  # Real return\n    stock_vol = 0.18\n    bond_return = 0.02   # Real return\n    bond_vol = 0.06\n    correlation = 0.0    # Stock-bond correlation\n\n    stock_pct, bond_pct = allocation\n    initial_withdrawal = portfolio * withdrawal_rate\n\n    results = []\n\n    for _ in range(simulations):\n        value = portfolio\n        withdrawal = initial_withdrawal\n\n        for year in range(years):\n            # Generate correlated returns\n            z1 = np.random.normal()\n            z2 = correlation * z1 + np.sqrt(1 - correlation**2) * np.random.normal()\n\n            stock_r = stock_return + stock_vol * z1\n            bond_r = bond_return + bond_vol * z2\n\n            portfolio_return = stock_pct * stock_r + bond_pct * bond_r\n\n            # Beginning of year withdrawal\n            value -= withdrawal\n            if value <= 0:\n                value = 0\n                break\n\n            # Growth\n            value *= (1 + portfolio_return)\n\n            # Inflation adjustment (withdrawal grows with inflation)\n            withdrawal *= 1.03  # 3% inflation assumption\n\n        results.append(value)\n\n    results = np.array(results)\n    success_rate = np.mean(results > 0)\n\n    return {\n        'success_rate': success_rate,\n        'median_ending': np.median(results[results > 0]) if success_rate > 0 else 0,\n        'percentile_10': np.percentile(results, 10),\n        'percentile_25': np.percentile(results, 25),\n        'percentile_75': np.percentile(results, 75),\n        'percentile_90': np.percentile(results, 90),\n        'failures': int((1 - success_rate) * simulations)\n    }\n\n# Example usage:\n# result = simulate_retirement(\n#     portfolio=1_000_000,\n#     allocation=(0.6, 0.4),\n#     withdrawal_rate=0.04,\n#     years=30\n# )\n# print(f\"Success rate: {result['success_rate']:.1%}\")\n# print(f\"Median ending: ${result['median_ending']:,.0f}\")\n"})}),"\n",(0,a.jsx)(n.h2,{id:"fire-calculations",children:"FIRE Calculations"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'FINANCIAL INDEPENDENCE NUMBER\n\nSTANDARD: Annual Expenses \xd7 25\n(Assumes 4% SWR)\n\nCONSERVATIVE: Annual Expenses \xd7 33\n(Assumes 3% SWR, more appropriate today)\n\nFAT FIRE: Annual Expenses \xd7 33 + Buffer\n\u251c\u2500\u2500 Includes luxury spending\n\u251c\u2500\u2500 Healthcare buffer\n\u251c\u2500\u2500 "Nice to have" budget\n\u2514\u2500\u2500 Typically $2.5M+\n\nLEAN FIRE: Minimal Expenses \xd7 25\n\u251c\u2500\u2500 Bare bones budget\n\u251c\u2500\u2500 Geographic arbitrage\n\u251c\u2500\u2500 $500K - $1M range\n\u2514\u2500\u2500 Less margin for error\n\nCOAST FIRE:\n\u251c\u2500\u2500 Save enough that growth alone funds retirement\n\u251c\u2500\u2500 Formula: FI_number / (1 + growth_rate)^years_to_retirement\n\u251c\u2500\u2500 Example: Need $2M at 65, currently 35\n\u2502   \u2514\u2500\u2500 Coast number: $2M / 1.07^30 = $263K\n\u2514\u2500\u2500 After hitting coast number, can reduce savings rate\n\nBARISTA FIRE:\n\u251c\u2500\u2500 Enough to part-time work for benefits\n\u251c\u2500\u2500 Portfolio covers most expenses\n\u251c\u2500\u2500 Job covers health insurance + discretionary\n\u2514\u2500\u2500 Common: $500K-$1M + part-time income\n'})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);