"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[98656],{28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var i=s(96540);const t={},r=i.createContext(t);function o(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(r.Provider,{value:n},e.children)}},31875:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"skills/crisis_detection_intervention_ai/index","title":"\ud83e\udd16 Crisis Detection Intervention Ai","description":"Detect crisis signals in user content using NLP, mental health sentiment analysis, and safe intervention protocols. Implements suicide ideation detection, automated escalation, and crisis resource integration. Use for mental health apps, recovery platforms, support communities. Activate on \\"crisis detection\\", \\"suicide prevention\\", \\"mental health NLP\\", \\"intervention protocol\\". NOT for general sentiment analysis, medical diagnosis, or replacing professional help.","source":"@site/docs/skills/crisis_detection_intervention_ai/index.md","sourceDirName":"skills/crisis_detection_intervention_ai","slug":"/skills/crisis_detection_intervention_ai/","permalink":"/docs/skills/crisis_detection_intervention_ai/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Crisis Detection Intervention Ai","sidebar_position":1}}');var t=s(74848),r=s(28453);const o={sidebar_label:"Crisis Detection Intervention Ai",sidebar_position:1},l="\ud83e\udd16 Crisis Detection Intervention Ai",a={},c=[{value:"Allowed Tools",id:"allowed-tools",level:2},{value:"References",id:"references",level:2},{value:"\u26a0\ufe0f ETHICAL DISCLAIMER",id:"\ufe0f-ethical-disclaimer",level:2},{value:"When to Use",id:"when-to-use",level:2},{value:"Quick Decision Tree",id:"quick-decision-tree",level:2},{value:"Technology Selection",id:"technology-selection",level:2},{value:"NLP Models for Mental Health (2024)",id:"nlp-models-for-mental-health-2024",level:3},{value:"Common Anti-Patterns",id:"common-anti-patterns",level:2},{value:"Anti-Pattern 1: Using Generic Sentiment Analysis",id:"anti-pattern-1-using-generic-sentiment-analysis",level:3},{value:"Anti-Pattern 2: Automated Responses Without Human Review",id:"anti-pattern-2-automated-responses-without-human-review",level:3},{value:"Anti-Pattern 3: Not Providing Immediate Resources",id:"anti-pattern-3-not-providing-immediate-resources",level:3},{value:"Anti-Pattern 4: Storing Crisis Data Insecurely",id:"anti-pattern-4-storing-crisis-data-insecurely",level:3},{value:"Anti-Pattern 5: No Escalation Protocol",id:"anti-pattern-5-no-escalation-protocol",level:3},{value:"Implementation Patterns",id:"implementation-patterns",level:2},{value:"Pattern 1: Multi-Signal Detection",id:"pattern-1-multi-signal-detection",level:3},{value:"Pattern 2: Safe Keyword Matching",id:"pattern-2-safe-keyword-matching",level:3},{value:"Pattern 3: GPT-4 Few-Shot Detection",id:"pattern-3-gpt-4-few-shot-detection",level:3},{value:"Production Checklist",id:"production-checklist",level:2},{value:"When to Use vs Avoid",id:"when-to-use-vs-avoid",level:2},{value:"References",id:"references-1",level:2},{value:"Scripts",id:"scripts",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"-crisis-detection-intervention-ai",children:"\ud83e\udd16 Crisis Detection Intervention Ai"})}),"\n",(0,t.jsx)(n.p,{children:'Detect crisis signals in user content using NLP, mental health sentiment analysis, and safe intervention protocols. Implements suicide ideation detection, automated escalation, and crisis resource integration. Use for mental health apps, recovery platforms, support communities. Activate on "crisis detection", "suicide prevention", "mental health NLP", "intervention protocol". NOT for general sentiment analysis, medical diagnosis, or replacing professional help.'}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"allowed-tools",children:"Allowed Tools"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Read, Write, Edit, Bash(npm:*)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"./references/crisis-resources",children:"Crisis Resources"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"./references/intervention-protocols",children:"Crisis Intervention Protocols"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"./references/mental-health-nlp",children:"Mental Health NLP Models"})}),"\n"]}),"\n",(0,t.jsx)(n.h1,{id:"crisis-detection--intervention-ai",children:"Crisis Detection & Intervention AI"}),"\n",(0,t.jsx)(n.p,{children:"Expert in detecting mental health crises and implementing safe, ethical intervention protocols."}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-ethical-disclaimer",children:"\u26a0\ufe0f ETHICAL DISCLAIMER"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"This skill assists with crisis detection, NOT crisis response"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["\u2705 ",(0,t.jsx)(n.strong,{children:"Appropriate uses"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Flagging concerning content for human review"}),"\n",(0,t.jsx)(n.li,{children:"Connecting users to professional resources"}),"\n",(0,t.jsx)(n.li,{children:"Escalating to crisis counselors"}),"\n",(0,t.jsx)(n.li,{children:"Providing immediate hotline information"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\u274c ",(0,t.jsx)(n.strong,{children:"NOT a substitute for"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Licensed therapists"}),"\n",(0,t.jsx)(n.li,{children:"Emergency services (911)"}),"\n",(0,t.jsx)(n.li,{children:"Medical diagnosis"}),"\n",(0,t.jsx)(n.li,{children:"Professional mental health treatment"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Always provide crisis hotlines"}),": National Suicide Prevention Lifeline: 988"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"when-to-use",children:"When to Use"}),"\n",(0,t.jsxs)(n.p,{children:["\u2705 ",(0,t.jsx)(n.strong,{children:"Use for"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Mental health journaling apps"}),"\n",(0,t.jsx)(n.li,{children:"Recovery community platforms"}),"\n",(0,t.jsx)(n.li,{children:"Support group monitoring"}),"\n",(0,t.jsx)(n.li,{children:"Online therapy platforms"}),"\n",(0,t.jsx)(n.li,{children:"Crisis text line integration"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\u274c ",(0,t.jsx)(n.strong,{children:"NOT for"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"General sentiment analysis (use standard tools)"}),"\n",(0,t.jsx)(n.li,{children:"Medical diagnosis (not qualified)"}),"\n",(0,t.jsx)(n.li,{children:"Automated responses without human review"}),"\n",(0,t.jsx)(n.li,{children:"Replacing professional crisis counselors"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"quick-decision-tree",children:"Quick Decision Tree"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Detected concerning content?\n\u251c\u2500\u2500 Immediate danger? \u2192 Escalate to crisis counselor + show 988\n\u251c\u2500\u2500 Suicidal ideation? \u2192 Flag for review + show resources\n\u251c\u2500\u2500 Substance relapse? \u2192 Connect to sponsor + resources\n\u251c\u2500\u2500 Self-harm mention? \u2192 Gentle check-in + resources\n\u2514\u2500\u2500 General distress? \u2192 Supportive response + resources\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"technology-selection",children:"Technology Selection"}),"\n",(0,t.jsx)(n.h3,{id:"nlp-models-for-mental-health-2024",children:"NLP Models for Mental Health (2024)"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Model"}),(0,t.jsx)(n.th,{children:"Best For"}),(0,t.jsx)(n.th,{children:"Accuracy"}),(0,t.jsx)(n.th,{children:"Latency"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"MentalBERT"}),(0,t.jsx)(n.td,{children:"Mental health text"}),(0,t.jsx)(n.td,{children:"89%"}),(0,t.jsx)(n.td,{children:"50ms"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"GPT-4 + Few-shot"}),(0,t.jsx)(n.td,{children:"Crisis detection"}),(0,t.jsx)(n.td,{children:"92%"}),(0,t.jsx)(n.td,{children:"200ms"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"RoBERTa-Mental"}),(0,t.jsx)(n.td,{children:"Depression detection"}),(0,t.jsx)(n.td,{children:"87%"}),(0,t.jsx)(n.td,{children:"40ms"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Custom Fine-tuned BERT"}),(0,t.jsx)(n.td,{children:"Domain-specific"}),(0,t.jsx)(n.td,{children:"90%+"}),(0,t.jsx)(n.td,{children:"60ms"})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Timeline"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"2019: BERT fine-tuned for mental health"}),"\n",(0,t.jsx)(n.li,{children:"2021: MentalBERT released"}),"\n",(0,t.jsx)(n.li,{children:"2023: GPT-4 shows strong zero-shot crisis detection"}),"\n",(0,t.jsx)(n.li,{children:"2024: Specialized models for specific conditions"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"common-anti-patterns",children:"Common Anti-Patterns"}),"\n",(0,t.jsx)(n.h3,{id:"anti-pattern-1-using-generic-sentiment-analysis",children:"Anti-Pattern 1: Using Generic Sentiment Analysis"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Novice thinking"}),': "Negative sentiment = crisis"']}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Problem"}),": Mental health language is nuanced, context-dependent."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Wrong approach"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u274c Generic sentiment misses mental health signals\nconst sentiment = analyzeSentiment(text);\n\nif (sentiment.score < -0.5) {\n  alertCrisis();  // Too broad!\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Why wrong"}),': "I\'m tired" vs "I\'m tired of living" - different meanings, same sentiment.']}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Correct approach"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Mental health-specific model\nimport { pipeline } from '@huggingface/transformers';\n\nconst detector = await pipeline('text-classification', 'mental/bert-base-uncased');\n\nconst result = await detector(text, {\n  labels: ['suicidal_ideation', 'self_harm', 'substance_relapse', 'safe']\n});\n\nif (result[0].label === 'suicidal_ideation' && result[0].score > 0.8) {\n  await escalateToCrisisCounselor({\n    text,\n    confidence: result[0].score,\n    timestamp: Date.now()\n  });\n\n  // IMMEDIATELY show crisis resources\n  showCrisisResources({\n    phone: '988',\n    text: 'Text \"HELLO\" to 741741',\n    chat: 'https://988lifeline.org/chat'\n  });\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Timeline context"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"2015: Rule-based keyword matching"}),"\n",(0,t.jsx)(n.li,{children:"2020: BERT fine-tuning for mental health"}),"\n",(0,t.jsx)(n.li,{children:"2024: Multi-label models with context understanding"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"anti-pattern-2-automated-responses-without-human-review",children:"Anti-Pattern 2: Automated Responses Without Human Review"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Problem"}),": AI cannot replace empathy, may escalate distress."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Wrong approach"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'// \u274c AI auto-responds to crisis\nif (isCrisis(text)) {\n  await sendMessage(userId, "I\'m concerned about you. Are you okay?");\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Why wrong"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Feels robotic, invalidating"}),"\n",(0,t.jsx)(n.li,{children:"May increase distress"}),"\n",(0,t.jsx)(n.li,{children:"No human judgment"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Correct approach"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Flag for human review, show resources\nif (isCrisis(text)) {\n  // 1. Flag for counselor review\n  await flagForReview({\n    userId,\n    text,\n    severity: 'high',\n    detectedAt: Date.now(),\n    requiresImmediate: true\n  });\n\n  // 2. Notify on-call counselor\n  await notifyOnCallCounselor({\n    userId,\n    summary: 'Suicidal ideation detected',\n    urgency: 'immediate'\n  });\n\n  // 3. Show resources (no AI message)\n  await showInAppResources({\n    type: 'crisis_support',\n    resources: [\n      { name: '988 Suicide & Crisis Lifeline', link: 'tel:988' },\n      { name: 'Crisis Text Line', link: 'sms:741741' },\n      { name: 'Chat Now', link: 'https://988lifeline.org/chat' }\n    ]\n  });\n\n  // 4. DO NOT send automated \"are you okay\" message\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Human review flow"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"AI Detection \u2192 Flag \u2192 On-call counselor notified \u2192 Human reaches out\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"anti-pattern-3-not-providing-immediate-resources",children:"Anti-Pattern 3: Not Providing Immediate Resources"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Problem"}),": User in crisis needs help NOW, not later."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Wrong approach"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u274c Just flags, no immediate help\nif (isCrisis(text)) {\n  await logCrisisEvent(userId, text);\n  // User left with no resources\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Correct approach"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Immediate resources + escalation\nif (isCrisis(text)) {\n  // Show resources IMMEDIATELY (blocking modal)\n  await showCrisisModal({\n    title: 'Resources Available',\n    resources: [\n      {\n        name: '988 Suicide & Crisis Lifeline',\n        description: 'Free, confidential support 24/7',\n        action: 'tel:988',\n        type: 'phone'\n      },\n      {\n        name: 'Crisis Text Line',\n        description: 'Text support with trained counselor',\n        action: 'sms:741741',\n        message: 'HELLO',\n        type: 'text'\n      },\n      {\n        name: 'Chat with counselor',\n        description: 'Online chat support',\n        action: 'https://988lifeline.org/chat',\n        type: 'web'\n      }\n    ],\n    dismissible: true,  // User can close, but resources shown first\n    analytics: { event: 'crisis_resources_shown', source: 'ai_detection' }\n  });\n\n  // Then flag for follow-up\n  await flagForReview({ userId, text, severity: 'high' });\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"anti-pattern-4-storing-crisis-data-insecurely",children:"Anti-Pattern 4: Storing Crisis Data Insecurely"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Problem"}),": Crisis content is extremely sensitive PHI."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Wrong approach"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u274c Plain text storage\nawait db.logs.insert({\n  userId: user.id,\n  type: 'crisis',\n  content: text,  // Stored in plain text!\n  timestamp: Date.now()\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Why wrong"}),": Data breach exposes most vulnerable moments."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Correct approach"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Encrypted, access-logged, auto-deleted\nimport { encrypt, decrypt } from './encryption';\n\nawait db.crisisEvents.insert({\n  id: generateId(),\n  userId: hashUserId(user.id),  // Hash, not plain ID\n  contentHash: hashContent(text),  // For deduplication only\n  encryptedContent: encrypt(text, process.env.CRISIS_DATA_KEY),\n  detectedAt: Date.now(),\n  reviewedAt: null,\n  reviewedBy: null,\n  autoDeleteAt: Date.now() + (30 * 24 * 60 * 60 * 1000),  // 30 days\n  accessLog: []\n});\n\n// Log all access\nawait logAccess({\n  eventId: crisisEvent.id,\n  accessedBy: counselorId,\n  accessedAt: Date.now(),\n  reason: 'Review for follow-up',\n  ipAddress: hashedIp\n});\n\n// Auto-delete after retention period\nschedule.daily(() => {\n  db.crisisEvents.deleteMany({\n    autoDeleteAt: { $lt: Date.now() }\n  });\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"HIPAA Requirements"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Encryption at rest and in transit"}),"\n",(0,t.jsx)(n.li,{children:"Access logging"}),"\n",(0,t.jsx)(n.li,{children:"Auto-deletion after retention period"}),"\n",(0,t.jsx)(n.li,{children:"Minimum necessary access"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"anti-pattern-5-no-escalation-protocol",children:"Anti-Pattern 5: No Escalation Protocol"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Problem"}),": No clear path from detection to human intervention."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Wrong approach"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u274c Flags crisis but no escalation process\nif (isCrisis(text)) {\n  await db.flags.insert({ userId, text, flaggedAt: Date.now() });\n  // Now what? Who responds?\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Correct approach"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Clear escalation protocol\nenum CrisisSeverity {\n  LOW = 'low',        // Distress, no immediate danger\n  MEDIUM = 'medium',  // Self-harm thoughts, no plan\n  HIGH = 'high',      // Suicidal ideation with plan\n  IMMEDIATE = 'immediate'  // Imminent danger\n}\n\nasync function escalateCrisis(detection: CrisisDetection): Promise<void> {\n  const severity = assessSeverity(detection);\n\n  switch (severity) {\n    case CrisisSeverity.IMMEDIATE:\n      // Notify on-call counselor (push notification)\n      await notifyOnCall({\n        userId: detection.userId,\n        severity,\n        requiresResponse: 'immediate',\n        text: detection.text\n      });\n\n      // Send SMS to backup on-call if no response in 5 min\n      setTimeout(async () => {\n        if (!await hasResponded(detection.id)) {\n          await notifyBackupOnCall(detection);\n        }\n      }, 5 * 60 * 1000);\n\n      // Show 988 modal (blocking)\n      await show988Modal(detection.userId);\n      break;\n\n    case CrisisSeverity.HIGH:\n      // Notify on-call counselor (email + push)\n      await notifyOnCall({ severity, requiresResponse: '1 hour' });\n\n      // Show crisis resources\n      await showCrisisResources(detection.userId);\n      break;\n\n    case CrisisSeverity.MEDIUM:\n      // Add to review queue for next business day\n      await addToReviewQueue({ priority: 'high' });\n\n      // Suggest self-help resources\n      await suggestResources(detection.userId, 'coping_strategies');\n      break;\n\n    case CrisisSeverity.LOW:\n      // Add to review queue\n      await addToReviewQueue({ priority: 'normal' });\n      break;\n  }\n\n  // Always log for audit\n  await logEscalation({\n    detectionId: detection.id,\n    severity,\n    actions: ['notified_on_call', 'showed_resources'],\n    timestamp: Date.now()\n  });\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"implementation-patterns",children:"Implementation Patterns"}),"\n",(0,t.jsx)(n.h3,{id:"pattern-1-multi-signal-detection",children:"Pattern 1: Multi-Signal Detection"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"interface CrisisSignal {\n  type: 'suicidal_ideation' | 'self_harm' | 'substance_relapse' | 'severe_distress';\n  confidence: number;\n  evidence: string[];\n}\n\nasync function detectCrisisSignals(text: string): Promise<CrisisSignal[]> {\n  const signals: CrisisSignal[] = [];\n\n  // Signal 1: NLP model\n  const nlpResult = await mentalHealthNLP(text);\n  if (nlpResult.score > 0.75) {\n    signals.push({\n      type: nlpResult.label,\n      confidence: nlpResult.score,\n      evidence: ['NLP model detection']\n    });\n  }\n\n  // Signal 2: Keyword matching (backup)\n  const keywords = detectKeywords(text);\n  if (keywords.length > 0) {\n    signals.push({\n      type: 'suicidal_ideation',\n      confidence: 0.6,\n      evidence: keywords\n    });\n  }\n\n  // Signal 3: Sentiment + context\n  const sentiment = await sentimentAnalysis(text);\n  const hasHopelessness = /no (hope|point|reason|future)/i.test(text);\n\n  if (sentiment.score < -0.8 && hasHopelessness) {\n    signals.push({\n      type: 'severe_distress',\n      confidence: 0.7,\n      evidence: ['Extreme negative sentiment + hopelessness language']\n    });\n  }\n\n  return signals;\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"pattern-2-safe-keyword-matching",children:"Pattern 2: Safe Keyword Matching"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"const CRISIS_KEYWORDS = {\n  suicidal_ideation: [\n    /\\b(kill|end|take)\\s+(my|own)\\s+life\\b/i,\n    /\\bsuicide\\b/i,\n    /\\bdon'?t\\s+want\\s+to\\s+(live|be here|exist)\\b/i,\n    /\\bbetter off dead\\b/i\n  ],\n  self_harm: [\n    /\\b(cut|cutting|hurt)\\s+(myself|me)\\b/i,\n    /\\bself[- ]harm\\b/i\n  ],\n  substance_relapse: [\n    /\\b(relapsed|used|drank)\\s+(again|today)\\b/i,\n    /\\bback on\\s+(drugs|alcohol)\\b/i\n  ]\n};\n\nfunction detectKeywords(text: string): string[] {\n  const matches: string[] = [];\n\n  for (const [type, patterns] of Object.entries(CRISIS_KEYWORDS)) {\n    for (const pattern of patterns) {\n      if (pattern.test(text)) {\n        matches.push(type);\n      }\n    }\n  }\n\n  return [...new Set(matches)];  // Deduplicate\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"pattern-3-gpt-4-few-shot-detection",children:"Pattern 3: GPT-4 Few-Shot Detection"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import Anthropic from \'@anthropic-ai/sdk\';\n\nconst client = new Anthropic({ apiKey: process.env.ANTHROPIC_API_KEY });\n\nasync function detectWithClaude(text: string): Promise<CrisisDetection> {\n  const response = await client.messages.create({\n    model: \'claude-3-5-sonnet-20241022\',\n    max_tokens: 200,\n    messages: [{\n      role: \'user\',\n      content: `You are a mental health crisis detection system. Analyze this text for crisis signals.\n\nText: "${text}"\n\nRespond in JSON:\n{\n  "is_crisis": boolean,\n  "severity": "none" | "low" | "medium" | "high" | "immediate",\n  "signals": ["suicidal_ideation" | "self_harm" | "substance_relapse"],\n  "confidence": 0.0-1.0,\n  "reasoning": "brief explanation"\n}\n\nExamples:\n- "I\'m thinking about ending it all" \u2192 { "is_crisis": true, "severity": "high", "signals": ["suicidal_ideation"], "confidence": 0.95 }\n- "I relapsed today, feeling ashamed" \u2192 { "is_crisis": true, "severity": "medium", "signals": ["substance_relapse"], "confidence": 0.9 }\n- "Had a tough day at work" \u2192 { "is_crisis": false, "severity": "none", "signals": [], "confidence": 0.95 }`\n    }]\n  });\n\n  const result = JSON.parse(response.content[0].text);\n  return result;\n}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"production-checklist",children:"Production Checklist"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u25a1 Mental health-specific NLP model (not generic sentiment)\n\u25a1 Human review required before automated action\n\u25a1 Crisis resources shown IMMEDIATELY (988, text line)\n\u25a1 Clear escalation protocol (severity-based)\n\u25a1 Encrypted storage of crisis content\n\u25a1 Access logging for all crisis data access\n\u25a1 Auto-deletion after retention period (30 days)\n\u25a1 On-call counselor notification system\n\u25a1 Backup notification if no response\n\u25a1 False positive tracking (improve model)\n\u25a1 Regular model evaluation with experts\n\u25a1 Ethics review board approval\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"when-to-use-vs-avoid",children:"When to Use vs Avoid"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Scenario"}),(0,t.jsx)(n.th,{children:"Appropriate?"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Journaling app for recovery"}),(0,t.jsx)(n.td,{children:"\u2705 Yes - monitor for relapses"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Support group chat"}),(0,t.jsx)(n.td,{children:"\u2705 Yes - flag concerning posts"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Therapy platform messages"}),(0,t.jsx)(n.td,{children:"\u2705 Yes - assist therapists"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Public social media"}),(0,t.jsx)(n.td,{children:"\u274c No - privacy concerns"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Replace human counselors"}),(0,t.jsx)(n.td,{children:"\u274c Never - AI assists, doesn't replace"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Medical diagnosis"}),(0,t.jsx)(n.td,{children:"\u274c Never - not qualified"})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"references-1",children:"References"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/references/mental-health-nlp.md"})," - NLP models for mental health"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/references/intervention-protocols.md"})," - Evidence-based intervention strategies"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/references/crisis-resources.md"})," - Hotlines, text lines, and support services"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"scripts",children:"Scripts"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"scripts/crisis_detector.ts"})," - Real-time crisis detection system"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"scripts/model_evaluator.ts"})," - Evaluate detection accuracy with test cases"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"This skill guides"}),": Crisis detection | Mental health NLP | Intervention protocols | Suicide prevention | HIPAA compliance | Ethical AI"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);