"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[96119],{2646:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"skills/webapp_testing/index","title":"\u2705 Webapp Testing","description":"Toolkit for interacting with and testing local web applications using Playwright. Supports verifying frontend functionality, debugging UI behavior, capturing browser screenshots, and viewing browser logs. Activate on: Playwright, webapp testing, browser automation, E2E testing, UI testing. NOT for API-only testing without browser, unit tests, or mobile app testing.","source":"@site/docs/skills/webapp_testing/index.md","sourceDirName":"skills/webapp_testing","slug":"/skills/webapp_testing/","permalink":"/docs/skills/webapp_testing/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Webapp Testing","sidebar_position":1}}');var i=t(74848),r=t(28453);const o={sidebar_label:"Webapp Testing",sidebar_position:1},a="\u2705 Webapp Testing",l={},c=[{value:"Allowed Tools",id:"allowed-tools",level:2},{value:"Tags",id:"tags",level:2},{value:"\ud83e\udd1d Pairs Great With",id:"-pairs-great-with",level:2},{value:"When to Use",id:"when-to-use",level:2},{value:"Decision Tree: Choosing Your Approach",id:"decision-tree-choosing-your-approach",level:2},{value:"Core Playwright Patterns",id:"core-playwright-patterns",level:2},{value:"Basic Test Structure",id:"basic-test-structure",level:3},{value:"Reconnaissance-Then-Action Pattern",id:"reconnaissance-then-action-pattern",level:3},{value:"Selector Strategy (Priority Order)",id:"selector-strategy-priority-order",level:2},{value:"Common Anti-Patterns",id:"common-anti-patterns",level:2},{value:"Anti-Pattern: Not Waiting for Network Idle",id:"anti-pattern-not-waiting-for-network-idle",level:3},{value:"Anti-Pattern: Hardcoded Waits",id:"anti-pattern-hardcoded-waits",level:3},{value:"Anti-Pattern: Inspecting DOM Before JavaScript Executes",id:"anti-pattern-inspecting-dom-before-javascript-executes",level:3},{value:"Waiting Strategies",id:"waiting-strategies",level:2},{value:"Screenshot Patterns",id:"screenshot-patterns",level:2},{value:"Console Log Capture",id:"console-log-capture",level:2},{value:"Form Testing",id:"form-testing",level:2},{value:"Assertions",id:"assertions",level:2},{value:"Multi-Page Scenarios",id:"multi-page-scenarios",level:2},{value:"Test File Organization",id:"test-file-organization",level:2},{value:"Running Tests",id:"running-tests",level:2},{value:"Best Practices",id:"best-practices",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"-webapp-testing",children:"\u2705 Webapp Testing"})}),"\n",(0,i.jsx)(n.p,{children:"Toolkit for interacting with and testing local web applications using Playwright. Supports verifying frontend functionality, debugging UI behavior, capturing browser screenshots, and viewing browser logs. Activate on: Playwright, webapp testing, browser automation, E2E testing, UI testing. NOT for API-only testing without browser, unit tests, or mobile app testing."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"allowed-tools",children:"Allowed Tools"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Read, Write, Edit, Bash, Glob, Grep\n"})}),"\n",(0,i.jsx)(n.h2,{id:"tags",children:"Tags"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"playwright"})," ",(0,i.jsx)(n.code,{children:"e2e"})," ",(0,i.jsx)(n.code,{children:"browser"})," ",(0,i.jsx)(n.code,{children:"automation"})," ",(0,i.jsx)(n.code,{children:"ui-testing"})]}),"\n",(0,i.jsx)(n.h2,{id:"-pairs-great-with",children:"\ud83e\udd1d Pairs Great With"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/skills/test_automation_expert",children:"Test Automation Expert"})}),": Comprehensive testing strategy"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/skills/site_reliability_engineer",children:"Site Reliability Engineer"})}),": Validate deployed web apps"]}),"\n"]}),"\n",(0,i.jsx)(n.h1,{id:"web-application-testing",children:"Web Application Testing"}),"\n",(0,i.jsx)(n.p,{children:"Write native Python Playwright scripts to test local web applications."}),"\n",(0,i.jsx)(n.h2,{id:"when-to-use",children:"When to Use"}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Use for:"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"E2E testing of web applications"}),"\n",(0,i.jsx)(n.li,{children:"UI automation and interaction testing"}),"\n",(0,i.jsx)(n.li,{children:"Visual regression testing"}),"\n",(0,i.jsx)(n.li,{children:"Browser log capture and debugging"}),"\n",(0,i.jsx)(n.li,{children:"Screenshot capture for verification"}),"\n",(0,i.jsx)(n.li,{children:"Form submission and validation testing"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u274c ",(0,i.jsx)(n.strong,{children:"NOT for:"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"API-only testing without a browser (use requests/httpx)"}),"\n",(0,i.jsx)(n.li,{children:"Unit testing of individual functions"}),"\n",(0,i.jsx)(n.li,{children:"Mobile app testing (use Appium)"}),"\n",(0,i.jsx)(n.li,{children:"Load/performance testing (use k6/Locust)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"decision-tree-choosing-your-approach",children:"Decision Tree: Choosing Your Approach"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"User task \u2192 Is it static HTML?\n    \u251c\u2500 Yes \u2192 Read HTML file directly to identify selectors\n    \u2502         \u251c\u2500 Success \u2192 Write Playwright script using selectors\n    \u2502         \u2514\u2500 Fails/Incomplete \u2192 Treat as dynamic (below)\n    \u2502\n    \u2514\u2500 No (dynamic webapp) \u2192 Is the server already running?\n        \u251c\u2500 No \u2192 Start server first, then run Playwright\n        \u2502\n        \u2514\u2500 Yes \u2192 Reconnaissance-then-action:\n            1. Navigate and wait for networkidle\n            2. Take screenshot or inspect DOM\n            3. Identify selectors from rendered state\n            4. Execute actions with discovered selectors\n"})}),"\n",(0,i.jsx)(n.h2,{id:"core-playwright-patterns",children:"Core Playwright Patterns"}),"\n",(0,i.jsx)(n.h3,{id:"basic-test-structure",children:"Basic Test Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from playwright.sync_api import sync_playwright\n\nwith sync_playwright() as p:\n    browser = p.chromium.launch(headless=True)  # Always headless\n    page = browser.new_page()\n    page.goto('http://localhost:5173')\n    page.wait_for_load_state('networkidle')  # CRITICAL for SPAs\n\n    # ... your test logic\n\n    browser.close()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"reconnaissance-then-action-pattern",children:"Reconnaissance-Then-Action Pattern"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Step 1: Inspect rendered DOM"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"page.screenshot(path='/tmp/inspect.png', full_page=True)\ncontent = page.content()\nbuttons = page.locator('button').all()\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Step 2: Identify selectors"})," from inspection results"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Step 3: Execute actions"})," using discovered selectors"]}),"\n",(0,i.jsx)(n.h2,{id:"selector-strategy-priority-order",children:"Selector Strategy (Priority Order)"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Role-based"})," (best for accessibility):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'page.get_by_role("button", name="Submit")\npage.get_by_role("textbox", name="Email")\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Text-based"})," (readable, but fragile to copy changes):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'page.get_by_text("Sign In")\npage.get_by_label("Password")\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Test IDs"})," (stable, explicit):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'page.get_by_test_id("login-button")\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"CSS selectors"})," (last resort):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'page.locator(".btn-primary")\npage.locator("#submit-form")\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"common-anti-patterns",children:"Common Anti-Patterns"}),"\n",(0,i.jsx)(n.h3,{id:"anti-pattern-not-waiting-for-network-idle",children:"Anti-Pattern: Not Waiting for Network Idle"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom"}),": Tests pass locally, fail in CI; elements not found"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem"}),": Modern SPAs load content dynamically after initial page load"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \u274c Wrong\npage.goto('http://localhost:3000')\npage.click('button')  # Element may not exist yet\n\n# \u2705 Correct\npage.goto('http://localhost:3000')\npage.wait_for_load_state('networkidle')\npage.click('button')\n"})}),"\n",(0,i.jsx)(n.h3,{id:"anti-pattern-hardcoded-waits",children:"Anti-Pattern: Hardcoded Waits"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom"}),": ",(0,i.jsx)(n.code,{children:"time.sleep(3)"})," scattered throughout tests"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem"}),": Slow, unreliable, doesn't adapt to actual page state"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \u274c Wrong\ntime.sleep(5)\npage.click('.dynamic-button')\n\n# \u2705 Correct\npage.wait_for_selector('.dynamic-button', state='visible')\npage.click('.dynamic-button')\n"})}),"\n",(0,i.jsx)(n.h3,{id:"anti-pattern-inspecting-dom-before-javascript-executes",children:"Anti-Pattern: Inspecting DOM Before JavaScript Executes"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom"}),": Empty page content, missing elements in static analysis"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem"}),": Reading HTML before client-side rendering completes"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),": Always wait for ",(0,i.jsx)(n.code,{children:"networkidle"})," on dynamic apps before inspection"]}),"\n",(0,i.jsx)(n.h2,{id:"waiting-strategies",children:"Waiting Strategies"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Wait for element to appear\npage.wait_for_selector('#my-element')\n\n# Wait for element to be visible\npage.wait_for_selector('#my-element', state='visible')\n\n# Wait for element to be hidden\npage.wait_for_selector('#my-element', state='hidden')\n\n# Wait for navigation\npage.wait_for_url('**/dashboard')\n\n# Wait for network idle (all requests complete)\npage.wait_for_load_state('networkidle')\n\n# Custom wait with timeout\npage.wait_for_function('document.querySelector(\".loaded\")')\n"})}),"\n",(0,i.jsx)(n.h2,{id:"screenshot-patterns",children:"Screenshot Patterns"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Full page screenshot\npage.screenshot(path='/tmp/full.png', full_page=True)\n\n# Element screenshot\npage.locator('#header').screenshot(path='/tmp/header.png')\n\n# Before/after comparison\npage.screenshot(path='/tmp/before.png')\n# ... perform action ...\npage.screenshot(path='/tmp/after.png')\n"})}),"\n",(0,i.jsx)(n.h2,{id:"console-log-capture",children:"Console Log Capture"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Capture all console messages\nmessages = []\npage.on('console', lambda msg: messages.append({\n    'type': msg.type,\n    'text': msg.text\n}))\n\n# Filter errors only\npage.on('console', lambda msg:\n    print(f'ERROR: {msg.text}') if msg.type == 'error' else None\n)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"form-testing",children:"Form Testing"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Fill form fields\npage.fill('#email', 'test@example.com')\npage.fill('#password', 'secret123')\n\n# Select dropdown\npage.select_option('#country', 'US')\n\n# Check checkbox\npage.check('#terms')\n\n# Submit form\npage.click('button[type=\"submit\"]')\n\n# Verify submission\npage.wait_for_url('**/success')\n"})}),"\n",(0,i.jsx)(n.h2,{id:"assertions",children:"Assertions"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from playwright.sync_api import expect\n\n# Element assertions\nexpect(page.locator('#title')).to_have_text('Welcome')\nexpect(page.locator('#count')).to_have_text('5')\nexpect(page.locator('.error')).to_be_hidden()\nexpect(page.locator('#submit')).to_be_enabled()\n\n# Page assertions\nexpect(page).to_have_url('http://localhost:3000/dashboard')\nexpect(page).to_have_title('My App')\n"})}),"\n",(0,i.jsx)(n.h2,{id:"multi-page-scenarios",children:"Multi-Page Scenarios"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Handle popup windows\nwith page.expect_popup() as popup_info:\n    page.click('#open-popup')\npopup = popup_info.value\npopup.wait_for_load_state()\n\n# Handle new tabs\nwith context.expect_page() as new_page_info:\n    page.click('a[target=\"_blank\"]')\nnew_page = new_page_info.value\n"})}),"\n",(0,i.jsx)(n.h2,{id:"test-file-organization",children:"Test File Organization"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"tests/\n\u251c\u2500\u2500 conftest.py          # Shared fixtures\n\u251c\u2500\u2500 test_login.py        # Login flows\n\u251c\u2500\u2500 test_dashboard.py    # Dashboard features\n\u251c\u2500\u2500 test_forms.py        # Form submissions\n\u2514\u2500\u2500 screenshots/         # Visual artifacts\n"})}),"\n",(0,i.jsx)(n.h2,{id:"running-tests",children:"Running Tests"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Run single test file\npython -m pytest tests/test_login.py\n\n# Run with browser visible (debugging)\nPWDEBUG=1 python -m pytest tests/test_login.py\n\n# Generate trace for debugging\npython -m pytest --tracing=on tests/test_login.py\n"})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:["Use ",(0,i.jsx)(n.code,{children:"sync_playwright()"})]})," for synchronous scripts"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Always close the browser"})," when done"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use descriptive selectors"}),": role, text, test-id over CSS"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Add appropriate waits"}),": ",(0,i.jsx)(n.code,{children:"wait_for_selector()"}),", ",(0,i.jsx)(n.code,{children:"wait_for_load_state()"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Capture screenshots on failure"})," for debugging"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Keep tests independent"})," - each test should set up its own state"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"This skill encodes"}),": Playwright best practices | Selector strategies | Wait patterns | Anti-pattern prevention | E2E testing workflows"]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(96540);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);